function dI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _w={exports:{}},Sc={},Ew={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),fI=Symbol.for("react.portal"),pI=Symbol.for("react.fragment"),mI=Symbol.for("react.strict_mode"),gI=Symbol.for("react.profiler"),yI=Symbol.for("react.provider"),vI=Symbol.for("react.context"),xI=Symbol.for("react.forward_ref"),wI=Symbol.for("react.suspense"),_I=Symbol.for("react.memo"),EI=Symbol.for("react.lazy"),Vy=Symbol.iterator;function TI(t){return t===null||typeof t!="object"?null:(t=Vy&&t[Vy]||t["@@iterator"],typeof t=="function"?t:null)}var Tw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bw=Object.assign,Sw={};function ro(t,e,n){this.props=t,this.context=e,this.refs=Sw,this.updater=n||Tw}ro.prototype.isReactComponent={};ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Iw(){}Iw.prototype=ro.prototype;function gp(t,e,n){this.props=t,this.context=e,this.refs=Sw,this.updater=n||Tw}var yp=gp.prototype=new Iw;yp.constructor=gp;bw(yp,ro.prototype);yp.isPureReactComponent=!0;var My=Array.isArray,kw=Object.prototype.hasOwnProperty,vp={current:null},Pw={key:!0,ref:!0,__self:!0,__source:!0};function Cw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kw.call(e,r)&&!Pw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:za,type:t,key:i,ref:o,props:s,_owner:vp.current}}function bI(t,e){return{$$typeof:za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xp(t){return typeof t=="object"&&t!==null&&t.$$typeof===za}function SI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Oy=/\/+/g;function Vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SI(""+t.key):e.toString(36)}function ru(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case za:case fI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vd(o,0):r,My(s)?(n="",t!=null&&(n=t.replace(Oy,"$&/")+"/"),ru(s,e,n,"",function(c){return c})):s!=null&&(xp(s)&&(s=bI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Oy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",My(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Vd(i,a);o+=ru(i,e,n,u,s)}else if(u=TI(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Vd(i,a++),o+=ru(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cl(t,e,n){if(t==null)return t;var r=[],s=0;return ru(t,r,"","",function(i){return e.call(n,i,s++)}),r}function II(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},su={transition:null},kI={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:su,ReactCurrentOwner:vp};function Aw(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Cl,forEach:function(t,e,n){Cl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cl(t,function(){e++}),e},toArray:function(t){return Cl(t,function(e){return e})||[]},only:function(t){if(!xp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=ro;ae.Fragment=pI;ae.Profiler=gI;ae.PureComponent=gp;ae.StrictMode=mI;ae.Suspense=wI;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kI;ae.act=Aw;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)kw.call(e,u)&&!Pw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:za,type:t.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:vI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yI,_context:t},t.Consumer=t};ae.createElement=Cw;ae.createFactory=function(t){var e=Cw.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:xI,render:t}};ae.isValidElement=xp;ae.lazy=function(t){return{$$typeof:EI,_payload:{_status:-1,_result:t},_init:II}};ae.memo=function(t,e){return{$$typeof:_I,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=su.transition;su.transition={};try{t()}finally{su.transition=e}};ae.unstable_act=Aw;ae.useCallback=function(t,e){return kt.current.useCallback(t,e)};ae.useContext=function(t){return kt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return kt.current.useEffect(t,e)};ae.useId=function(){return kt.current.useId()};ae.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return kt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ae.useRef=function(t){return kt.current.useRef(t)};ae.useState=function(t){return kt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return kt.current.useTransition()};ae.version="18.3.1";Ew.exports=ae;var N=Ew.exports;const Qr=hI(N),PI=dI({__proto__:null,default:Qr},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI=N,AI=Symbol.for("react.element"),NI=Symbol.for("react.fragment"),RI=Object.prototype.hasOwnProperty,jI=CI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DI={key:!0,ref:!0,__self:!0,__source:!0};function Nw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RI.call(e,r)&&!DI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:AI,type:t,key:i,ref:o,props:s,_owner:jI.current}}Sc.Fragment=NI;Sc.jsx=Nw;Sc.jsxs=Nw;_w.exports=Sc;var d=_w.exports,Mh={},Rw={exports:{}},qt={},jw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,W){var O=z.length;z.push(W);e:for(;0<O;){var H=O-1>>>1,q=z[H];if(0<s(q,W))z[H]=W,z[O]=q,O=H;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],O=z.pop();if(O!==W){z[0]=O;e:for(var H=0,q=z.length,ee=q>>>1;H<ee;){var ie=2*(H+1)-1,Se=z[ie],Qe=ie+1,wt=z[Qe];if(0>s(Se,O))Qe<q&&0>s(wt,Se)?(z[H]=wt,z[Qe]=O,H=Qe):(z[H]=Se,z[ie]=O,H=ie);else if(Qe<q&&0>s(wt,O))z[H]=wt,z[Qe]=O,H=Qe;else break e}}return W}function s(z,W){var O=z.sortIndex-W.sortIndex;return O!==0?O:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,m=3,y=!1,T=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=z)r(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(c)}}function C(z){if(_=!1,w(z),!T)if(n(u)!==null)T=!0,me(V);else{var W=n(c);W!==null&&de(C,W.startTime-z)}}function V(z,W){T=!1,_&&(_=!1,v(E),E=-1),y=!0;var O=m;try{for(w(W),f=n(u);f!==null&&(!(f.expirationTime>W)||z&&!R());){var H=f.callback;if(typeof H=="function"){f.callback=null,m=f.priorityLevel;var q=H(f.expirationTime<=W);W=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(u)&&r(u),w(W)}else r(u);f=n(u)}if(f!==null)var ee=!0;else{var ie=n(c);ie!==null&&de(C,ie.startTime-W),ee=!1}return ee}finally{f=null,m=O,y=!1}}var M=!1,k=null,E=-1,S=5,P=-1;function R(){return!(t.unstable_now()-P<S)}function j(){if(k!==null){var z=t.unstable_now();P=z;var W=!0;try{W=k(!0,z)}finally{W?A():(M=!1,k=null)}}else M=!1}var A;if(typeof x=="function")A=function(){x(j)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Me=se.port2;se.port1.onmessage=j,A=function(){Me.postMessage(null)}}else A=function(){I(j,0)};function me(z){k=z,M||(M=!0,A())}function de(z,W){E=I(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,me(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var O=m;m=W;try{return z()}finally{m=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var O=m;m=z;try{return W()}finally{m=O}},t.unstable_scheduleCallback=function(z,W,O){var H=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?H+O:H):O=H,z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=O+q,z={id:h++,callback:W,priorityLevel:z,startTime:O,expirationTime:q,sortIndex:-1},O>H?(z.sortIndex=O,e(c,z),n(u)===null&&z===n(c)&&(_?(v(E),E=-1):_=!0,de(C,O-H))):(z.sortIndex=q,e(u,z),T||y||(T=!0,me(V))),z},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(z){var W=m;return function(){var O=m;m=W;try{return z.apply(this,arguments)}finally{m=O}}}})(Dw);jw.exports=Dw;var VI=jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MI=N,Ht=VI;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vw=new Set,fa={};function Gs(t,e){Li(t,e),Li(t+"Capture",e)}function Li(t,e){for(fa[t]=e,t=0;t<e.length;t++)Vw.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=Object.prototype.hasOwnProperty,OI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ly={},Fy={};function LI(t){return Oh.call(Fy,t)?!0:Oh.call(Ly,t)?!1:OI.test(t)?Fy[t]=!0:(Ly[t]=!0,!1)}function FI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UI(t,e,n,r){if(e===null||typeof e>"u"||FI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var wp=/[\-:]([a-z])/g;function _p(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wp,_p);ot[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wp,_p);ot[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wp,_p);ot[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ep(t,e,n,r){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UI(e,n,s,r)&&(n=null),r||s===null?LI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=MI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),hi=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Mw=Symbol.for("react.provider"),Ow=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),Uh=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),Lw=Symbol.for("react.offscreen"),Uy=Symbol.iterator;function ko(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Md;function Lo(t){if(Md===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Md=e&&e[1]||""}return`
`+Md+t}var Od=!1;function Ld(t,e){if(!t||Od)return"";Od=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Od=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lo(t):""}function BI(t){switch(t.tag){case 5:return Lo(t.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return t=Ld(t.type,!1),t;case 11:return t=Ld(t.type.render,!1),t;case 1:return t=Ld(t.type,!0),t;default:return""}}function Bh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fi:return"Fragment";case hi:return"Portal";case Lh:return"Profiler";case Tp:return"StrictMode";case Fh:return"Suspense";case Uh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ow:return(t.displayName||"Context")+".Consumer";case Mw:return(t._context.displayName||"Context")+".Provider";case bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sp:return e=t.displayName||null,e!==null?e:Bh(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Bh(t(e))}catch{}}return null}function zI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bh(e);case 8:return e===Tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $I(t){var e=Fw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nl(t){t._valueTracker||(t._valueTracker=$I(t))}function Uw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ku(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zh(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function By(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bw(t,e){e=e.checked,e!=null&&Ep(t,"checked",e,!1)}function $h(t,e){Bw(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hh(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hh(t,e,n){(e!=="number"||ku(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fo=Array.isArray;function Pi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Wh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $y(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Fo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function zw(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $w(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$w(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,Hw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HI=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){HI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function Ww(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function qw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ww(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var WI=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gh(t,e){if(e){if(WI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=null;function Ip(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yh=null,Ci=null,Ai=null;function Wy(t){if(t=Wa(t)){if(typeof Yh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Ac(e),Yh(t.stateNode,t.type,e))}}function Gw(t){Ci?Ai?Ai.push(t):Ai=[t]:Ci=t}function Kw(){if(Ci){var t=Ci,e=Ai;if(Ai=Ci=null,Wy(t),e)for(t=0;t<e.length;t++)Wy(e[t])}}function Qw(t,e){return t(e)}function Yw(){}var Fd=!1;function Xw(t,e,n){if(Fd)return t(e,n);Fd=!0;try{return Qw(t,e,n)}finally{Fd=!1,(Ci!==null||Ai!==null)&&(Yw(),Kw())}}function ma(t,e){var n=t.stateNode;if(n===null)return null;var r=Ac(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Xh=!1;if(Jn)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Xh=!1}function qI(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Qo=!1,Pu=null,Cu=!1,Jh=null,GI={onError:function(t){Qo=!0,Pu=t}};function KI(t,e,n,r,s,i,o,a,u){Qo=!1,Pu=null,qI.apply(GI,arguments)}function QI(t,e,n,r,s,i,o,a,u){if(KI.apply(this,arguments),Qo){if(Qo){var c=Pu;Qo=!1,Pu=null}else throw Error(B(198));Cu||(Cu=!0,Jh=c)}}function Ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qy(t){if(Ks(t)!==t)throw Error(B(188))}function YI(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qy(s),t;if(i===r)return qy(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Zw(t){return t=YI(t),t!==null?e_(t):null}function e_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e_(t);if(e!==null)return e;t=t.sibling}return null}var t_=Ht.unstable_scheduleCallback,Gy=Ht.unstable_cancelCallback,XI=Ht.unstable_shouldYield,JI=Ht.unstable_requestPaint,Le=Ht.unstable_now,ZI=Ht.unstable_getCurrentPriorityLevel,kp=Ht.unstable_ImmediatePriority,n_=Ht.unstable_UserBlockingPriority,Au=Ht.unstable_NormalPriority,ek=Ht.unstable_LowPriority,r_=Ht.unstable_IdlePriority,Ic=null,bn=null;function tk(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ic,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:sk,nk=Math.log,rk=Math.LN2;function sk(t){return t>>>=0,t===0?32:31-(nk(t)/rk|0)|0}var jl=64,Dl=4194304;function Uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Uo(a):(i&=o,i!==0&&(r=Uo(i)))}else o=n&~s,o!==0?r=Uo(o):i!==0&&(r=Uo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),s=1<<n,r|=t[n],e&=~s;return r}function ik(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ok(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=ik(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Zh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s_(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function Ud(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $a(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function ak(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ge=0;function i_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o_,Cp,a_,l_,u_,ef=!1,Vl=[],jr=null,Dr=null,Vr=null,ga=new Map,ya=new Map,br=[],lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ky(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(e.pointerId)}}function Co(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wa(e),e!==null&&Cp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function uk(t,e,n,r,s){switch(e){case"focusin":return jr=Co(jr,t,e,n,r,s),!0;case"dragenter":return Dr=Co(Dr,t,e,n,r,s),!0;case"mouseover":return Vr=Co(Vr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ga.set(i,Co(ga.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ya.set(i,Co(ya.get(i)||null,t,e,n,r,s)),!0}return!1}function c_(t){var e=bs(t.target);if(e!==null){var n=Ks(e);if(n!==null){if(e=n.tag,e===13){if(e=Jw(n),e!==null){t.blockedOn=e,u_(t.priority,function(){a_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qh=r,n.target.dispatchEvent(r),Qh=null}else return e=Wa(n),e!==null&&Cp(e),t.blockedOn=n,!1;e.shift()}return!0}function Qy(t,e,n){iu(t)&&n.delete(e)}function ck(){ef=!1,jr!==null&&iu(jr)&&(jr=null),Dr!==null&&iu(Dr)&&(Dr=null),Vr!==null&&iu(Vr)&&(Vr=null),ga.forEach(Qy),ya.forEach(Qy)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,ef||(ef=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,ck)))}function va(t){function e(s){return Ao(s,t)}if(0<Vl.length){Ao(Vl[0],t);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jr!==null&&Ao(jr,t),Dr!==null&&Ao(Dr,t),Vr!==null&&Ao(Vr,t),ga.forEach(e),ya.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)c_(n),n.blockedOn===null&&br.shift()}var Ni=ar.ReactCurrentBatchConfig,Ru=!0;function dk(t,e,n,r){var s=ge,i=Ni.transition;Ni.transition=null;try{ge=1,Ap(t,e,n,r)}finally{ge=s,Ni.transition=i}}function hk(t,e,n,r){var s=ge,i=Ni.transition;Ni.transition=null;try{ge=4,Ap(t,e,n,r)}finally{ge=s,Ni.transition=i}}function Ap(t,e,n,r){if(Ru){var s=tf(t,e,n,r);if(s===null)Yd(t,e,r,ju,n),Ky(t,r);else if(uk(s,t,e,n,r))r.stopPropagation();else if(Ky(t,r),e&4&&-1<lk.indexOf(t)){for(;s!==null;){var i=Wa(s);if(i!==null&&o_(i),i=tf(t,e,n,r),i===null&&Yd(t,e,r,ju,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yd(t,e,r,null,n)}}var ju=null;function tf(t,e,n,r){if(ju=null,t=Ip(r),t=bs(t),t!==null)if(e=Ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ju=t,null}function d_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZI()){case kp:return 1;case n_:return 4;case Au:case ek:return 16;case r_:return 536870912;default:return 16}default:return 16}}var Cr=null,Np=null,ou=null;function h_(){if(ou)return ou;var t,e=Np,n=e.length,r,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ou=s.slice(t,1<r?1-r:void 0)}function au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function Yy(){return!1}function Gt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ml:Yy,this.isPropagationStopped=Yy,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=Gt(so),Ha=Ne({},so,{view:0,detail:0}),fk=Gt(Ha),Bd,zd,No,kc=Ne({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==No&&(No&&t.type==="mousemove"?(Bd=t.screenX-No.screenX,zd=t.screenY-No.screenY):zd=Bd=0,No=t),Bd)},movementY:function(t){return"movementY"in t?t.movementY:zd}}),Xy=Gt(kc),pk=Ne({},kc,{dataTransfer:0}),mk=Gt(pk),gk=Ne({},Ha,{relatedTarget:0}),$d=Gt(gk),yk=Ne({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),vk=Gt(yk),xk=Ne({},so,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wk=Gt(xk),_k=Ne({},so,{data:0}),Jy=Gt(_k),Ek={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bk[t])?!!e[t]:!1}function jp(){return Sk}var Ik=Ne({},Ha,{key:function(t){if(t.key){var e=Ek[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(t){return t.type==="keypress"?au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kk=Gt(Ik),Pk=Ne({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zy=Gt(Pk),Ck=Ne({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),Ak=Gt(Ck),Nk=Ne({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rk=Gt(Nk),jk=Ne({},kc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dk=Gt(jk),Vk=[9,13,27,32],Dp=Jn&&"CompositionEvent"in window,Yo=null;Jn&&"documentMode"in document&&(Yo=document.documentMode);var Mk=Jn&&"TextEvent"in window&&!Yo,f_=Jn&&(!Dp||Yo&&8<Yo&&11>=Yo),ev=" ",tv=!1;function p_(t,e){switch(t){case"keyup":return Vk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function Ok(t,e){switch(t){case"compositionend":return m_(e);case"keypress":return e.which!==32?null:(tv=!0,ev);case"textInput":return t=e.data,t===ev&&tv?null:t;default:return null}}function Lk(t,e){if(pi)return t==="compositionend"||!Dp&&p_(t,e)?(t=h_(),ou=Np=Cr=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f_&&e.locale!=="ko"?null:e.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Fk[t.type]:e==="textarea"}function g_(t,e,n,r){Gw(r),e=Du(e,"onChange"),0<e.length&&(n=new Rp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xo=null,xa=null;function Uk(t){k_(t,0)}function Pc(t){var e=yi(t);if(Uw(e))return t}function Bk(t,e){if(t==="change")return e}var y_=!1;if(Jn){var Hd;if(Jn){var Wd="oninput"in document;if(!Wd){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Wd=typeof rv.oninput=="function"}Hd=Wd}else Hd=!1;y_=Hd&&(!document.documentMode||9<document.documentMode)}function sv(){Xo&&(Xo.detachEvent("onpropertychange",v_),xa=Xo=null)}function v_(t){if(t.propertyName==="value"&&Pc(xa)){var e=[];g_(e,xa,t,Ip(t)),Xw(Uk,e)}}function zk(t,e,n){t==="focusin"?(sv(),Xo=e,xa=n,Xo.attachEvent("onpropertychange",v_)):t==="focusout"&&sv()}function $k(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pc(xa)}function Hk(t,e){if(t==="click")return Pc(e)}function Wk(t,e){if(t==="input"||t==="change")return Pc(e)}function qk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:qk;function wa(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oh.call(e,s)||!yn(t[s],e[s]))return!1}return!0}function iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ov(t,e){var n=iv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iv(n)}}function x_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?x_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w_(){for(var t=window,e=ku();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ku(t.document)}return e}function Vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gk(t){var e=w_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&x_(n.ownerDocument.documentElement,n)){if(r!==null&&Vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ov(n,i);var o=ov(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kk=Jn&&"documentMode"in document&&11>=document.documentMode,mi=null,nf=null,Jo=null,rf=!1;function av(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rf||mi==null||mi!==ku(r)||(r=mi,"selectionStart"in r&&Vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&wa(Jo,r)||(Jo=r,r=Du(nf,"onSelect"),0<r.length&&(e=new Rp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mi)))}function Ol(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gi={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},qd={},__={};Jn&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Cc(t){if(qd[t])return qd[t];if(!gi[t])return t;var e=gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in __)return qd[t]=e[n];return t}var E_=Cc("animationend"),T_=Cc("animationiteration"),b_=Cc("animationstart"),S_=Cc("transitionend"),I_=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){I_.set(t,e),Gs(e,[t])}for(var Gd=0;Gd<lv.length;Gd++){var Kd=lv[Gd],Qk=Kd.toLowerCase(),Yk=Kd[0].toUpperCase()+Kd.slice(1);is(Qk,"on"+Yk)}is(E_,"onAnimationEnd");is(T_,"onAnimationIteration");is(b_,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(S_,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function uv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QI(r,e,void 0,t),t.currentTarget=null}function k_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;uv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;uv(s,a,c),i=u}}}if(Cu)throw t=Jh,Cu=!1,Jh=null,t}function Te(t,e){var n=e[uf];n===void 0&&(n=e[uf]=new Set);var r=t+"__bubble";n.has(r)||(P_(e,t,2,!1),n.add(r))}function Qd(t,e,n){var r=0;e&&(r|=4),P_(n,t,r,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function _a(t){if(!t[Ll]){t[Ll]=!0,Vw.forEach(function(n){n!=="selectionchange"&&(Xk.has(n)||Qd(n,!1,t),Qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,Qd("selectionchange",!1,e))}}function P_(t,e,n,r){switch(d_(e)){case 1:var s=dk;break;case 4:s=hk;break;default:s=Ap}n=s.bind(null,e,n,t),s=void 0,!Xh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bs(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Xw(function(){var c=i,h=Ip(n),f=[];e:{var m=I_.get(t);if(m!==void 0){var y=Rp,T=t;switch(t){case"keypress":if(au(n)===0)break e;case"keydown":case"keyup":y=kk;break;case"focusin":T="focus",y=$d;break;case"focusout":T="blur",y=$d;break;case"beforeblur":case"afterblur":y=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ak;break;case E_:case T_:case b_:y=vk;break;case S_:y=Rk;break;case"scroll":y=fk;break;case"wheel":y=Dk;break;case"copy":case"cut":case"paste":y=wk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Zy}var _=(e&4)!==0,I=!_&&t==="scroll",v=_?m!==null?m+"Capture":null:m;_=[];for(var x=c,w;x!==null;){w=x;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,v!==null&&(C=ma(x,v),C!=null&&_.push(Ea(x,C,w)))),I)break;x=x.return}0<_.length&&(m=new y(m,T,null,n,h),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Qh&&(T=n.relatedTarget||n.fromElement)&&(bs(T)||T[Zn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=c,T=T?bs(T):null,T!==null&&(I=Ks(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=c),y!==T)){if(_=Xy,C="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=Zy,C="onPointerLeave",v="onPointerEnter",x="pointer"),I=y==null?m:yi(y),w=T==null?m:yi(T),m=new _(C,x+"leave",y,n,h),m.target=I,m.relatedTarget=w,C=null,bs(h)===c&&(_=new _(v,x+"enter",T,n,h),_.target=w,_.relatedTarget=I,C=_),I=C,y&&T)t:{for(_=y,v=T,x=0,w=_;w;w=li(w))x++;for(w=0,C=v;C;C=li(C))w++;for(;0<x-w;)_=li(_),x--;for(;0<w-x;)v=li(v),w--;for(;x--;){if(_===v||v!==null&&_===v.alternate)break t;_=li(_),v=li(v)}_=null}else _=null;y!==null&&cv(f,m,y,_,!1),T!==null&&I!==null&&cv(f,I,T,_,!0)}}e:{if(m=c?yi(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var V=Bk;else if(nv(m))if(y_)V=Wk;else{V=$k;var M=zk}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=Hk);if(V&&(V=V(t,c))){g_(f,V,n,h);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Hh(m,"number",m.value)}switch(M=c?yi(c):window,t){case"focusin":(nv(M)||M.contentEditable==="true")&&(mi=M,nf=c,Jo=null);break;case"focusout":Jo=nf=mi=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,av(f,n,h);break;case"selectionchange":if(Kk)break;case"keydown":case"keyup":av(f,n,h)}var k;if(Dp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else pi?p_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(f_&&n.locale!=="ko"&&(pi||E!=="onCompositionStart"?E==="onCompositionEnd"&&pi&&(k=h_()):(Cr=h,Np="value"in Cr?Cr.value:Cr.textContent,pi=!0)),M=Du(c,E),0<M.length&&(E=new Jy(E,t,null,n,h),f.push({event:E,listeners:M}),k?E.data=k:(k=m_(n),k!==null&&(E.data=k)))),(k=Mk?Ok(t,n):Lk(t,n))&&(c=Du(c,"onBeforeInput"),0<c.length&&(h=new Jy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=k))}k_(f,e)})}function Ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Du(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ma(t,n),i!=null&&r.unshift(Ea(t,i,s)),i=ma(t,e),i!=null&&r.push(Ea(t,i,s))),t=t.return}return r}function li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=ma(n,i),u!=null&&o.unshift(Ea(n,u,a))):s||(u=ma(n,i),u!=null&&o.push(Ea(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Jk=/\r\n?/g,Zk=/\u0000|\uFFFD/g;function dv(t){return(typeof t=="string"?t:""+t).replace(Jk,`
`).replace(Zk,"")}function Fl(t,e,n){if(e=dv(e),dv(t)!==e&&n)throw Error(B(425))}function Vu(){}var sf=null,of=null;function af(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,eP=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,tP=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(nP)}:lf;function nP(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),va(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);va(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var io=Math.random().toString(36).slice(2),Tn="__reactFiber$"+io,Ta="__reactProps$"+io,Zn="__reactContainer$"+io,uf="__reactEvents$"+io,rP="__reactListeners$"+io,sP="__reactHandles$"+io;function bs(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fv(t);t!==null;){if(n=t[Tn])return n;t=fv(t)}return e}t=n,n=t.parentNode}return null}function Wa(t){return t=t[Tn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Ac(t){return t[Ta]||null}var cf=[],vi=-1;function os(t){return{current:t}}function be(t){0>vi||(t.current=cf[vi],cf[vi]=null,vi--)}function we(t,e){vi++,cf[vi]=t.current,t.current=e}var Xr={},vt=os(Xr),Rt=os(!1),Vs=Xr;function Fi(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jt(t){return t=t.childContextTypes,t!=null}function Mu(){be(Rt),be(vt)}function pv(t,e,n){if(vt.current!==Xr)throw Error(B(168));we(vt,e),we(Rt,n)}function C_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,zI(t)||"Unknown",s));return Ne({},n,r)}function Ou(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Vs=vt.current,we(vt,t),we(Rt,Rt.current),!0}function mv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=C_(t,e,Vs),r.__reactInternalMemoizedMergedChildContext=t,be(Rt),be(vt),we(vt,t)):be(Rt),we(Rt,n)}var Bn=null,Nc=!1,Jd=!1;function A_(t){Bn===null?Bn=[t]:Bn.push(t)}function iP(t){Nc=!0,A_(t)}function as(){if(!Jd&&Bn!==null){Jd=!0;var t=0,e=ge;try{var n=Bn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,Nc=!1}catch(s){throw Bn!==null&&(Bn=Bn.slice(t+1)),t_(kp,as),s}finally{ge=e,Jd=!1}}return null}var xi=[],wi=0,Lu=null,Fu=0,Xt=[],Jt=0,Ms=null,$n=1,Hn="";function vs(t,e){xi[wi++]=Fu,xi[wi++]=Lu,Lu=t,Fu=e}function N_(t,e,n){Xt[Jt++]=$n,Xt[Jt++]=Hn,Xt[Jt++]=Ms,Ms=t;var r=$n;t=Hn;var s=32-fn(r)-1;r&=~(1<<s),n+=1;var i=32-fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,$n=1<<32-fn(e)+s|n<<s|r,Hn=i+t}else $n=1<<i|n<<s|r,Hn=t}function Mp(t){t.return!==null&&(vs(t,1),N_(t,1,0))}function Op(t){for(;t===Lu;)Lu=xi[--wi],xi[wi]=null,Fu=xi[--wi],xi[wi]=null;for(;t===Ms;)Ms=Xt[--Jt],Xt[Jt]=null,Hn=Xt[--Jt],Xt[Jt]=null,$n=Xt[--Jt],Xt[Jt]=null}var zt=null,Ut=null,Ie=!1,dn=null;function R_(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,Ut=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:$n,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,Ut=null,!0):!1;default:return!1}}function df(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hf(t){if(Ie){var e=Ut;if(e){var n=e;if(!gv(t,e)){if(df(t))throw Error(B(418));e=Mr(n.nextSibling);var r=zt;e&&gv(t,e)?R_(r,n):(t.flags=t.flags&-4097|2,Ie=!1,zt=t)}}else{if(df(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ie=!1,zt=t}}}function yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function Ul(t){if(t!==zt)return!1;if(!Ie)return yv(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!af(t.type,t.memoizedProps)),e&&(e=Ut)){if(df(t))throw j_(),Error(B(418));for(;e;)R_(t,e),e=Mr(e.nextSibling)}if(yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ut=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=zt?Mr(t.stateNode.nextSibling):null;return!0}function j_(){for(var t=Ut;t;)t=Mr(t.nextSibling)}function Ui(){Ut=zt=null,Ie=!1}function Lp(t){dn===null?dn=[t]:dn.push(t)}var oP=ar.ReactCurrentBatchConfig;function Ro(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Bl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vv(t){var e=t._init;return e(t._payload)}function D_(t){function e(v,x){if(t){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=Ur(v,x),v.index=0,v.sibling=null,v}function i(v,x,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,x,w,C){return x===null||x.tag!==6?(x=ih(w,v.mode,C),x.return=v,x):(x=s(x,w),x.return=v,x)}function u(v,x,w,C){var V=w.type;return V===fi?h(v,x,w.props.children,C,w.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wr&&vv(V)===x.type)?(C=s(x,w.props),C.ref=Ro(v,x,w),C.return=v,C):(C=pu(w.type,w.key,w.props,null,v.mode,C),C.ref=Ro(v,x,w),C.return=v,C)}function c(v,x,w,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=oh(w,v.mode,C),x.return=v,x):(x=s(x,w.children||[]),x.return=v,x)}function h(v,x,w,C,V){return x===null||x.tag!==7?(x=Rs(w,v.mode,C,V),x.return=v,x):(x=s(x,w),x.return=v,x)}function f(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ih(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Al:return w=pu(x.type,x.key,x.props,null,v.mode,w),w.ref=Ro(v,null,x),w.return=v,w;case hi:return x=oh(x,v.mode,w),x.return=v,x;case wr:var C=x._init;return f(v,C(x._payload),w)}if(Fo(x)||ko(x))return x=Rs(x,v.mode,w,null),x.return=v,x;Bl(v,x)}return null}function m(v,x,w,C){var V=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return V!==null?null:a(v,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Al:return w.key===V?u(v,x,w,C):null;case hi:return w.key===V?c(v,x,w,C):null;case wr:return V=w._init,m(v,x,V(w._payload),C)}if(Fo(w)||ko(w))return V!==null?null:h(v,x,w,C,null);Bl(v,w)}return null}function y(v,x,w,C,V){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(w)||null,a(x,v,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Al:return v=v.get(C.key===null?w:C.key)||null,u(x,v,C,V);case hi:return v=v.get(C.key===null?w:C.key)||null,c(x,v,C,V);case wr:var M=C._init;return y(v,x,w,M(C._payload),V)}if(Fo(C)||ko(C))return v=v.get(w)||null,h(x,v,C,V,null);Bl(x,C)}return null}function T(v,x,w,C){for(var V=null,M=null,k=x,E=x=0,S=null;k!==null&&E<w.length;E++){k.index>E?(S=k,k=null):S=k.sibling;var P=m(v,k,w[E],C);if(P===null){k===null&&(k=S);break}t&&k&&P.alternate===null&&e(v,k),x=i(P,x,E),M===null?V=P:M.sibling=P,M=P,k=S}if(E===w.length)return n(v,k),Ie&&vs(v,E),V;if(k===null){for(;E<w.length;E++)k=f(v,w[E],C),k!==null&&(x=i(k,x,E),M===null?V=k:M.sibling=k,M=k);return Ie&&vs(v,E),V}for(k=r(v,k);E<w.length;E++)S=y(k,v,E,w[E],C),S!==null&&(t&&S.alternate!==null&&k.delete(S.key===null?E:S.key),x=i(S,x,E),M===null?V=S:M.sibling=S,M=S);return t&&k.forEach(function(R){return e(v,R)}),Ie&&vs(v,E),V}function _(v,x,w,C){var V=ko(w);if(typeof V!="function")throw Error(B(150));if(w=V.call(w),w==null)throw Error(B(151));for(var M=V=null,k=x,E=x=0,S=null,P=w.next();k!==null&&!P.done;E++,P=w.next()){k.index>E?(S=k,k=null):S=k.sibling;var R=m(v,k,P.value,C);if(R===null){k===null&&(k=S);break}t&&k&&R.alternate===null&&e(v,k),x=i(R,x,E),M===null?V=R:M.sibling=R,M=R,k=S}if(P.done)return n(v,k),Ie&&vs(v,E),V;if(k===null){for(;!P.done;E++,P=w.next())P=f(v,P.value,C),P!==null&&(x=i(P,x,E),M===null?V=P:M.sibling=P,M=P);return Ie&&vs(v,E),V}for(k=r(v,k);!P.done;E++,P=w.next())P=y(k,v,E,P.value,C),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?E:P.key),x=i(P,x,E),M===null?V=P:M.sibling=P,M=P);return t&&k.forEach(function(j){return e(v,j)}),Ie&&vs(v,E),V}function I(v,x,w,C){if(typeof w=="object"&&w!==null&&w.type===fi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Al:e:{for(var V=w.key,M=x;M!==null;){if(M.key===V){if(V=w.type,V===fi){if(M.tag===7){n(v,M.sibling),x=s(M,w.props.children),x.return=v,v=x;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wr&&vv(V)===M.type){n(v,M.sibling),x=s(M,w.props),x.ref=Ro(v,M,w),x.return=v,v=x;break e}n(v,M);break}else e(v,M);M=M.sibling}w.type===fi?(x=Rs(w.props.children,v.mode,C,w.key),x.return=v,v=x):(C=pu(w.type,w.key,w.props,null,v.mode,C),C.ref=Ro(v,x,w),C.return=v,v=C)}return o(v);case hi:e:{for(M=w.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),x=s(x,w.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=oh(w,v.mode,C),x.return=v,v=x}return o(v);case wr:return M=w._init,I(v,x,M(w._payload),C)}if(Fo(w))return T(v,x,w,C);if(ko(w))return _(v,x,w,C);Bl(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),x=s(x,w),x.return=v,v=x):(n(v,x),x=ih(w,v.mode,C),x.return=v,v=x),o(v)):n(v,x)}return I}var Bi=D_(!0),V_=D_(!1),Uu=os(null),Bu=null,_i=null,Fp=null;function Up(){Fp=_i=Bu=null}function Bp(t){var e=Uu.current;be(Uu),t._currentValue=e}function ff(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ri(t,e){Bu=t,Fp=_i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(Fp!==t)if(t={context:t,memoizedValue:e,next:null},_i===null){if(Bu===null)throw Error(B(308));_i=t,Bu.dependencies={lanes:0,firstContext:t}}else _i=_i.next=t;return e}var Ss=null;function zp(t){Ss===null?Ss=[t]:Ss.push(t)}function M_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zp(e)):(n.next=s.next,s.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _r=!1;function $p(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,er(t,n)}return s=r.interleaved,s===null?(e.next=e,zp(r)):(e.next=s.next,s.next=e),r.interleaved=e,er(t,n)}function lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}function xv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zu(t,e,n,r){var s=t.updateQueue;_r=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,_=a;switch(m=e,y=n,_.tag){case 1:if(T=_.payload,typeof T=="function"){f=T.call(y,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=_.payload,m=typeof T=="function"?T.call(y,f,m):T,m==null)break e;f=Ne({},f,m);break e;case 2:_r=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ls|=o,t.lanes=o,t.memoizedState=f}}function wv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var qa={},Sn=os(qa),ba=os(qa),Sa=os(qa);function Is(t){if(t===qa)throw Error(B(174));return t}function Hp(t,e){switch(we(Sa,e),we(ba,t),we(Sn,qa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qh(e,t)}be(Sn),we(Sn,e)}function zi(){be(Sn),be(ba),be(Sa)}function L_(t){Is(Sa.current);var e=Is(Sn.current),n=qh(e,t.type);e!==n&&(we(ba,t),we(Sn,n))}function Wp(t){ba.current===t&&(be(Sn),be(ba))}var Pe=os(0);function $u(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zd=[];function qp(){for(var t=0;t<Zd.length;t++)Zd[t]._workInProgressVersionPrimary=null;Zd.length=0}var uu=ar.ReactCurrentDispatcher,eh=ar.ReactCurrentBatchConfig,Os=0,Ae=null,We=null,Xe=null,Hu=!1,Zo=!1,Ia=0,aP=0;function dt(){throw Error(B(321))}function Gp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function Kp(t,e,n,r,s,i){if(Os=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uu.current=t===null||t.memoizedState===null?dP:hP,t=n(r,s),Zo){i=0;do{if(Zo=!1,Ia=0,25<=i)throw Error(B(301));i+=1,Xe=We=null,e.updateQueue=null,uu.current=fP,t=n(r,s)}while(Zo)}if(uu.current=Wu,e=We!==null&&We.next!==null,Os=0,Xe=We=Ae=null,Hu=!1,e)throw Error(B(300));return t}function Qp(){var t=Ia!==0;return Ia=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ae.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function rn(){if(We===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Xe===null?Ae.memoizedState:Xe.next;if(e!==null)Xe=e,We=t;else{if(t===null)throw Error(B(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Xe===null?Ae.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function ka(t,e){return typeof e=="function"?e(t):e}function th(t){var e=rn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=We,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((Os&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ae.lanes|=h,Ls|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,yn(r,e.memoizedState)||(Nt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,Ls|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nh(t){var e=rn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yn(i,e.memoizedState)||(Nt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function F_(){}function U_(t,e){var n=Ae,r=rn(),s=e(),i=!yn(r.memoizedState,s);if(i&&(r.memoizedState=s,Nt=!0),r=r.queue,Yp($_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Pa(9,z_.bind(null,n,r,s,e),void 0,null),Je===null)throw Error(B(349));Os&30||B_(n,e,s)}return s}function B_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z_(t,e,n,r){e.value=n,e.getSnapshot=r,H_(e)&&W_(t)}function $_(t,e,n){return n(function(){H_(e)&&W_(t)})}function H_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function W_(t){var e=er(t,1);e!==null&&pn(e,t,1,-1)}function _v(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},e.queue=t,t=t.dispatch=cP.bind(null,Ae,t),[e.memoizedState,t]}function Pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function q_(){return rn().memoizedState}function cu(t,e,n,r){var s=En();Ae.flags|=t,s.memoizedState=Pa(1|e,n,void 0,r===void 0?null:r)}function Rc(t,e,n,r){var s=rn();r=r===void 0?null:r;var i=void 0;if(We!==null){var o=We.memoizedState;if(i=o.destroy,r!==null&&Gp(r,o.deps)){s.memoizedState=Pa(e,n,i,r);return}}Ae.flags|=t,s.memoizedState=Pa(1|e,n,i,r)}function Ev(t,e){return cu(8390656,8,t,e)}function Yp(t,e){return Rc(2048,8,t,e)}function G_(t,e){return Rc(4,2,t,e)}function K_(t,e){return Rc(4,4,t,e)}function Q_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y_(t,e,n){return n=n!=null?n.concat([t]):null,Rc(4,4,Q_.bind(null,e,t),n)}function Xp(){}function X_(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function J_(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z_(t,e,n){return Os&21?(yn(n,e)||(n=s_(),Ae.lanes|=n,Ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=n)}function lP(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=eh.transition;eh.transition={};try{t(!1),e()}finally{ge=n,eh.transition=r}}function eE(){return rn().memoizedState}function uP(t,e,n){var r=Fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tE(t))nE(e,n);else if(n=M_(t,e,n,r),n!==null){var s=It();pn(n,t,r,s),rE(n,e,r)}}function cP(t,e,n){var r=Fr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tE(t))nE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,yn(a,o)){var u=e.interleaved;u===null?(s.next=s,zp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=M_(t,e,s,r),n!==null&&(s=It(),pn(n,t,r,s),rE(n,e,r))}}function tE(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function nE(t,e){Zo=Hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}var Wu={readContext:nn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},dP={readContext:nn,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:Ev,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cu(4194308,4,Q_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return cu(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uP.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:_v,useDebugValue:Xp,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=_v(!1),e=t[0];return t=lP.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,s=En();if(Ie){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Je===null)throw Error(B(349));Os&30||B_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ev($_.bind(null,r,i,t),[t]),r.flags|=2048,Pa(9,z_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=En(),e=Je.identifierPrefix;if(Ie){var n=Hn,r=$n;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ia++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hP={readContext:nn,useCallback:X_,useContext:nn,useEffect:Yp,useImperativeHandle:Y_,useInsertionEffect:G_,useLayoutEffect:K_,useMemo:J_,useReducer:th,useRef:q_,useState:function(){return th(ka)},useDebugValue:Xp,useDeferredValue:function(t){var e=rn();return Z_(e,We.memoizedState,t)},useTransition:function(){var t=th(ka)[0],e=rn().memoizedState;return[t,e]},useMutableSource:F_,useSyncExternalStore:U_,useId:eE,unstable_isNewReconciler:!1},fP={readContext:nn,useCallback:X_,useContext:nn,useEffect:Yp,useImperativeHandle:Y_,useInsertionEffect:G_,useLayoutEffect:K_,useMemo:J_,useReducer:nh,useRef:q_,useState:function(){return nh(ka)},useDebugValue:Xp,useDeferredValue:function(t){var e=rn();return We===null?e.memoizedState=t:Z_(e,We.memoizedState,t)},useTransition:function(){var t=nh(ka)[0],e=rn().memoizedState;return[t,e]},useMutableSource:F_,useSyncExternalStore:U_,useId:eE,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jc={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),s=Fr(t),i=Qn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Or(t,i,s),e!==null&&(pn(e,t,s,r),lu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),s=Fr(t),i=Qn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Or(t,i,s),e!==null&&(pn(e,t,s,r),lu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=Fr(t),s=Qn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Or(t,s,r),e!==null&&(pn(e,t,r,n),lu(e,t,r))}};function Tv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wa(n,r)||!wa(s,i):!0}function sE(t,e,n){var r=!1,s=Xr,i=e.contextType;return typeof i=="object"&&i!==null?i=nn(i):(s=jt(e)?Vs:vt.current,r=e.contextTypes,i=(r=r!=null)?Fi(t,s):Xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function bv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jc.enqueueReplaceState(e,e.state,null)}function mf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$p(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nn(i):(i=jt(e)?Vs:vt.current,s.context=Fi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&jc.enqueueReplaceState(s,s.state,null),zu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $i(t,e){try{var n="",r=e;do n+=BI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pP=typeof WeakMap=="function"?WeakMap:Map;function iE(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gu||(Gu=!0,If=r),gf(t,e)},n}function oE(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){gf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gf(t,e),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Sv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=PP.bind(null,t,e,n),e.then(t,t))}function Iv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,Or(n,e,1))),n.lanes|=1),t)}var mP=ar.ReactCurrentOwner,Nt=!1;function St(t,e,n,r){e.child=t===null?V_(e,null,n,r):Bi(e,t.child,n,r)}function Pv(t,e,n,r,s){n=n.render;var i=e.ref;return Ri(e,s),r=Kp(t,e,n,r,i,s),n=Qp(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Ie&&n&&Mp(e),e.flags|=1,St(t,e,r,s),e.child)}function Cv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!im(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,aE(t,e,i,r,s)):(t=pu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wa,n(o,r)&&t.ref===e.ref)return tr(t,e,s)}return e.flags|=1,t=Ur(i,r),t.ref=e.ref,t.return=e,e.child=t}function aE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wa(i,r)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,tr(t,e,s)}return yf(t,e,n,r,s)}function lE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ti,Ft),Ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Ti,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(Ti,Ft),Ft|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,we(Ti,Ft),Ft|=r;return St(t,e,s,n),e.child}function uE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yf(t,e,n,r,s){var i=jt(n)?Vs:vt.current;return i=Fi(e,i),Ri(e,s),n=Kp(t,e,n,r,i,s),r=Qp(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Ie&&r&&Mp(e),e.flags|=1,St(t,e,n,s),e.child)}function Av(t,e,n,r,s){if(jt(n)){var i=!0;Ou(e)}else i=!1;if(Ri(e,s),e.stateNode===null)du(t,e),sE(e,n,r),mf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nn(c):(c=jt(n)?Vs:vt.current,c=Fi(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&bv(e,o,r,c),_r=!1;var m=e.memoizedState;o.state=m,zu(e,r,o,s),u=e.memoizedState,a!==r||m!==u||Rt.current||_r?(typeof h=="function"&&(pf(e,n,h,r),u=e.memoizedState),(a=_r||Tv(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,O_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:un(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=nn(u):(u=jt(n)?Vs:vt.current,u=Fi(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&bv(e,o,r,u),_r=!1,m=e.memoizedState,o.state=m,zu(e,r,o,s);var T=e.memoizedState;a!==f||m!==T||Rt.current||_r?(typeof y=="function"&&(pf(e,n,y,r),T=e.memoizedState),(c=_r||Tv(e,n,c,r,m,T,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return vf(t,e,n,r,i,s)}function vf(t,e,n,r,s,i){uE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&mv(e,n,!1),tr(t,e,i);r=e.stateNode,mP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bi(e,t.child,null,i),e.child=Bi(e,null,a,i)):St(t,e,a,i),e.memoizedState=r.state,s&&mv(e,n,!0),e.child}function cE(t){var e=t.stateNode;e.pendingContext?pv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pv(t,e.context,!1),Hp(t,e.containerInfo)}function Nv(t,e,n,r,s){return Ui(),Lp(s),e.flags|=256,St(t,e,n,r),e.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function wf(t){return{baseLanes:t,cachePool:null,transitions:null}}function dE(t,e,n){var r=e.pendingProps,s=Pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),we(Pe,s&1),t===null)return hf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mc(o,r,0,null),t=Rs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wf(n),e.memoizedState=xf,t):Jp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return gP(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ur(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ur(a,i):(i=Rs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?wf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xf,r}return i=t.child,t=i.sibling,r=Ur(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jp(t,e){return e=Mc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zl(t,e,n,r){return r!==null&&Lp(r),Bi(e,t.child,null,n),t=Jp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gP(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=rh(Error(B(422))),zl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Mc({mode:"visible",children:r.children},s,0,null),i=Rs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Bi(e,t.child,null,o),e.child.memoizedState=wf(o),e.memoizedState=xf,i);if(!(e.mode&1))return zl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=rh(i,r,void 0),zl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Nt||a){if(r=Je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(t,s),pn(r,t,s,-1))}return sm(),r=rh(Error(B(421))),zl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=CP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ut=Mr(s.nextSibling),zt=e,Ie=!0,dn=null,t!==null&&(Xt[Jt++]=$n,Xt[Jt++]=Hn,Xt[Jt++]=Ms,$n=t.id,Hn=t.overflow,Ms=e),e=Jp(e,r.children),e.flags|=4096,e)}function Rv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ff(t.return,e,n)}function sh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(St(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rv(t,n,e);else if(t.tag===19)Rv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$u(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$u(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sh(e,!0,n,null,i);break;case"together":sh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yP(t,e,n){switch(e.tag){case 3:cE(e),Ui();break;case 5:L_(e);break;case 1:jt(e.type)&&Ou(e);break;case 4:Hp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;we(Uu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?dE(t,e,n):(we(Pe,Pe.current&1),t=tr(t,e,n),t!==null?t.sibling:null);we(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,lE(t,e,n)}return tr(t,e,n)}var fE,_f,pE,mE;fE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_f=function(){};pE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Is(Sn.current);var i=null;switch(n){case"input":s=zh(t,s),r=zh(t,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=Wh(t,s),r=Wh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vu)}Gh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Te("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};mE=function(t,e,n,r){n!==r&&(e.flags|=4)};function jo(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vP(t,e,n){var r=e.pendingProps;switch(Op(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return jt(e.type)&&Mu(),ht(e),null;case 3:return r=e.stateNode,zi(),be(Rt),be(vt),qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ul(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Cf(dn),dn=null))),_f(t,e),ht(e),null;case 5:Wp(e);var s=Is(Sa.current);if(n=e.type,t!==null&&e.stateNode!=null)pE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return ht(e),null}if(t=Is(Sn.current),Ul(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tn]=e,r[Ta]=i,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(s=0;s<Bo.length;s++)Te(Bo[s],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":By(r,i),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Te("invalid",r);break;case"textarea":$y(r,i),Te("invalid",r)}Gh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fl(r.textContent,a,t),s=["children",""+a]):fa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":Nl(r),zy(r,i,!0);break;case"textarea":Nl(r),Hy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$w(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[Ta]=r,fE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kh(n,r),n){case"dialog":Te("cancel",t),Te("close",t),s=r;break;case"iframe":case"object":case"embed":Te("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bo.length;s++)Te(Bo[s],t);s=r;break;case"source":Te("error",t),s=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),s=r;break;case"details":Te("toggle",t),s=r;break;case"input":By(t,r),s=zh(t,r),Te("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),Te("invalid",t);break;case"textarea":$y(t,r),s=Wh(t,r),Te("invalid",t);break;default:s=r}Gh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?qw(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hw(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&pa(t,u):typeof u=="number"&&pa(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Te("scroll",t):u!=null&&Ep(t,i,u,o))}switch(n){case"input":Nl(t),zy(t,r,!1);break;case"textarea":Nl(t),Hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)mE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Is(Sa.current),Is(Sn.current),Ul(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(i=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:Fl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return ht(e),null;case 13:if(be(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Ut!==null&&e.mode&1&&!(e.flags&128))j_(),Ui(),e.flags|=98560,i=!1;else if(i=Ul(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Tn]=e}else Ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),i=!1}else dn!==null&&(Cf(dn),dn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Ge===0&&(Ge=3):sm())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return zi(),_f(t,e),t===null&&_a(e.stateNode.containerInfo),ht(e),null;case 10:return Bp(e.type._context),ht(e),null;case 17:return jt(e.type)&&Mu(),ht(e),null;case 19:if(be(Pe),i=e.memoizedState,i===null)return ht(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)jo(i,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$u(t),o!==null){for(e.flags|=128,jo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Le()>Hi&&(e.flags|=128,r=!0,jo(i,!1),e.lanes=4194304)}else{if(!r)if(t=$u(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return ht(e),null}else 2*Le()-i.renderingStartTime>Hi&&n!==1073741824&&(e.flags|=128,r=!0,jo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Le(),e.sibling=null,n=Pe.current,we(Pe,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return rm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function xP(t,e){switch(Op(e),e.tag){case 1:return jt(e.type)&&Mu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),be(Rt),be(vt),qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wp(e),null;case 13:if(be(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Pe),null;case 4:return zi(),null;case 10:return Bp(e.type._context),null;case 22:case 23:return rm(),null;case 24:return null;default:return null}}var $l=!1,gt=!1,wP=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ei(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function Ef(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var jv=!1;function _P(t,e){if(sf=Ru,t=w_(),Vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++h===r&&(u=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(of={focusedElem:t,selectionRange:n},Ru=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var _=T.memoizedProps,I=T.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:un(e.type,_),I);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ve(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return T=jv,jv=!1,T}function ea(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ef(e,n,i)}s=s.next}while(s!==r)}}function Dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gE(t){var e=t.alternate;e!==null&&(t.alternate=null,gE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Ta],delete e[uf],delete e[rP],delete e[sP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yE(t){return t.tag===5||t.tag===3||t.tag===4}function Dv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vu));else if(r!==4&&(t=t.child,t!==null))for(bf(t,e,n),t=t.sibling;t!==null;)bf(t,e,n),t=t.sibling}function Sf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sf(t,e,n),t=t.sibling;t!==null;)Sf(t,e,n),t=t.sibling}var tt=null,cn=!1;function gr(t,e,n){for(n=n.child;n!==null;)vE(t,e,n),n=n.sibling}function vE(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ic,n)}catch{}switch(n.tag){case 5:gt||Ei(n,e);case 6:var r=tt,s=cn;tt=null,gr(t,e,n),tt=r,cn=s,tt!==null&&(cn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(cn?(t=tt,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),va(t)):Xd(tt,n.stateNode));break;case 4:r=tt,s=cn,tt=n.stateNode.containerInfo,cn=!0,gr(t,e,n),tt=r,cn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ef(n,e,o),s=s.next}while(s!==r)}gr(t,e,n);break;case 1:if(!gt&&(Ei(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,gr(t,e,n),gt=r):gr(t,e,n);break;default:gr(t,e,n)}}function Vv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wP),e.forEach(function(r){var s=AP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,cn=!1;break e;case 3:tt=a.stateNode.containerInfo,cn=!0;break e;case 4:tt=a.stateNode.containerInfo,cn=!0;break e}a=a.return}if(tt===null)throw Error(B(160));vE(i,o,s),tt=null,cn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ve(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xE(e,t),e=e.sibling}function xE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),_n(t),r&4){try{ea(3,t,t.return),Dc(3,t)}catch(_){Ve(t,t.return,_)}try{ea(5,t,t.return)}catch(_){Ve(t,t.return,_)}}break;case 1:ln(e,t),_n(t),r&512&&n!==null&&Ei(n,n.return);break;case 5:if(ln(e,t),_n(t),r&512&&n!==null&&Ei(n,n.return),t.flags&32){var s=t.stateNode;try{pa(s,"")}catch(_){Ve(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Bw(s,i),Kh(a,o);var c=Kh(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?qw(s,f):h==="dangerouslySetInnerHTML"?Hw(s,f):h==="children"?pa(s,f):Ep(s,h,f,c)}switch(a){case"input":$h(s,i);break;case"textarea":zw(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Pi(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Pi(s,!!i.multiple,i.defaultValue,!0):Pi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ta]=i}catch(_){Ve(t,t.return,_)}}break;case 6:if(ln(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Ve(t,t.return,_)}}break;case 3:if(ln(e,t),_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{va(e.containerInfo)}catch(_){Ve(t,t.return,_)}break;case 4:ln(e,t),_n(t);break;case 13:ln(e,t),_n(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tm=Le())),r&4&&Vv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(c=gt)||h,ln(e,t),gt=c):ln(e,t),_n(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(f=G=h;G!==null;){switch(m=G,y=m.child,m.tag){case 0:case 11:case 14:case 15:ea(4,m,m.return);break;case 1:Ei(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(_){Ve(r,n,_)}}break;case 5:Ei(m,m.return);break;case 22:if(m.memoizedState!==null){Ov(f);continue}}y!==null?(y.return=m,G=y):Ov(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Ww("display",o))}catch(_){Ve(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Ve(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(e,t),_n(t),r&4&&Vv(t);break;case 21:break;default:ln(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pa(s,""),r.flags&=-33);var i=Dv(t);Sf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Dv(t);bf(t,a,o);break;default:throw Error(B(161))}}catch(u){Ve(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EP(t,e,n){G=t,wE(t)}function wE(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$l;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||gt;a=$l;var c=gt;if($l=o,(gt=u)&&!c)for(G=s;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?Lv(s):u!==null?(u.return=o,G=u):Lv(s);for(;i!==null;)G=i,wE(i),i=i.sibling;G=s,$l=a,gt=c}Mv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Mv(t)}}function Mv(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||Dc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&wv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&va(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}gt||e.flags&512&&Tf(e)}catch(m){Ve(e,e.return,m)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Ov(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Lv(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dc(4,e)}catch(u){Ve(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ve(e,s,u)}}var i=e.return;try{Tf(e)}catch(u){Ve(e,i,u)}break;case 5:var o=e.return;try{Tf(e)}catch(u){Ve(e,o,u)}}}catch(u){Ve(e,e.return,u)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var TP=Math.ceil,qu=ar.ReactCurrentDispatcher,Zp=ar.ReactCurrentOwner,tn=ar.ReactCurrentBatchConfig,he=0,Je=null,He=null,st=0,Ft=0,Ti=os(0),Ge=0,Ca=null,Ls=0,Vc=0,em=0,ta=null,Ct=null,tm=0,Hi=1/0,Un=null,Gu=!1,If=null,Lr=null,Hl=!1,Ar=null,Ku=0,na=0,kf=null,hu=-1,fu=0;function It(){return he&6?Le():hu!==-1?hu:hu=Le()}function Fr(t){return t.mode&1?he&2&&st!==0?st&-st:oP.transition!==null?(fu===0&&(fu=s_()),fu):(t=ge,t!==0||(t=window.event,t=t===void 0?16:d_(t.type)),t):1}function pn(t,e,n,r){if(50<na)throw na=0,kf=null,Error(B(185));$a(t,n,r),(!(he&2)||t!==Je)&&(t===Je&&(!(he&2)&&(Vc|=n),Ge===4&&Sr(t,st)),Dt(t,r),n===1&&he===0&&!(e.mode&1)&&(Hi=Le()+500,Nc&&as()))}function Dt(t,e){var n=t.callbackNode;ok(t,e);var r=Nu(t,t===Je?st:0);if(r===0)n!==null&&Gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gy(n),e===1)t.tag===0?iP(Fv.bind(null,t)):A_(Fv.bind(null,t)),tP(function(){!(he&6)&&as()}),n=null;else{switch(i_(r)){case 1:n=kp;break;case 4:n=n_;break;case 16:n=Au;break;case 536870912:n=r_;break;default:n=Au}n=PE(n,_E.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _E(t,e){if(hu=-1,fu=0,he&6)throw Error(B(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=Nu(t,t===Je?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qu(t,r);else{e=r;var s=he;he|=2;var i=TE();(Je!==t||st!==e)&&(Un=null,Hi=Le()+500,Ns(t,e));do try{IP();break}catch(a){EE(t,a)}while(!0);Up(),qu.current=i,he=s,He!==null?e=0:(Je=null,st=0,e=Ge)}if(e!==0){if(e===2&&(s=Zh(t),s!==0&&(r=s,e=Pf(t,s))),e===1)throw n=Ca,Ns(t,0),Sr(t,r),Dt(t,Le()),n;if(e===6)Sr(t,r);else{if(s=t.current.alternate,!(r&30)&&!bP(s)&&(e=Qu(t,r),e===2&&(i=Zh(t),i!==0&&(r=i,e=Pf(t,i))),e===1))throw n=Ca,Ns(t,0),Sr(t,r),Dt(t,Le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:xs(t,Ct,Un);break;case 3:if(Sr(t,r),(r&130023424)===r&&(e=tm+500-Le(),10<e)){if(Nu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lf(xs.bind(null,t,Ct,Un),e);break}xs(t,Ct,Un);break;case 4:if(Sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TP(r/1960))-r,10<r){t.timeoutHandle=lf(xs.bind(null,t,Ct,Un),r);break}xs(t,Ct,Un);break;case 5:xs(t,Ct,Un);break;default:throw Error(B(329))}}}return Dt(t,Le()),t.callbackNode===n?_E.bind(null,t):null}function Pf(t,e){var n=ta;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=Qu(t,e),t!==2&&(e=Ct,Ct=n,e!==null&&Cf(e)),t}function Cf(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function bP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~em,e&=~Vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function Fv(t){if(he&6)throw Error(B(327));ji();var e=Nu(t,0);if(!(e&1))return Dt(t,Le()),null;var n=Qu(t,e);if(t.tag!==0&&n===2){var r=Zh(t);r!==0&&(e=r,n=Pf(t,r))}if(n===1)throw n=Ca,Ns(t,0),Sr(t,e),Dt(t,Le()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xs(t,Ct,Un),Dt(t,Le()),null}function nm(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Hi=Le()+500,Nc&&as())}}function Fs(t){Ar!==null&&Ar.tag===0&&!(he&6)&&ji();var e=he;he|=1;var n=tn.transition,r=ge;try{if(tn.transition=null,ge=1,t)return t()}finally{ge=r,tn.transition=n,he=e,!(he&6)&&as()}}function rm(){Ft=Ti.current,be(Ti)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eP(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mu();break;case 3:zi(),be(Rt),be(vt),qp();break;case 5:Wp(r);break;case 4:zi();break;case 13:be(Pe);break;case 19:be(Pe);break;case 10:Bp(r.type._context);break;case 22:case 23:rm()}n=n.return}if(Je=t,He=t=Ur(t.current,null),st=Ft=e,Ge=0,Ca=null,em=Vc=Ls=0,Ct=ta=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ss=null}return t}function EE(t,e){do{var n=He;try{if(Up(),uu.current=Wu,Hu){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hu=!1}if(Os=0,Xe=We=Ae=null,Zo=!1,Ia=0,Zp.current=null,n===null||n.return===null){Ge=1,Ca=e,He=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=st,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Iv(o);if(y!==null){y.flags&=-257,kv(y,o,a,i,e),y.mode&1&&Sv(i,c,e),e=y,u=c;var T=e.updateQueue;if(T===null){var _=new Set;_.add(u),e.updateQueue=_}else T.add(u);break e}else{if(!(e&1)){Sv(i,c,e),sm();break e}u=Error(B(426))}}else if(Ie&&a.mode&1){var I=Iv(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),kv(I,o,a,i,e),Lp($i(u,a));break e}}i=u=$i(u,a),Ge!==4&&(Ge=2),ta===null?ta=[i]:ta.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=iE(i,u,e);xv(i,v);break e;case 1:a=u;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Lr===null||!Lr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=oE(i,a,e);xv(i,C);break e}}i=i.return}while(i!==null)}SE(n)}catch(V){e=V,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function TE(){var t=qu.current;return qu.current=Wu,t===null?Wu:t}function sm(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Je===null||!(Ls&268435455)&&!(Vc&268435455)||Sr(Je,st)}function Qu(t,e){var n=he;he|=2;var r=TE();(Je!==t||st!==e)&&(Un=null,Ns(t,e));do try{SP();break}catch(s){EE(t,s)}while(!0);if(Up(),he=n,qu.current=r,He!==null)throw Error(B(261));return Je=null,st=0,Ge}function SP(){for(;He!==null;)bE(He)}function IP(){for(;He!==null&&!XI();)bE(He)}function bE(t){var e=kE(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?SE(t):He=e,Zp.current=null}function SE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xP(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,He=null;return}}else if(n=vP(n,e,Ft),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ge===0&&(Ge=5)}function xs(t,e,n){var r=ge,s=tn.transition;try{tn.transition=null,ge=1,kP(t,e,n,r)}finally{tn.transition=s,ge=r}return null}function kP(t,e,n,r){do ji();while(Ar!==null);if(he&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ak(t,i),t===Je&&(He=Je=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,PE(Au,function(){return ji(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var o=ge;ge=1;var a=he;he|=4,Zp.current=null,_P(t,n),xE(n,t),Gk(of),Ru=!!sf,of=sf=null,t.current=n,EP(n),JI(),he=a,ge=o,tn.transition=i}else t.current=n;if(Hl&&(Hl=!1,Ar=t,Ku=s),i=t.pendingLanes,i===0&&(Lr=null),tk(n.stateNode),Dt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gu)throw Gu=!1,t=If,If=null,t;return Ku&1&&t.tag!==0&&ji(),i=t.pendingLanes,i&1?t===kf?na++:(na=0,kf=t):na=0,as(),null}function ji(){if(Ar!==null){var t=i_(Ku),e=tn.transition,n=ge;try{if(tn.transition=null,ge=16>t?16:t,Ar===null)var r=!1;else{if(t=Ar,Ar=null,Ku=0,he&6)throw Error(B(331));var s=he;for(he|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(G=c;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:ea(8,h,i)}var f=h.child;if(f!==null)f.return=h,G=f;else for(;G!==null;){h=G;var m=h.sibling,y=h.return;if(gE(h),h===c){G=null;break}if(m!==null){m.return=y,G=m;break}G=y}}}var T=i.alternate;if(T!==null){var _=T.child;if(_!==null){T.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ea(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,G=v;break e}G=i.return}}var x=t.current;for(G=x;G!==null;){o=G;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,G=w;else e:for(o=x;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dc(9,a)}}catch(V){Ve(a,a.return,V)}if(a===o){G=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,G=C;break e}G=a.return}}if(he=s,as(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ic,t)}catch{}r=!0}return r}finally{ge=n,tn.transition=e}}return!1}function Uv(t,e,n){e=$i(n,e),e=iE(t,e,1),t=Or(t,e,1),e=It(),t!==null&&($a(t,1,e),Dt(t,e))}function Ve(t,e,n){if(t.tag===3)Uv(t,t,n);else for(;e!==null;){if(e.tag===3){Uv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){t=$i(n,t),t=oE(e,t,1),e=Or(e,t,1),t=It(),e!==null&&($a(e,1,t),Dt(e,t));break}}e=e.return}}function PP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(st&n)===n&&(Ge===4||Ge===3&&(st&130023424)===st&&500>Le()-tm?Ns(t,0):em|=n),Dt(t,e)}function IE(t,e){e===0&&(t.mode&1?(e=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):e=1);var n=It();t=er(t,e),t!==null&&($a(t,e,n),Dt(t,n))}function CP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IE(t,n)}function AP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),IE(t,n)}var kE;kE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)Nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nt=!1,yP(t,e,n);Nt=!!(t.flags&131072)}else Nt=!1,Ie&&e.flags&1048576&&N_(e,Fu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;du(t,e),t=e.pendingProps;var s=Fi(e,vt.current);Ri(e,n),s=Kp(null,e,r,t,s,n);var i=Qp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(i=!0,Ou(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$p(e),s.updater=jc,e.stateNode=s,s._reactInternals=e,mf(e,r,t,n),e=vf(null,e,r,!0,i,n)):(e.tag=0,Ie&&i&&Mp(e),St(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(du(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=RP(r),t=un(r,t),s){case 0:e=yf(null,e,r,t,n);break e;case 1:e=Av(null,e,r,t,n);break e;case 11:e=Pv(null,e,r,t,n);break e;case 14:e=Cv(null,e,r,un(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:un(r,s),yf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:un(r,s),Av(t,e,r,s,n);case 3:e:{if(cE(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,O_(t,e),zu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$i(Error(B(423)),e),e=Nv(t,e,r,n,s);break e}else if(r!==s){s=$i(Error(B(424)),e),e=Nv(t,e,r,n,s);break e}else for(Ut=Mr(e.stateNode.containerInfo.firstChild),zt=e,Ie=!0,dn=null,n=V_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===s){e=tr(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 5:return L_(e),t===null&&hf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,af(r,s)?o=null:i!==null&&af(r,i)&&(e.flags|=32),uE(t,e),St(t,e,o,n),e.child;case 6:return t===null&&hf(e),null;case 13:return dE(t,e,n);case 4:return Hp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bi(e,null,r,n):St(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:un(r,s),Pv(t,e,r,s,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,we(Uu,r._currentValue),r._currentValue=o,i!==null)if(yn(i.value,o)){if(i.children===s.children&&!Rt.current){e=tr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Qn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ff(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ff(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}St(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ri(e,n),s=nn(s),r=r(s),e.flags|=1,St(t,e,r,n),e.child;case 14:return r=e.type,s=un(r,e.pendingProps),s=un(r.type,s),Cv(t,e,r,s,n);case 15:return aE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:un(r,s),du(t,e),e.tag=1,jt(r)?(t=!0,Ou(e)):t=!1,Ri(e,n),sE(e,r,s),mf(e,r,s,n),vf(null,e,r,!0,t,n);case 19:return hE(t,e,n);case 22:return lE(t,e,n)}throw Error(B(156,e.tag))};function PE(t,e){return t_(t,e)}function NP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new NP(t,e,n,r)}function im(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RP(t){if(typeof t=="function")return im(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bp)return 11;if(t===Sp)return 14}return 2}function Ur(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")im(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fi:return Rs(n.children,s,i,e);case Tp:o=8,s|=8;break;case Lh:return t=Zt(12,n,e,s|2),t.elementType=Lh,t.lanes=i,t;case Fh:return t=Zt(13,n,e,s),t.elementType=Fh,t.lanes=i,t;case Uh:return t=Zt(19,n,e,s),t.elementType=Uh,t.lanes=i,t;case Lw:return Mc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mw:o=10;break e;case Ow:o=9;break e;case bp:o=11;break e;case Sp:o=14;break e;case wr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Rs(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function Mc(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=Lw,t.lanes=n,t.stateNode={isHidden:!1},t}function ih(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function oh(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function om(t,e,n,r,s,i,o,a,u){return t=new jP(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(i),t}function DP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CE(t){if(!t)return Xr;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(jt(n))return C_(t,n,e)}return e}function AE(t,e,n,r,s,i,o,a,u){return t=om(n,r,!0,t,s,i,o,a,u),t.context=CE(null),n=t.current,r=It(),s=Fr(n),i=Qn(r,s),i.callback=e??null,Or(n,i,s),t.current.lanes=s,$a(t,s,r),Dt(t,r),t}function Oc(t,e,n,r){var s=e.current,i=It(),o=Fr(s);return n=CE(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Or(s,e,o),t!==null&&(pn(t,s,o,i),lu(t,s,o)),o}function Yu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function am(t,e){Bv(t,e),(t=t.alternate)&&Bv(t,e)}function VP(){return null}var NE=typeof reportError=="function"?reportError:function(t){console.error(t)};function lm(t){this._internalRoot=t}Lc.prototype.render=lm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Oc(t,e,null,null)};Lc.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){Oc(null,t,null,null)}),e[Zn]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var e=l_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&c_(t)}};function um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zv(){}function MP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Yu(o);i.call(c)}}var o=AE(e,r,t,0,null,!1,!1,"",zv);return t._reactRootContainer=o,t[Zn]=o.current,_a(t.nodeType===8?t.parentNode:t),Fs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Yu(u);a.call(c)}}var u=om(t,0,!1,null,null,!1,!1,"",zv);return t._reactRootContainer=u,t[Zn]=u.current,_a(t.nodeType===8?t.parentNode:t),Fs(function(){Oc(e,u,n,r)}),u}function Uc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Yu(o);a.call(u)}}Oc(e,o,t,s)}else o=MP(n,e,t,s,r);return Yu(o)}o_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uo(e.pendingLanes);n!==0&&(Pp(e,n|1),Dt(e,Le()),!(he&6)&&(Hi=Le()+500,as()))}break;case 13:Fs(function(){var r=er(t,1);if(r!==null){var s=It();pn(r,t,1,s)}}),am(t,1)}};Cp=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=It();pn(e,t,134217728,n)}am(t,134217728)}};a_=function(t){if(t.tag===13){var e=Fr(t),n=er(t,e);if(n!==null){var r=It();pn(n,t,e,r)}am(t,e)}};l_=function(){return ge};u_=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Yh=function(t,e,n){switch(e){case"input":if($h(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ac(r);if(!s)throw Error(B(90));Uw(r),$h(r,s)}}}break;case"textarea":zw(t,n);break;case"select":e=n.value,e!=null&&Pi(t,!!n.multiple,e,!1)}};Qw=nm;Yw=Fs;var OP={usingClientEntryPoint:!1,Events:[Wa,yi,Ac,Gw,Kw,nm]},Do={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LP={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zw(t),t===null?null:t.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||VP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Ic=Wl.inject(LP),bn=Wl}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OP;qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(e))throw Error(B(200));return DP(t,e,null,n)};qt.createRoot=function(t,e){if(!um(t))throw Error(B(299));var n=!1,r="",s=NE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=om(t,1,!1,null,null,n,!1,r,s),t[Zn]=e.current,_a(t.nodeType===8?t.parentNode:t),new lm(e)};qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Zw(e),t=t===null?null:t.stateNode,t};qt.flushSync=function(t){return Fs(t)};qt.hydrate=function(t,e,n){if(!Fc(e))throw Error(B(200));return Uc(null,t,e,!0,n)};qt.hydrateRoot=function(t,e,n){if(!um(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=NE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AE(e,null,t,1,n??null,s,!1,i,o),t[Zn]=e.current,_a(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Lc(e)};qt.render=function(t,e,n){if(!Fc(e))throw Error(B(200));return Uc(null,t,e,!1,n)};qt.unmountComponentAtNode=function(t){if(!Fc(t))throw Error(B(40));return t._reactRootContainer?(Fs(function(){Uc(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};qt.unstable_batchedUpdates=nm;qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Uc(t,e,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function RE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RE)}catch(t){console.error(t)}}RE(),Rw.exports=qt;var FP=Rw.exports,$v=FP;Mh.createRoot=$v.createRoot,Mh.hydrateRoot=$v.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}var Nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nr||(Nr={}));const Hv="popstate";function UP(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Af("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xu(s)}return zP(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BP(){return Math.random().toString(36).substr(2,8)}function Wv(t,e){return{usr:t.state,key:t.key,idx:e}}function Af(t,e,n,r){return n===void 0&&(n=null),Aa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oo(e):e,{state:n,key:e&&e.key||r||BP()})}function Xu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zP(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Nr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Aa({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Nr.Pop;let I=h(),v=I==null?null:I-c;c=I,u&&u({action:a,location:_.location,delta:v})}function m(I,v){a=Nr.Push;let x=Af(_.location,I,v);c=h()+1;let w=Wv(x,c),C=_.createHref(x);try{o.pushState(w,"",C)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(C)}i&&u&&u({action:a,location:_.location,delta:1})}function y(I,v){a=Nr.Replace;let x=Af(_.location,I,v);c=h();let w=Wv(x,c),C=_.createHref(x);o.replaceState(w,"",C),i&&u&&u({action:a,location:_.location,delta:0})}function T(I){let v=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof I=="string"?I:Xu(I);return x=x.replace(/ $/,"%20"),Ue(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let _={get action(){return a},get location(){return t(s,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Hv,f),u=I,()=>{s.removeEventListener(Hv,f),u=null}},createHref(I){return e(s,I)},createURL:T,encodeLocation(I){let v=T(I);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(I){return o.go(I)}};return _}var qv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qv||(qv={}));function $P(t,e,n){return n===void 0&&(n="/"),HP(t,e,n)}function HP(t,e,n,r){let s=typeof e=="string"?oo(e):e,i=dm(s.pathname||"/",n);if(i==null)return null;let o=jE(t);WP(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=rC(i);a=eC(o[u],c)}return a}function jE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Ue(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Br([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jE(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:JP(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of DE(i.path))s(i,o,u)}),e}function DE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=DE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function WP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qP=/^:[\w-]+$/,GP=3,KP=2,QP=1,YP=10,XP=-2,Gv=t=>t==="*";function JP(t,e){let n=t.split("/"),r=n.length;return n.some(Gv)&&(r+=XP),e&&(r+=KP),n.filter(s=>!Gv(s)).reduce((s,i)=>s+(qP.test(i)?GP:i===""?QP:YP),r)}function ZP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function eC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=tC({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Br([i,f.pathname]),pathnameBase:lC(Br([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Br([i,f.pathnameBase]))}return o}function tC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const T=a[f];return y&&!T?c[m]=void 0:c[m]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function nC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function rC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const sC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iC=t=>sC.test(t);function oC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?oo(t):t,i;if(n)if(iC(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),cm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Kv(n.substring(1),"/"):i=Kv(n,e)}else i=e;return{pathname:i,search:uC(r),hash:cC(s)}}function Kv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ah(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hm(t,e){let n=aC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=oo(t):(s=Aa({},t),Ue(!s.pathname||!s.pathname.includes("?"),ah("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),ah("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),ah("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=oC(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Br=t=>t.join("/").replace(/\/\/+/g,"/"),lC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VE=["post","put","patch","delete"];new Set(VE);const hC=["get",...VE];new Set(hC);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Na(){return Na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Na.apply(this,arguments)}const pm=N.createContext(null),fC=N.createContext(null),ls=N.createContext(null),Bc=N.createContext(null),lr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),ME=N.createContext(null);function pC(t,e){let{relative:n}=e===void 0?{}:e;ao()||Ue(!1);let{basename:r,navigator:s}=N.useContext(ls),{hash:i,pathname:o,search:a}=LE(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Br([r,o])),s.createHref({pathname:u,search:a,hash:i})}function ao(){return N.useContext(Bc)!=null}function Qs(){return ao()||Ue(!1),N.useContext(Bc).location}function OE(t){N.useContext(ls).static||N.useLayoutEffect(t)}function ur(){let{isDataRoute:t}=N.useContext(lr);return t?PC():mC()}function mC(){ao()||Ue(!1);let t=N.useContext(pm),{basename:e,future:n,navigator:r}=N.useContext(ls),{matches:s}=N.useContext(lr),{pathname:i}=Qs(),o=JSON.stringify(hm(s,n.v7_relativeSplatPath)),a=N.useRef(!1);return OE(()=>{a.current=!0}),N.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=fm(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Br([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function gC(){let{matches:t}=N.useContext(lr),e=t[t.length-1];return e?e.params:{}}function LE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(ls),{matches:s}=N.useContext(lr),{pathname:i}=Qs(),o=JSON.stringify(hm(s,r.v7_relativeSplatPath));return N.useMemo(()=>fm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function yC(t,e){return vC(t,e)}function vC(t,e,n,r){ao()||Ue(!1);let{navigator:s}=N.useContext(ls),{matches:i}=N.useContext(lr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Qs(),h;if(e){var f;let I=typeof e=="string"?oo(e):e;u==="/"||(f=I.pathname)!=null&&f.startsWith(u)||Ue(!1),h=I}else h=c;let m=h.pathname||"/",y=m;if(u!=="/"){let I=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=$P(t,{pathname:y}),_=TC(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Br([u,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:Br([u,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n,r);return e&&_?N.createElement(Bc.Provider,{value:{location:Na({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Nr.Pop}},_):_}function xC(){let t=kC(),e=dC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,null)}const wC=N.createElement(xC,null);class _C extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(lr.Provider,{value:this.props.routeContext},N.createElement(ME.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EC(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(pm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(lr.Provider,{value:e},r)}function TC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ue(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:y}=n,T=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||T){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,T=!1,_=null,I=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||wC,u&&(c<0&&m===0?(CC("route-fallback"),T=!0,I=null):c===m&&(T=!0,I=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),x=()=>{let w;return y?w=_:T?w=I:f.route.Component?w=N.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,N.createElement(EC,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?N.createElement(_C,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var FE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FE||{}),UE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(UE||{});function bC(t){let e=N.useContext(pm);return e||Ue(!1),e}function SC(t){let e=N.useContext(fC);return e||Ue(!1),e}function IC(t){let e=N.useContext(lr);return e||Ue(!1),e}function BE(t){let e=IC(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function kC(){var t;let e=N.useContext(ME),n=SC(),r=BE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function PC(){let{router:t}=bC(FE.UseNavigateStable),e=BE(UE.UseNavigateStable),n=N.useRef(!1);return OE(()=>{n.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Na({fromRouteId:e},i)))},[t,e])}const Qv={};function CC(t,e,n){Qv[t]||(Qv[t]=!0)}function AC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function NC(t){let{to:e,replace:n,state:r,relative:s}=t;ao()||Ue(!1);let{future:i,static:o}=N.useContext(ls),{matches:a}=N.useContext(lr),{pathname:u}=Qs(),c=ur(),h=fm(e,hm(a,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(h);return N.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function et(t){Ue(!1)}function RC(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Nr.Pop,navigator:i,static:o=!1,future:a}=t;ao()&&Ue(!1);let u=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:u,navigator:i,static:o,future:Na({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=oo(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:T="default"}=r,_=N.useMemo(()=>{let I=dm(h,u);return I==null?null:{location:{pathname:I,search:f,hash:m,state:y,key:T},navigationType:s}},[u,h,f,m,y,T,s]);return _==null?null:N.createElement(ls.Provider,{value:c},N.createElement(Bc.Provider,{children:n,value:_}))}function jC(t){let{children:e,location:n}=t;return yC(Nf(e),n)}new Promise(()=>{});function Nf(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let i=[...e,s];if(r.type===N.Fragment){n.push.apply(n,Nf(r.props.children,i));return}r.type!==et&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function DC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function VC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MC(t,e){return t.button===0&&(!e||e==="_self")&&!VC(t)}function jf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function OC(t,e){let n=jf(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const LC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FC="6";try{window.__reactRouterVersion=FC}catch{}const UC="startTransition",Yv=PI[UC];function BC(t){let{basename:e,children:n,future:r,window:s}=t,i=N.useRef();i.current==null&&(i.current=UP({window:s,v5Compat:!0}));let o=i.current,[a,u]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=N.useCallback(f=>{c&&Yv?Yv(()=>u(f)):u(f)},[u,c]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.useEffect(()=>AC(r),[r]),N.createElement(RC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=N.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f}=e,m=DC(e,LC),{basename:y}=N.useContext(ls),T,_=!1;if(typeof c=="string"&&$C.test(c)&&(T=c,zC))try{let w=new URL(window.location.href),C=c.startsWith("//")?new URL(w.protocol+c):new URL(c),V=dm(C.pathname,y);C.origin===w.origin&&V!=null?c=V+C.search+C.hash:_=!0}catch{}let I=pC(c,{relative:s}),v=HC(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:s,viewTransition:f});function x(w){r&&r(w),w.defaultPrevented||v(w)}return N.createElement("a",Rf({},m,{href:T||I,onClick:_||i?r:x,ref:n,target:u}))});var Xv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xv||(Xv={}));var Jv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jv||(Jv={}));function HC(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,u=ur(),c=Qs(),h=LE(t,{relative:o});return N.useCallback(f=>{if(MC(f,n)){f.preventDefault();let m=r!==void 0?r:Xu(c)===Xu(h);u(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,h,r,s,n,t,i,o,a])}function WC(t){let e=N.useRef(jf(t)),n=N.useRef(!1),r=Qs(),s=N.useMemo(()=>OC(r.search,n.current?null:e.current),[r.search]),i=ur(),o=N.useCallback((a,u)=>{const c=jf(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,u)},[i,s]);return[s,o]}var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new GC;const m=i<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const T=c<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KC=function(t){const e=zE(t);return $E.encodeByteArray(e,!0)},Ju=function(t){return KC(t).replace(/\./g,"")},HE=function(t){try{return $E.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=()=>QC().__FIREBASE_DEFAULTS__,XC=()=>{if(typeof process>"u"||typeof Zv>"u")return;const t=Zv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HE(t[1]);return e&&JSON.parse(e)},zc=()=>{try{return YC()||XC()||JC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WE=t=>{var e,n;return(n=(e=zc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qE=t=>{const e=WE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GE=()=>{var t;return(t=zc())===null||t===void 0?void 0:t.config},KE=t=>{var e;return(e=zc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ju(JSON.stringify(n)),Ju(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function tA(){var t;const e=(t=zc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function lA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uA,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?cA(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vn(s,a,r)}}function cA(t,e){return t.replace(dA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const dA=/\{\$([^}]+)}/g;function hA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(e0(i)&&e0(o)){if(!Wi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function e0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function $o(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fA(t,e){const n=new pA(t,e);return n.subscribe.bind(n)}class pA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lh),s.error===void 0&&(s.error=lh),s.complete===void 0&&(s.complete=lh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vA(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(t){return t===ws?void 0:t}function vA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const wA={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},_A=ue.INFO,EA={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},TA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=EA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=_A,this._logHandler=TA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const bA=(t,e)=>e.some(n=>t instanceof n);let t0,n0;function SA(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IA(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Df=new WeakMap,XE=new WeakMap,uh=new WeakMap,gm=new WeakMap;function kA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,t)}).catch(()=>{}),gm.set(e,t),e}function PA(t){if(Df.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Df.set(t,e)}let Vf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Df.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CA(t){Vf=t(Vf)}function AA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ch(this),e,...n);return XE.set(r,e.sort?e.sort():[e]),zr(r)}:IA().includes(t)?function(...e){return t.apply(ch(this),e),zr(YE.get(this))}:function(...e){return zr(t.apply(ch(this),e))}}function NA(t){return typeof t=="function"?AA(t):(t instanceof IDBTransaction&&PA(t),bA(t,SA())?new Proxy(t,Vf):t)}function zr(t){if(t instanceof IDBRequest)return kA(t);if(uh.has(t))return uh.get(t);const e=NA(t);return e!==t&&(uh.set(t,e),gm.set(e,t)),e}const ch=t=>gm.get(t);function RA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zr(o.result),u.oldVersion,u.newVersion,zr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],dh=new Map;function r0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dh.get(e))return dh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jA.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return dh.set(e,i),i}CA(t=>({...t,get:(e,n,r)=>r0(e,n)||t.get(e,n,r),has:(e,n)=>!!r0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",s0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new mm("@firebase/app"),OA="@firebase/app-compat",LA="@firebase/analytics-compat",FA="@firebase/analytics",UA="@firebase/app-check-compat",BA="@firebase/app-check",zA="@firebase/auth",$A="@firebase/auth-compat",HA="@firebase/database",WA="@firebase/data-connect",qA="@firebase/database-compat",GA="@firebase/functions",KA="@firebase/functions-compat",QA="@firebase/installations",YA="@firebase/installations-compat",XA="@firebase/messaging",JA="@firebase/messaging-compat",ZA="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",r2="@firebase/storage",s2="@firebase/storage-compat",i2="@firebase/firestore",o2="@firebase/vertexai-preview",a2="@firebase/firestore-compat",l2="firebase",u2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",c2={[Mf]:"fire-core",[OA]:"fire-core-compat",[FA]:"fire-analytics",[LA]:"fire-analytics-compat",[BA]:"fire-app-check",[UA]:"fire-app-check-compat",[zA]:"fire-auth",[$A]:"fire-auth-compat",[HA]:"fire-rtdb",[WA]:"fire-data-connect",[qA]:"fire-rtdb-compat",[GA]:"fire-fn",[KA]:"fire-fn-compat",[QA]:"fire-iid",[YA]:"fire-iid-compat",[XA]:"fire-fcm",[JA]:"fire-fcm-compat",[ZA]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[r2]:"fire-gcs",[s2]:"fire-gcs-compat",[i2]:"fire-fst",[a2]:"fire-fst-compat",[o2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,d2=new Map,Lf=new Map;function i0(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(Lf.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Lf.set(e,t);for(const n of Zu.values())i0(n,t);for(const n of d2.values())i0(n,t);return!0}function $c(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Ga("app","Firebase",h2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=u2;function JE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $r.create("bad-app-name",{appName:String(s)});if(n||(n=GE()),!n)throw $r.create("no-options");const i=Zu.get(s);if(i){if(Wi(n,i.options)&&Wi(r,i.config))return i;throw $r.create("duplicate-app",{appName:s})}const o=new xA(s);for(const u of Lf.values())o.addComponent(u);const a=new f2(n,r,o);return Zu.set(s,a),a}function ym(t=Of){const e=Zu.get(t);if(!e&&t===Of&&GE())return JE();if(!e)throw $r.create("no-app",{appName:t});return e}function In(t,e,n){var r;let s=(r=c2[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}Us(new Jr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firebase-heartbeat-database",m2=1,Ra="firebase-heartbeat-store";let hh=null;function ZE(){return hh||(hh=RA(p2,m2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw $r.create("idb-open",{originalErrorMessage:t.message})})),hh}async function g2(t){try{const n=(await ZE()).transaction(Ra),r=await n.objectStore(Ra).get(e1(t));return await n.done,r}catch(e){if(e instanceof Vn)nr.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function o0(t,e){try{const r=(await ZE()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,e1(t)),await r.done}catch(n){if(n instanceof Vn)nr.warn(n.message);else{const r=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function e1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=1024,v2=30*24*60*60*1e3;class x2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=a0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=v2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a0(),{heartbeatsToSend:r,unsentEntries:s}=w2(this._heartbeatsCache.heartbeats),i=Ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return nr.warn(n),""}}}function a0(){return new Date().toISOString().substring(0,10)}function w2(t,e=y2){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),l0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),l0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return o0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return o0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function l0(t){return Ju(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){Us(new Jr("platform-logger",e=>new VA(e),"PRIVATE")),Us(new Jr("heartbeat",e=>new x2(e),"PRIVATE")),In(Mf,s0,t),In(Mf,s0,"esm2017"),In("fire-js","")}E2("");var T2="firebase",b2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In(T2,b2,"app");function vm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S2=t1,n1=new Ga("auth","Firebase",t1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new mm("@firebase/auth");function I2(t,...e){ec.logLevel<=ue.WARN&&ec.warn(`Auth (${Ys}): ${t}`,...e)}function mu(t,...e){ec.logLevel<=ue.ERROR&&ec.error(`Auth (${Ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,...e){throw wm(t,...e)}function mn(t,...e){return wm(t,...e)}function xm(t,e,n){const r=Object.assign(Object.assign({},S2()),{[e]:n});return new Ga("auth","Firebase",r).create(e,{appName:t.name})}function kn(t){return xm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sn(t,"argument-error"),xm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n1.create(t,...e)}function X(t,e,...n){if(!t)throw wm(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mu(e),new Error(e)}function rr(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function r1(){return u0()==="http:"||u0()==="https:"}function u0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r1()||rA()||"connection"in navigator)?navigator.onLine:!0}function C2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=eA()||sA()}get(){return P2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Qa(3e4,6e4);function Mn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function on(t,e,n,r,s={}){return i1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ka(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return nA()||(c.referrerPolicy="no-referrer"),s1.fetch()(o1(t,t.config.apiHost,n,a),c)})}async function i1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},A2),e);try{const s=new j2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ql(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ql(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xm(t,h,c);sn(t,h)}}catch(s){if(s instanceof Vn)throw s;sn(t,"network-request-failed",{message:String(s)})}}async function Ya(t,e,n,r,s={}){const i=await on(t,e,n,r,s);return"mfaPendingCredential"in i&&sn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function o1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?_m(t.config,s):`${t.config.apiScheme}://${s}`}function R2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),N2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mn(t,e,r);return s.customData._tokenResponse=n,s}function c0(t){return t!==void 0&&t.enterprise!==void 0}class D2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function V2(t,e){return on(t,"GET","/v2/recaptchaConfig",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){return on(t,"POST","/v1/accounts:delete",e)}async function a1(t,e){return on(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O2(t,e=!1){const n=Re(t),r=await n.getIdToken(e),s=Em(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ra(fh(s.auth_time)),issuedAtTime:ra(fh(s.iat)),expirationTime:ra(fh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function fh(t){return Number(t)*1e3}function Em(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mu("JWT malformed, contained fewer than 3 sections"),null;try{const s=HE(n);return s?JSON.parse(s):(mu("Failed to decode base64 JWT payload"),null)}catch(s){return mu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function d0(t){const e=Em(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&L2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ra(this.lastLoginAt),this.creationTime=ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Bs(t,a1(n,{idToken:r}));X(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?l1(i.providerUserInfo):[],a=B2(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ff(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function U2(t){const e=Re(t);await nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function l1(t){return t.map(e=>{var{providerId:n}=e,r=vm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e){const n=await i1(t,{},async()=>{const r=Ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=o1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",s1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $2(t,e){return on(t,"POST","/v2/accounts:revokeToken",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=d0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await z2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Di;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Di,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ff(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bs(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O2(this,e)}reload(){return U2(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(kn(this.auth));const e=await this.getIdToken();return await Bs(this,M2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:C,isAnonymous:V,providerData:M,stsTokenManager:k}=n;X(w&&k,e,"internal-error");const E=Di.fromJSON(this.name,k);X(typeof w=="string",e,"internal-error"),yr(f,e.name),yr(m,e.name),X(typeof C=="boolean",e,"internal-error"),X(typeof V=="boolean",e,"internal-error"),yr(y,e.name),yr(T,e.name),yr(_,e.name),yr(I,e.name),yr(v,e.name),yr(x,e.name);const S=new qn({uid:w,auth:e,email:m,emailVerified:C,displayName:f,isAnonymous:V,photoURL:T,phoneNumber:y,tenantId:_,stsTokenManager:E,createdAt:v,lastLoginAt:x});return M&&Array.isArray(M)&&(S.providerData=M.map(P=>Object.assign({},P))),I&&(S._redirectEventId=I),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new Di;s.updateFromServerResponse(n);const i=new qn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];X(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?l1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Di;a.updateFromIdToken(r);const u=new qn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ff(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function Gn(t){rr(t instanceof Function,"Expected a class definition");let e=h0.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u1.type="NONE";const f0=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t,e,n){return`firebase:${t}:${e}:${n}`}class Vi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=gu(this.userKey,s.apiKey,i),this.fullPersistenceKey=gu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vi(Gn(f0),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Gn(f0);const o=gu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=qn._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Vi(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Vi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m1(e))return"Blackberry";if(g1(e))return"Webos";if(d1(e))return"Safari";if((e.includes("chrome/")||h1(e))&&!e.includes("edge/"))return"Chrome";if(p1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function c1(t=xt()){return/firefox\//i.test(t)}function d1(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h1(t=xt()){return/crios\//i.test(t)}function f1(t=xt()){return/iemobile/i.test(t)}function p1(t=xt()){return/android/i.test(t)}function m1(t=xt()){return/blackberry/i.test(t)}function g1(t=xt()){return/webos/i.test(t)}function Tm(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H2(t=xt()){var e;return Tm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W2(){return iA()&&document.documentMode===10}function y1(t=xt()){return Tm(t)||p1(t)||g1(t)||m1(t)||/windows phone/i.test(t)||f1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e=[]){let n;switch(t){case"Browser":n=p0(xt());break;case"Worker":n=`${p0(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ys}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e={}){return on(t,"GET","/v2/passwordPolicy",Mn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=6;class Q2{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:K2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new q2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Vi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await a1(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(en(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(kn(this));const n=e?Re(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G2(this),n=new Q2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gn(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Vi.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&I2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cr(t){return Re(t)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fA(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X2(t){Hc=t}function x1(t){return Hc.loadJS(t)}function J2(){return Hc.recaptchaEnterpriseScript}function Z2(){return Hc.gapiScript}function eN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const tN="recaptcha-enterprise",nN="NO_RECAPTCHA";class rN{constructor(e){this.type=tN,this.auth=cr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{V2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new D2(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;c0(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(nN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&c0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=J2();u.length!==0&&(u+=a),x1(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function g0(t,e,n,r=!1){const s=new rN(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rc(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await g0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await g0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e){const n=$c(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Wi(i,e??{}))return s;sn(s,"already-initialized")}return n.initialize({options:e})}function iN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oN(t,e,n){const r=cr(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=w1(e),{host:o,port:a}=aN(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),lN()}function w1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aN(t){const e=w1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:y0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:y0(o)}}}function y0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function uN(t,e){return on(t,"POST","/v1/accounts:update",e)}async function cN(t,e){return on(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e){return Ya(t,"POST","/v1/accounts:signInWithPassword",Mn(t,e))}async function _1(t,e){return on(t,"POST","/v1/accounts:sendOobCode",Mn(t,e))}async function hN(t,e){return _1(t,e)}async function fN(t,e){return _1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",Mn(t,e))}async function mN(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends bm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ja(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ja(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rc(e,n,"signInWithPassword",dN);case"emailLink":return pN(e,{email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rc(e,r,"signUpPassword",cN);case"emailLink":return mN(e,{idToken:n,email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(t,e){return Ya(t,"POST","/v1/accounts:signInWithIdp",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="http://localhost";class zs extends bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=vm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new zs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mi(e,n)}buildRequest(){const e={requestUri:gN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ka(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vN(t){const e=zo($o(t)).link,n=e?zo($o(e)).deep_link_id:null,r=zo($o(t)).deep_link_id;return(r?zo($o(r)).link:null)||r||n||e||t}class Sm{constructor(e){var n,r,s,i,o,a;const u=zo($o(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=yN((s=u.mode)!==null&&s!==void 0?s:null);X(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vN(e);try{return new Sm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.providerId=Xs.PROVIDER_ID}static credential(e,n){return ja._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sm.parseLink(n);return X(r,"argument-error"),ja._fromEmailAndCode(e,r.code,r.tenantId)}}Xs.PROVIDER_ID="password";Xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Xa{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zn.credential(n,r)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Xa{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Xa{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e){return Ya(t,"POST","/v1/accounts:signUp",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await qn._fromIdTokenResponse(e,r,s),o=v0(r);return new $s({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=v0(r);return new $s({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function v0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Vn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new sc(e,n,r,s)}}function E1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(t,i,e,r):i})}async function wN(t,e,n=!1){const r=await Bs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(t,e,n=!1){const{auth:r}=t;if(en(r.app))return Promise.reject(kn(r));const s="reauthenticate";try{const i=await Bs(t,E1(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=Em(i.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),$s._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t,e,n=!1){if(en(t.app))return Promise.reject(kn(t));const r="signIn",s=await E1(t,r,e),i=await $s._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function _N(t,e){return b1(cr(t),e)}async function EN(t,e){return T1(Re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t,e,n){var r;X(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),X(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(t){const e=cr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bN(t,e,n){const r=cr(t);await rc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",fN)}async function SN(t,e,n){if(en(t.app))return Promise.reject(kn(t));const r=cr(t),o=await rc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&S1(t),u}),a=await $s._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function IN(t,e,n){return en(t.app)?Promise.reject(kn(t)):_N(Re(t),Xs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&S1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e){return on(t,"POST","/v1/accounts:createAuthUri",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e){const n=r1()?tc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await kN(Re(t),r);return s||[]}async function CN(t,e){const n=Re(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&TN(n.auth,s,e);const{email:i}=await hN(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){return on(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Re(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Bs(r,AN(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function NN(t,e){const n=Re(t);return en(n.auth.app)?Promise.reject(kn(n.auth)):RN(n,e)}async function RN(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e);const o=await Bs(t,uN(r,i));await t._updateTokensIfNecessary(o,!0)}function jN(t,e,n,r){return Re(t).onIdTokenChanged(e,n,r)}function DN(t,e,n){return Re(t).beforeAuthStateChanged(e,n)}function VN(t,e,n,r){return Re(t).onAuthStateChanged(e,n,r)}function MN(t){return Re(t).signOut()}const ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ic,"1"),this.storage.removeItem(ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1e3,LN=10;class P1 extends k1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);W2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,LN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P1.type="LOCAL";const FN=P1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends k1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C1.type="SESSION";const A1=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await UN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=km("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function zN(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function $N(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WN(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firebaseLocalStorageDb",qN=1,oc="firebaseLocalStorage",j1="fbase_key";class Ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qc(t,e){return t.transaction([oc],e?"readwrite":"readonly").objectStore(oc)}function GN(){const t=indexedDB.deleteDatabase(R1);return new Ja(t).toPromise()}function Uf(){const t=indexedDB.open(R1,qN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(oc,{keyPath:j1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(oc)?e(r):(r.close(),await GN(),e(await Uf()))})})}async function x0(t,e,n){const r=qc(t,!0).put({[j1]:e,value:n});return new Ja(r).toPromise()}async function KN(t,e){const n=qc(t,!1).get(e),r=await new Ja(n).toPromise();return r===void 0?null:r.value}function w0(t,e){const n=qc(t,!0).delete(e);return new Ja(n).toPromise()}const QN=800,YN=3;class D1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(WN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $N(),!this.activeServiceWorker)return;this.sender=new BN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uf();return await x0(e,ic,"1"),await w0(e,ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=qc(s,!1).getAll();return new Ja(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D1.type="LOCAL";const XN=D1;new Qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){return e?Gn(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JN(t){return b1(t.auth,new Pm(t),t.bypassAuthState)}function ZN(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),T1(n,new Pm(t),t.bypassAuthState)}async function eR(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),wN(n,new Pm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JN;case"linkViaPopup":case"linkViaRedirect":return eR;case"reauthViaPopup":case"reauthViaRedirect":return ZN;default:sn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new Qa(2e3,1e4);async function nR(t,e,n){if(en(t.app))return Promise.reject(mn(t,"operation-not-supported-in-this-environment"));const r=cr(t);k2(t,e,Im);const s=V1(r,n);return new ks(r,"signInViaPopup",e,s).executeNotNull()}class ks extends M1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tR.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="pendingRedirect",yu=new Map;class sR extends M1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yu.get(this.auth._key());if(!e){try{const r=await iR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yu.set(this.auth._key(),e)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iR(t,e){const n=lR(e),r=aR(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function oR(t,e){yu.set(t._key(),e)}function aR(t){return Gn(t._redirectPersistence)}function lR(t){return gu(rR,t.config.apiKey,t.name)}async function uR(t,e,n=!1){if(en(t.app))return Promise.reject(kn(t));const r=cr(t),s=V1(r,e),o=await new sR(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=10*60*1e3;class dR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!O1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cR&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function O1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e={}){return on(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mR=/^https?/;async function gR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fR(t);for(const n of e)try{if(yR(n))return}catch{}sn(t,"unauthorized-domain")}function yR(t){const e=tc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mR.test(n))return!1;if(pR.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Qa(3e4,6e4);function E0(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xR(t){return new Promise((e,n)=>{var r,s,i;function o(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),n(mn(t,"network-request-failed"))},timeout:vR.get()})}if(!((s=(r=Pn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Pn().gapi)===null||i===void 0)&&i.load)o();else{const a=eN("iframefcb");return Pn()[a]=()=>{gapi.load?o():n(mn(t,"network-request-failed"))},x1(`${Z2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw vu=null,e})}let vu=null;function wR(t){return vu=vu||xR(t),vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Qa(5e3,15e3),ER="__/auth/iframe",TR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IR(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_m(e,TR):`https://${t.config.authDomain}/${ER}`,r={apiKey:e.apiKey,appName:t.name,v:Ys},s=SR.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ka(r).slice(1)}`}async function kR(t){const e=await wR(t),n=Pn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:IR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=mn(t,"network-request-failed"),a=Pn().setTimeout(()=>{i(o)},_R.get());function u(){Pn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CR=500,AR=600,NR="_blank",RR="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jR(t,e,n,r=CR,s=AR){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},PR),{width:r.toString(),height:s.toString(),top:i,left:o}),c=xt().toLowerCase();n&&(a=h1(c)?NR:n),c1(c)&&(e=e||RR,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(H2(c)&&a!=="_self")return DR(e||"",a),new T0(null);const f=window.open(e||"",a,h);X(f,t,"popup-blocked");try{f.focus()}catch{}return new T0(f)}function DR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="__/auth/handler",MR="emulator/auth/handler",OR=encodeURIComponent("fac");async function b0(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ys,eventId:s};if(e instanceof Im){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Xa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${OR}=${encodeURIComponent(u)}`:"";return`${LR(t)}?${Ka(a).slice(1)}${c}`}function LR({config:t}){return t.emulator?_m(t,MR):`https://${t.authDomain}/${VR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="webStorageSupport";class FR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A1,this._completeRedirectFn=uR,this._overrideRedirectResult=oR}async _openPopup(e,n,r,s){var i;rr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await b0(e,n,r,tc(),s);return jR(e,o,km())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await b0(e,n,r,tc(),s);return zN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kR(e),r=new dR(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ph,{type:ph},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ph];o!==void 0&&n(!!o),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y1()||d1()||Tm()}}const UR=FR;var S0="@firebase/auth",I0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $R(t){Us(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(t)},c=new Y2(r,s,i,u);return iN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new Jr("auth-internal",e=>{const n=cr(e.getProvider("auth").getImmediate());return(r=>new BR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(S0,I0,zR(t)),In(S0,I0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=5*60,WR=KE("authIdTokenMaxAge")||HR;let k0=null;const qR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WR)return;const s=n==null?void 0:n.token;k0!==s&&(k0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function GR(t=ym()){const e=$c(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sN(t,{popupRedirectResolver:UR,persistence:[XN,FN,A1]}),r=KE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=qR(i.toString());DN(n,o,()=>o(n.currentUser)),jN(n,a=>o(a))}}const s=WE("auth");return s&&oN(n,`http://${s}`),n}function KR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}X2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",KR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$R("Browser");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,L1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,E){function S(){}S.prototype=E.prototype,k.D=E.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(P,R,j){for(var A=Array(arguments.length-2),se=2;se<arguments.length;se++)A[se-2]=arguments[se];return E.prototype[R].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,E,S){S||(S=0);var P=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)P[R]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(R=0;16>R;++R)P[R]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=k.g[0],S=k.g[1],R=k.g[2];var j=k.g[3],A=E+(j^S&(R^j))+P[0]+3614090360&4294967295;E=S+(A<<7&4294967295|A>>>25),A=j+(R^E&(S^R))+P[1]+3905402710&4294967295,j=E+(A<<12&4294967295|A>>>20),A=R+(S^j&(E^S))+P[2]+606105819&4294967295,R=j+(A<<17&4294967295|A>>>15),A=S+(E^R&(j^E))+P[3]+3250441966&4294967295,S=R+(A<<22&4294967295|A>>>10),A=E+(j^S&(R^j))+P[4]+4118548399&4294967295,E=S+(A<<7&4294967295|A>>>25),A=j+(R^E&(S^R))+P[5]+1200080426&4294967295,j=E+(A<<12&4294967295|A>>>20),A=R+(S^j&(E^S))+P[6]+2821735955&4294967295,R=j+(A<<17&4294967295|A>>>15),A=S+(E^R&(j^E))+P[7]+4249261313&4294967295,S=R+(A<<22&4294967295|A>>>10),A=E+(j^S&(R^j))+P[8]+1770035416&4294967295,E=S+(A<<7&4294967295|A>>>25),A=j+(R^E&(S^R))+P[9]+2336552879&4294967295,j=E+(A<<12&4294967295|A>>>20),A=R+(S^j&(E^S))+P[10]+4294925233&4294967295,R=j+(A<<17&4294967295|A>>>15),A=S+(E^R&(j^E))+P[11]+2304563134&4294967295,S=R+(A<<22&4294967295|A>>>10),A=E+(j^S&(R^j))+P[12]+1804603682&4294967295,E=S+(A<<7&4294967295|A>>>25),A=j+(R^E&(S^R))+P[13]+4254626195&4294967295,j=E+(A<<12&4294967295|A>>>20),A=R+(S^j&(E^S))+P[14]+2792965006&4294967295,R=j+(A<<17&4294967295|A>>>15),A=S+(E^R&(j^E))+P[15]+1236535329&4294967295,S=R+(A<<22&4294967295|A>>>10),A=E+(R^j&(S^R))+P[1]+4129170786&4294967295,E=S+(A<<5&4294967295|A>>>27),A=j+(S^R&(E^S))+P[6]+3225465664&4294967295,j=E+(A<<9&4294967295|A>>>23),A=R+(E^S&(j^E))+P[11]+643717713&4294967295,R=j+(A<<14&4294967295|A>>>18),A=S+(j^E&(R^j))+P[0]+3921069994&4294967295,S=R+(A<<20&4294967295|A>>>12),A=E+(R^j&(S^R))+P[5]+3593408605&4294967295,E=S+(A<<5&4294967295|A>>>27),A=j+(S^R&(E^S))+P[10]+38016083&4294967295,j=E+(A<<9&4294967295|A>>>23),A=R+(E^S&(j^E))+P[15]+3634488961&4294967295,R=j+(A<<14&4294967295|A>>>18),A=S+(j^E&(R^j))+P[4]+3889429448&4294967295,S=R+(A<<20&4294967295|A>>>12),A=E+(R^j&(S^R))+P[9]+568446438&4294967295,E=S+(A<<5&4294967295|A>>>27),A=j+(S^R&(E^S))+P[14]+3275163606&4294967295,j=E+(A<<9&4294967295|A>>>23),A=R+(E^S&(j^E))+P[3]+4107603335&4294967295,R=j+(A<<14&4294967295|A>>>18),A=S+(j^E&(R^j))+P[8]+1163531501&4294967295,S=R+(A<<20&4294967295|A>>>12),A=E+(R^j&(S^R))+P[13]+2850285829&4294967295,E=S+(A<<5&4294967295|A>>>27),A=j+(S^R&(E^S))+P[2]+4243563512&4294967295,j=E+(A<<9&4294967295|A>>>23),A=R+(E^S&(j^E))+P[7]+1735328473&4294967295,R=j+(A<<14&4294967295|A>>>18),A=S+(j^E&(R^j))+P[12]+2368359562&4294967295,S=R+(A<<20&4294967295|A>>>12),A=E+(S^R^j)+P[5]+4294588738&4294967295,E=S+(A<<4&4294967295|A>>>28),A=j+(E^S^R)+P[8]+2272392833&4294967295,j=E+(A<<11&4294967295|A>>>21),A=R+(j^E^S)+P[11]+1839030562&4294967295,R=j+(A<<16&4294967295|A>>>16),A=S+(R^j^E)+P[14]+4259657740&4294967295,S=R+(A<<23&4294967295|A>>>9),A=E+(S^R^j)+P[1]+2763975236&4294967295,E=S+(A<<4&4294967295|A>>>28),A=j+(E^S^R)+P[4]+1272893353&4294967295,j=E+(A<<11&4294967295|A>>>21),A=R+(j^E^S)+P[7]+4139469664&4294967295,R=j+(A<<16&4294967295|A>>>16),A=S+(R^j^E)+P[10]+3200236656&4294967295,S=R+(A<<23&4294967295|A>>>9),A=E+(S^R^j)+P[13]+681279174&4294967295,E=S+(A<<4&4294967295|A>>>28),A=j+(E^S^R)+P[0]+3936430074&4294967295,j=E+(A<<11&4294967295|A>>>21),A=R+(j^E^S)+P[3]+3572445317&4294967295,R=j+(A<<16&4294967295|A>>>16),A=S+(R^j^E)+P[6]+76029189&4294967295,S=R+(A<<23&4294967295|A>>>9),A=E+(S^R^j)+P[9]+3654602809&4294967295,E=S+(A<<4&4294967295|A>>>28),A=j+(E^S^R)+P[12]+3873151461&4294967295,j=E+(A<<11&4294967295|A>>>21),A=R+(j^E^S)+P[15]+530742520&4294967295,R=j+(A<<16&4294967295|A>>>16),A=S+(R^j^E)+P[2]+3299628645&4294967295,S=R+(A<<23&4294967295|A>>>9),A=E+(R^(S|~j))+P[0]+4096336452&4294967295,E=S+(A<<6&4294967295|A>>>26),A=j+(S^(E|~R))+P[7]+1126891415&4294967295,j=E+(A<<10&4294967295|A>>>22),A=R+(E^(j|~S))+P[14]+2878612391&4294967295,R=j+(A<<15&4294967295|A>>>17),A=S+(j^(R|~E))+P[5]+4237533241&4294967295,S=R+(A<<21&4294967295|A>>>11),A=E+(R^(S|~j))+P[12]+1700485571&4294967295,E=S+(A<<6&4294967295|A>>>26),A=j+(S^(E|~R))+P[3]+2399980690&4294967295,j=E+(A<<10&4294967295|A>>>22),A=R+(E^(j|~S))+P[10]+4293915773&4294967295,R=j+(A<<15&4294967295|A>>>17),A=S+(j^(R|~E))+P[1]+2240044497&4294967295,S=R+(A<<21&4294967295|A>>>11),A=E+(R^(S|~j))+P[8]+1873313359&4294967295,E=S+(A<<6&4294967295|A>>>26),A=j+(S^(E|~R))+P[15]+4264355552&4294967295,j=E+(A<<10&4294967295|A>>>22),A=R+(E^(j|~S))+P[6]+2734768916&4294967295,R=j+(A<<15&4294967295|A>>>17),A=S+(j^(R|~E))+P[13]+1309151649&4294967295,S=R+(A<<21&4294967295|A>>>11),A=E+(R^(S|~j))+P[4]+4149444226&4294967295,E=S+(A<<6&4294967295|A>>>26),A=j+(S^(E|~R))+P[11]+3174756917&4294967295,j=E+(A<<10&4294967295|A>>>22),A=R+(E^(j|~S))+P[2]+718787259&4294967295,R=j+(A<<15&4294967295|A>>>17),A=S+(j^(R|~E))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+E&4294967295,k.g[1]=k.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+R&4294967295,k.g[3]=k.g[3]+j&4294967295}r.prototype.u=function(k,E){E===void 0&&(E=k.length);for(var S=E-this.blockSize,P=this.B,R=this.h,j=0;j<E;){if(R==0)for(;j<=S;)s(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<E;)if(P[R++]=k.charCodeAt(j++),R==this.blockSize){s(this,P),R=0;break}}else for(;j<E;)if(P[R++]=k[j++],R==this.blockSize){s(this,P),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var E=1;E<k.length-8;++E)k[E]=0;var S=8*this.o;for(E=k.length-8;E<k.length;++E)k[E]=S&255,S/=256;for(this.u(k),k=Array(16),E=S=0;4>E;++E)for(var P=0;32>P;P+=8)k[S++]=this.g[E]>>>P&255;return k};function i(k,E){var S=a;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=E(k)}function o(k,E){this.h=E;for(var S=[],P=!0,R=k.length-1;0<=R;R--){var j=k[R]|0;P&&j==E||(S[R]=j,P=!1)}this.g=S}var a={};function u(k){return-128<=k&&128>k?i(k,function(E){return new o([E|0],0>E?-1:0)}):new o([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return I(c(-k));for(var E=[],S=1,P=0;k>=S;P++)E[P]=k/S|0,S*=4294967296;return new o(E,0)}function h(k,E){if(k.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(k.charAt(0)=="-")return I(h(k.substring(1),E));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(E,8)),P=f,R=0;R<k.length;R+=8){var j=Math.min(8,k.length-R),A=parseInt(k.substring(R,R+j),E);8>j?(j=c(Math.pow(E,j)),P=P.j(j).add(c(A))):(P=P.j(S),P=P.add(c(A)))}return P}var f=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();for(var k=0,E=1,S=0;S<this.g.length;S++){var P=this.i(S);k+=(0<=P?P:4294967296+P)*E,E*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(_(this))return"-"+I(this).toString(k);for(var E=c(Math.pow(k,6)),S=this,P="";;){var R=C(S,E).g;S=v(S,R.j(E));var j=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=R,T(S))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var E=0;E<k.g.length;E++)if(k.g[E]!=0)return!1;return!0}function _(k){return k.h==-1}t.l=function(k){return k=v(this,k),_(k)?-1:T(k)?0:1};function I(k){for(var E=k.g.length,S=[],P=0;P<E;P++)S[P]=~k.g[P];return new o(S,~k.h).add(m)}t.abs=function(){return _(this)?I(this):this},t.add=function(k){for(var E=Math.max(this.g.length,k.g.length),S=[],P=0,R=0;R<=E;R++){var j=P+(this.i(R)&65535)+(k.i(R)&65535),A=(j>>>16)+(this.i(R)>>>16)+(k.i(R)>>>16);P=A>>>16,j&=65535,A&=65535,S[R]=A<<16|j}return new o(S,S[S.length-1]&-2147483648?-1:0)};function v(k,E){return k.add(I(E))}t.j=function(k){if(T(this)||T(k))return f;if(_(this))return _(k)?I(this).j(I(k)):I(I(this).j(k));if(_(k))return I(this.j(I(k)));if(0>this.l(y)&&0>k.l(y))return c(this.m()*k.m());for(var E=this.g.length+k.g.length,S=[],P=0;P<2*E;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<k.g.length;R++){var j=this.i(P)>>>16,A=this.i(P)&65535,se=k.i(R)>>>16,Me=k.i(R)&65535;S[2*P+2*R]+=A*Me,x(S,2*P+2*R),S[2*P+2*R+1]+=j*Me,x(S,2*P+2*R+1),S[2*P+2*R+1]+=A*se,x(S,2*P+2*R+1),S[2*P+2*R+2]+=j*se,x(S,2*P+2*R+2)}for(P=0;P<E;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=E;P<2*E;P++)S[P]=0;return new o(S,0)};function x(k,E){for(;(k[E]&65535)!=k[E];)k[E+1]+=k[E]>>>16,k[E]&=65535,E++}function w(k,E){this.g=k,this.h=E}function C(k,E){if(T(E))throw Error("division by zero");if(T(k))return new w(f,f);if(_(k))return E=C(I(k),E),new w(I(E.g),I(E.h));if(_(E))return E=C(k,I(E)),new w(I(E.g),E.h);if(30<k.g.length){if(_(k)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var S=m,P=E;0>=P.l(k);)S=V(S),P=V(P);var R=M(S,1),j=M(P,1);for(P=M(P,2),S=M(S,2);!T(P);){var A=j.add(P);0>=A.l(k)&&(R=R.add(S),j=A),P=M(P,1),S=M(S,1)}return E=v(k,R.j(E)),new w(R,E)}for(R=f;0<=k.l(E);){for(S=Math.max(1,Math.floor(k.m()/E.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=c(S),A=j.j(E);_(A)||0<A.l(k);)S-=P,j=c(S),A=j.j(E);T(j)&&(j=m),R=R.add(j),k=v(k,A)}return new w(R,k)}t.A=function(k){return C(this,k).h},t.and=function(k){for(var E=Math.max(this.g.length,k.g.length),S=[],P=0;P<E;P++)S[P]=this.i(P)&k.i(P);return new o(S,this.h&k.h)},t.or=function(k){for(var E=Math.max(this.g.length,k.g.length),S=[],P=0;P<E;P++)S[P]=this.i(P)|k.i(P);return new o(S,this.h|k.h)},t.xor=function(k){for(var E=Math.max(this.g.length,k.g.length),S=[],P=0;P<E;P++)S[P]=this.i(P)^k.i(P);return new o(S,this.h^k.h)};function V(k){for(var E=k.g.length+1,S=[],P=0;P<E;P++)S[P]=k.i(P)<<1|k.i(P-1)>>>31;return new o(S,k.h)}function M(k,E){var S=E>>5;E%=32;for(var P=k.g.length-S,R=[],j=0;j<P;j++)R[j]=0<E?k.i(j+S)>>>E|k.i(j+S+1)<<32-E:k.i(j+S);return new o(R,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,js=o}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F1,Ho,U1,xu,Bf,B1,z1,$1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,g){return l==Array.prototype||l==Object.prototype||(l[p]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var g=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var D=l[b];if(!(D in g))break e;g=g[D]}l=l[l.length-1],b=g[l],p=p(b),p!=b&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}function i(l,p){l instanceof String&&(l+="");var g=0,b=!1,D={next:function(){if(!b&&g<l.length){var L=g++;return{value:p(L,l[L]),done:!1}}return b=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(l){return l||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function c(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function h(l,p,g){return l.call.apply(l.bind,arguments)}function f(l,p,g){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,b),l.apply(p,D)}}return function(){return l.apply(p,arguments)}}function m(l,p,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function T(l,p){function g(){}g.prototype=p.prototype,l.aa=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(b,D,L){for(var $=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)$[xe-2]=arguments[xe];return p.prototype[D].apply(b,$)}}function _(l){const p=l.length;if(0<p){const g=Array(p);for(let b=0;b<p;b++)g[b]=l[b];return g}return[]}function I(l,p){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(u(b)){const D=l.length||0,L=b.length||0;l.length=D+L;for(let $=0;$<L;$++)l[D+$]=b[$]}else l.push(b)}}class v{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function C(l){return C[" "](l),l}C[" "]=function(){};var V=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function M(l,p,g){for(const b in l)p.call(g,l[b],b,l)}function k(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function E(l){const p={};for(const g in l)p[g]=l[g];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,p){let g,b;for(let D=1;D<arguments.length;D++){b=arguments[D];for(g in b)l[g]=b[g];for(let L=0;L<S.length;L++)g=S[L],Object.prototype.hasOwnProperty.call(b,g)&&(l[g]=b[g])}}function R(l){var p=1;l=l.split(":");const g=[];for(;0<p&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function j(l){a.setTimeout(()=>{throw l},0)}function A(){var l=W;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class se{constructor(){this.h=this.g=null}add(p,g){const b=Me.get();b.set(p,g),this.h?this.h.next=b:this.g=b,this.h=b}}var Me=new v(()=>new me,l=>l.reset());class me{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let de,z=!1,W=new se,O=()=>{const l=a.Promise.resolve(void 0);de=()=>{l.then(H)}};var H=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){j(g)}var p=Me;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}z=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return l}();function Se(l,p){if(ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(V){e:{try{C(p.nodeName);var D=!0;break e}catch{}D=!1}D||(p=null)}}else g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Qe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}T(Se,ee);var Qe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),dr=0;function xn(l,p,g,b,D){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!b,this.ha=D,this.key=++dr,this.da=this.fa=!1}function Kt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function _t(l){this.src=l,this.g={},this.h=0}_t.prototype.add=function(l,p,g,b,D){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var $=ni(l,p,b,D);return-1<$?(p=l[$],g||(p.fa=!1)):(p=new xn(p,this.src,L,!!b,D),p.fa=g,l.push(p)),p};function ds(l,p){var g=p.type;if(g in l.g){var b=l.g[g],D=Array.prototype.indexOf.call(b,p,void 0),L;(L=0<=D)&&Array.prototype.splice.call(b,D,1),L&&(Kt(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function ni(l,p,g,b){for(var D=0;D<l.length;++D){var L=l[D];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==b)return D}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),Be={};function hr(l,p,g,b,D){if(Array.isArray(p)){for(var L=0;L<p.length;L++)hr(l,p[L],g,b,D);return null}return g=Fg(g),l&&l[wt]?l.K(p,g,c(b)?!!b.capture:!1,D):dl(l,p,g,!1,b,D)}function dl(l,p,g,b,D,L){if(!p)throw Error("Invalid event type");var $=c(D)?!!D.capture:!!D,xe=yd(l);if(xe||(l[ri]=xe=new _t(l)),g=xe.add(p,g,b,$,L),g.proxy)return g;if(b=gd(),g.proxy=b,b.src=l,b.listener=g,l.addEventListener)ie||(D=$),D===void 0&&(D=!1),l.addEventListener(p.toString(),b,D);else if(l.attachEvent)l.attachEvent(Lg(p.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function gd(){function l(g){return p.call(l.src,l.listener,g)}const p=LS;return l}function hl(l,p,g,b,D){if(Array.isArray(p))for(var L=0;L<p.length;L++)hl(l,p[L],g,b,D);else b=c(b)?!!b.capture:!!b,g=Fg(g),l&&l[wt]?(l=l.i,p=String(p).toString(),p in l.g&&(L=l.g[p],g=ni(L,g,b,D),-1<g&&(Kt(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete l.g[p],l.h--)))):l&&(l=yd(l))&&(p=l.g[p.toString()],l=-1,p&&(l=ni(p,g,b,D)),(g=-1<l?p[l]:null)&&wn(g))}function wn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[wt])ds(p.i,l);else{var g=l.type,b=l.proxy;p.removeEventListener?p.removeEventListener(g,b,l.capture):p.detachEvent?p.detachEvent(Lg(g),b):p.addListener&&p.removeListener&&p.removeListener(b),(g=yd(p))?(ds(g,l),g.h==0&&(g.src=null,p[ri]=null)):Kt(l)}}}function Lg(l){return l in Be?Be[l]:Be[l]="on"+l}function LS(l,p){if(l.da)l=!0;else{p=new Se(p,this);var g=l.listener,b=l.ha||l.src;l.fa&&wn(l),l=g.call(b,p)}return l}function yd(l){return l=l[ri],l instanceof _t?l:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fg(l){return typeof l=="function"?l:(l[vd]||(l[vd]=function(p){return l.handleEvent(p)}),l[vd])}function lt(){q.call(this),this.i=new _t(this),this.M=this,this.F=null}T(lt,q),lt.prototype[wt]=!0,lt.prototype.removeEventListener=function(l,p,g,b){hl(this,l,p,g,b)};function Et(l,p){var g,b=l.F;if(b)for(g=[];b;b=b.F)g.push(b);if(l=l.M,b=p.type||p,typeof p=="string")p=new ee(p,l);else if(p instanceof ee)p.target=p.target||l;else{var D=p;p=new ee(b,l),P(p,D)}if(D=!0,g)for(var L=g.length-1;0<=L;L--){var $=p.g=g[L];D=fl($,b,!0,p)&&D}if($=p.g=l,D=fl($,b,!0,p)&&D,D=fl($,b,!1,p)&&D,g)for(L=0;L<g.length;L++)$=p.g=g[L],D=fl($,b,!1,p)&&D}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var g=l.g[p],b=0;b<g.length;b++)Kt(g[b]);delete l.g[p],l.h--}}this.F=null},lt.prototype.K=function(l,p,g,b){return this.i.add(String(l),p,!1,g,b)},lt.prototype.L=function(l,p,g,b){return this.i.add(String(l),p,!0,g,b)};function fl(l,p,g,b){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var D=!0,L=0;L<p.length;++L){var $=p[L];if($&&!$.da&&$.capture==g){var xe=$.listener,Ze=$.ha||$.src;$.fa&&ds(l.i,$),D=xe.call(Ze,b)!==!1&&D}}return D&&!b.defaultPrevented}function Ug(l,p,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function Bg(l){l.g=Ug(()=>{l.g=null,l.i&&(l.i=!1,Bg(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class FS extends q{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Bg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(l){q.call(this),this.h=l,this.g={}}T(po,q);var zg=[];function $g(l){M(l.g,function(p,g){this.g.hasOwnProperty(g)&&wn(p)},l),l.g={}}po.prototype.N=function(){po.aa.N.call(this),$g(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xd=a.JSON.stringify,US=a.JSON.parse,BS=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function wd(){}wd.prototype.h=null;function Hg(l){return l.h||(l.h=l.i())}function Wg(){}var mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _d(){ee.call(this,"d")}T(_d,ee);function Ed(){ee.call(this,"c")}T(Ed,ee);var hs={},qg=null;function pl(){return qg=qg||new lt}hs.La="serverreachability";function Gg(l){ee.call(this,hs.La,l)}T(Gg,ee);function go(l){const p=pl();Et(p,new Gg(p))}hs.STAT_EVENT="statevent";function Kg(l,p){ee.call(this,hs.STAT_EVENT,l),this.stat=p}T(Kg,ee);function Tt(l){const p=pl();Et(p,new Kg(p,l))}hs.Ma="timingevent";function Qg(l,p){ee.call(this,hs.Ma,l),this.size=p}T(Qg,ee);function yo(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function vo(){this.g=!0}vo.prototype.xa=function(){this.g=!1};function zS(l,p,g,b,D,L){l.info(function(){if(l.g)if(L)for(var $="",xe=L.split("&"),Ze=0;Ze<xe.length;Ze++){var fe=xe[Ze].split("=");if(1<fe.length){var ut=fe[0];fe=fe[1];var ct=ut.split("_");$=2<=ct.length&&ct[1]=="type"?$+(ut+"="+fe+"&"):$+(ut+"=redacted&")}}else $=null;else $=L;return"XMLHTTP REQ ("+b+") [attempt "+D+"]: "+p+`
`+g+`
`+$})}function $S(l,p,g,b,D,L,$){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+D+"]: "+p+`
`+g+`
`+L+" "+$})}function si(l,p,g,b){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+WS(l,g)+(b?" "+b:"")})}function HS(l,p){l.info(function(){return"TIMEOUT: "+p})}vo.prototype.info=function(){};function WS(l,p){if(!l.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var b=g[l];if(!(2>b.length)){var D=b[1];if(Array.isArray(D)&&!(1>D.length)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(var $=1;$<D.length;$++)D[$]=""}}}}return xd(g)}catch{return p}}var ml={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Td;function gl(){}T(gl,wd),gl.prototype.g=function(){return new XMLHttpRequest},gl.prototype.i=function(){return{}},Td=new gl;function fr(l,p,g,b){this.j=l,this.i=p,this.l=g,this.R=b||1,this.U=new po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xg}function Xg(){this.i=null,this.g="",this.h=!1}var Jg={},bd={};function Sd(l,p,g){l.L=1,l.v=wl(Ln(p)),l.m=g,l.P=!0,Zg(l,null)}function Zg(l,p){l.F=Date.now(),yl(l),l.A=Ln(l.v);var g=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),fy(g.i,"t",b),l.C=0,g=l.j.J,l.h=new Xg,l.g=Ny(l.j,g?p:null,!l.m),0<l.O&&(l.M=new FS(m(l.Y,l,l.g),l.O)),p=l.U,g=l.g,b=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(zg[0]=D.toString()),D=zg);for(var L=0;L<D.length;L++){var $=hr(g,D[L],b||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),go(),zS(l.i,l.u,l.A,l.l,l.R,l.m)}fr.prototype.ca=function(l){l=l.target;const p=this.M;p&&Fn(l)==3?p.j():this.Y(l)},fr.prototype.Y=function(l){try{if(l==this.g)e:{const ct=Fn(this.g);var p=this.g.Ba();const ai=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||wy(this.g)))){this.J||ct!=4||p==7||(p==8||0>=ai?go(3):go(2)),Id(this);var g=this.g.Z();this.X=g;t:if(ey(this)){var b=wy(this.g);l="";var D=b.length,L=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),xo(this);var $="";break t}this.h.i=new a.TextDecoder}for(p=0;p<D;p++)this.h.h=!0,l+=this.h.i.decode(b[p],{stream:!(L&&p==D-1)});b.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,$S(this.i,this.u,this.A,this.l,this.R,ct,g),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Ze=this.g;if((xe=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(xe)){var fe=xe;break t}}fe=null}if(g=fe)si(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kd(this,g);else{this.o=!1,this.s=3,Tt(12),fs(this),xo(this);break e}}if(this.P){g=!0;let an;for(;!this.J&&this.C<$.length;)if(an=qS(this,$),an==bd){ct==4&&(this.s=4,Tt(14),g=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Jg){this.s=4,Tt(15),si(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else si(this.i,this.l,an,null),kd(this,an);if(ey(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||$.length!=0||this.h.h||(this.s=1,Tt(16),g=!1),this.o=this.o&&g,!g)si(this.i,this.l,$,"[Invalid Chunked Response]"),fs(this),xo(this);else if(0<$.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),jd(ut),ut.M=!0,Tt(11))}}else si(this.i,this.l,$,null),kd(this,$);ct==4&&fs(this),this.o&&!this.J&&(ct==4?ky(this.j,this):(this.o=!1,yl(this)))}else uI(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),fs(this),xo(this)}}}catch{}finally{}};function ey(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function qS(l,p){var g=l.C,b=p.indexOf(`
`,g);return b==-1?bd:(g=Number(p.substring(g,b)),isNaN(g)?Jg:(b+=1,b+g>p.length?bd:(p=p.slice(b,b+g),l.C=b+g,p)))}fr.prototype.cancel=function(){this.J=!0,fs(this)};function yl(l){l.S=Date.now()+l.I,ty(l,l.I)}function ty(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yo(m(l.ba,l),p)}function Id(l){l.B&&(a.clearTimeout(l.B),l.B=null)}fr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(HS(this.i,this.A),this.L!=2&&(go(),Tt(17)),fs(this),this.s=2,xo(this)):ty(this,this.S-l)};function xo(l){l.j.G==0||l.J||ky(l.j,l)}function fs(l){Id(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,$g(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function kd(l,p){try{var g=l.j;if(g.G!=0&&(g.g==l||Pd(g.h,l))){if(!l.K&&Pd(g.h,l)&&g.G==3){try{var b=g.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var D=b;if(D[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Il(g),bl(g);else break e;Rd(g),Tt(18)}}else g.za=D[1],0<g.za-g.T&&37500>D[2]&&g.F&&g.v==0&&!g.C&&(g.C=yo(m(g.Za,g),6e3));if(1>=sy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ms(g,11)}else if((l.K||g.g==l)&&Il(g),!x(p))for(D=g.Da.g.parse(p),p=0;p<D.length;p++){let fe=D[p];if(g.T=fe[0],fe=fe[1],g.G==2)if(fe[0]=="c"){g.K=fe[1],g.ia=fe[2];const ut=fe[3];ut!=null&&(g.la=ut,g.j.info("VER="+g.la));const ct=fe[4];ct!=null&&(g.Aa=ct,g.j.info("SVER="+g.Aa));const ai=fe[5];ai!=null&&typeof ai=="number"&&0<ai&&(b=1.5*ai,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const an=l.g;if(an){const Pl=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var L=b.h;L.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Cd(L,L.h),L.h=null))}if(b.D){const Dd=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(b.ya=Dd,Ee(b.I,b.D,Dd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var $=l;if(b.qa=Ay(b,b.J?b.ia:null,b.W),$.K){iy(b.h,$);var xe=$,Ze=b.L;Ze&&(xe.I=Ze),xe.B&&(Id(xe),yl(xe)),b.g=$}else Sy(b);0<g.i.length&&Sl(g)}else fe[0]!="stop"&&fe[0]!="close"||ms(g,7);else g.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?ms(g,7):Nd(g):fe[0]!="noop"&&g.l&&g.l.ta(fe),g.v=0)}}go(4)}catch{}}var GS=class{constructor(l,p){this.g=l,this.map=p}};function ny(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ry(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function sy(l){return l.h?1:l.g?l.g.size:0}function Pd(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Cd(l,p){l.g?l.g.add(p):l.h=p}function iy(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}ny.prototype.cancel=function(){if(this.i=oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function oy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.D);return p}return _(l.i)}function KS(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var p=[],g=l.length,b=0;b<g;b++)p.push(l[b]);return p}p=[],g=0;for(b in l)p[g++]=l[b];return p}function QS(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var p=[];l=l.length;for(var g=0;g<l;g++)p.push(g);return p}p=[],g=0;for(const b in l)p[g++]=b;return p}}}function ay(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var g=QS(l),b=KS(l),D=b.length,L=0;L<D;L++)p.call(void 0,b[L],g&&g[L],l)}var ly=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YS(l,p){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var b=l[g].indexOf("="),D=null;if(0<=b){var L=l[g].substring(0,b);D=l[g].substring(b+1)}else L=l[g];p(L,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ps(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ps){this.h=l.h,vl(this,l.j),this.o=l.o,this.g=l.g,xl(this,l.s),this.l=l.l;var p=l.i,g=new Eo;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),uy(this,g),this.m=l.m}else l&&(p=String(l).match(ly))?(this.h=!1,vl(this,p[1]||"",!0),this.o=wo(p[2]||""),this.g=wo(p[3]||"",!0),xl(this,p[4]),this.l=wo(p[5]||"",!0),uy(this,p[6]||"",!0),this.m=wo(p[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}ps.prototype.toString=function(){var l=[],p=this.j;p&&l.push(_o(p,cy,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(_o(p,cy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(_o(g,g.charAt(0)=="/"?ZS:JS,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",_o(g,tI)),l.join("")};function Ln(l){return new ps(l)}function vl(l,p,g){l.j=g?wo(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function xl(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function uy(l,p,g){p instanceof Eo?(l.i=p,nI(l.i,l.h)):(g||(p=_o(p,eI)),l.i=new Eo(p,l.h))}function Ee(l,p,g){l.i.set(p,g)}function wl(l){return Ee(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function wo(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function _o(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,XS),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function XS(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var cy=/[#\/\?@]/g,JS=/[#\?:]/g,ZS=/[#\?]/g,eI=/[#\?@]/g,tI=/#/g;function Eo(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function pr(l){l.g||(l.g=new Map,l.h=0,l.i&&YS(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Eo.prototype,t.add=function(l,p){pr(this),this.i=null,l=ii(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function dy(l,p){pr(l),p=ii(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function hy(l,p){return pr(l),p=ii(l,p),l.g.has(p)}t.forEach=function(l,p){pr(this),this.g.forEach(function(g,b){g.forEach(function(D){l.call(p,D,b,this)},this)},this)},t.na=function(){pr(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let b=0;b<p.length;b++){const D=l[b];for(let L=0;L<D.length;L++)g.push(p[b])}return g},t.V=function(l){pr(this);let p=[];if(typeof l=="string")hy(this,l)&&(p=p.concat(this.g.get(ii(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)p=p.concat(l[g])}return p},t.set=function(l,p){return pr(this),this.i=null,l=ii(this,l),hy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function fy(l,p,g){dy(l,p),0<g.length&&(l.i=null,l.g.set(ii(l,p),_(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var b=p[g];const L=encodeURIComponent(String(b)),$=this.V(b);for(b=0;b<$.length;b++){var D=L;$[b]!==""&&(D+="="+encodeURIComponent(String($[b]))),l.push(D)}}return this.i=l.join("&")};function ii(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function nI(l,p){p&&!l.j&&(pr(l),l.i=null,l.g.forEach(function(g,b){var D=b.toLowerCase();b!=D&&(dy(this,b),fy(this,D,g))},l)),l.j=p}function rI(l,p){const g=new vo;if(a.Image){const b=new Image;b.onload=y(mr,g,"TestLoadImage: loaded",!0,p,b),b.onerror=y(mr,g,"TestLoadImage: error",!1,p,b),b.onabort=y(mr,g,"TestLoadImage: abort",!1,p,b),b.ontimeout=y(mr,g,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else p(!1)}function sI(l,p){const g=new vo,b=new AbortController,D=setTimeout(()=>{b.abort(),mr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:b.signal}).then(L=>{clearTimeout(D),L.ok?mr(g,"TestPingServer: ok",!0,p):mr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),mr(g,"TestPingServer: error",!1,p)})}function mr(l,p,g,b,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),b(g)}catch{}}function iI(){this.g=new BS}function oI(l,p,g){const b=g||"";try{ay(l,function(D,L){let $=D;c(D)&&($=xd(D)),p.push(b+L+"="+encodeURIComponent($))})}catch(D){throw p.push(b+"type="+encodeURIComponent("_badmap")),D}}function _l(l){this.l=l.Ub||null,this.j=l.eb||!1}T(_l,wd),_l.prototype.g=function(){return new El(this.l,this.j)},_l.prototype.i=function(l){return function(){return l}}({});function El(l,p){lt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(El,lt),t=El.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,bo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;py(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function py(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?To(this):bo(this),this.readyState==3&&py(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,To(this))},t.Qa=function(l){this.g&&(this.response=l,To(this))},t.ga=function(){this.g&&To(this)};function To(l){l.readyState=4,l.l=null,l.j=null,l.v=null,bo(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function bo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function my(l){let p="";return M(l,function(g,b){p+=b,p+=":",p+=g,p+=`\r
`}),p}function Ad(l,p,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=my(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ee(l,p,g))}function De(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(De,lt);var aI=/^https?$/i,lI=["POST","PUT"];t=De.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Td.g(),this.v=this.o?Hg(this.o):Hg(Td),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(L){gy(this,L);return}if(l=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var D in b)g.set(D,b[D]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const L of b.keys())g.set(L,b.get(L));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lI,p,void 0))||b||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of g)this.g.setRequestHeader(L,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xy(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){gy(this,L)}};function gy(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,yy(l),Tl(l)}function yy(l){l.A||(l.A=!0,Et(l,"complete"),Et(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Et(this,"complete"),Et(this,"abort"),Tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tl(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vy(this):this.bb())},t.bb=function(){vy(this)};function vy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Fn(l)!=4||l.Z()!=2)){if(l.u&&Fn(l)==4)Ug(l.Ea,0,l);else if(Et(l,"readystatechange"),Fn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var b;if(b=$===0){var D=String(l.D).match(ly)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),b=!aI.test(D?D.toLowerCase():"")}g=b}if(g)Et(l,"complete"),Et(l,"success");else{l.m=6;try{var L=2<Fn(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",yy(l)}}finally{Tl(l)}}}}function Tl(l,p){if(l.g){xy(l);const g=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Et(l,"ready");try{g.onreadystatechange=b}catch{}}}function xy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Fn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),US(p)}};function wy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function uI(l){const p={};l=(l.g&&2<=Fn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(x(l[b]))continue;var g=R(l[b]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[D]||[];p[D]=L,L.push(g)}k(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function _y(l){this.Aa=0,this.i=[],this.j=new vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,l),this.cb=So("retryDelaySeedMs",1e4,l),this.Wa=So("forwardChannelMaxRetries",2,l),this.wa=So("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ny(l&&l.concurrentRequestLimit),this.Da=new iI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_y.prototype,t.la=8,t.G=1,t.connect=function(l,p,g,b){Tt(0),this.W=l,this.H=p||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=Ay(this,null,this.W),Sl(this)};function Nd(l){if(Ey(l),l.G==3){var p=l.U++,g=Ln(l.I);if(Ee(g,"SID",l.K),Ee(g,"RID",p),Ee(g,"TYPE","terminate"),Io(l,g),p=new fr(l,l.j,p),p.L=2,p.v=wl(Ln(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Ny(p.j,null),p.g.ea(p.v)),p.F=Date.now(),yl(p)}Cy(l)}function bl(l){l.g&&(jd(l),l.g.cancel(),l.g=null)}function Ey(l){bl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Il(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Sl(l){if(!ry(l.h)&&!l.s){l.s=!0;var p=l.Ga;de||O(),z||(de(),z=!0),W.add(p,l),l.B=0}}function cI(l,p){return sy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yo(m(l.Ga,l,p),Py(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new fr(this,this.j,l);let L=this.o;if(this.S&&(L?(L=E(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(D.H=L,L=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=by(this,D,p),g=Ln(this.I),Ee(g,"RID",l),Ee(g,"CVER",22),this.D&&Ee(g,"X-HTTP-Session-Id",this.D),Io(this,g),L&&(this.O?p="headers="+encodeURIComponent(String(my(L)))+"&"+p:this.m&&Ad(g,this.m,L)),Cd(this.h,D),this.Ua&&Ee(g,"TYPE","init"),this.P?(Ee(g,"$req",p),Ee(g,"SID","null"),D.T=!0,Sd(D,g,null)):Sd(D,g,p),this.G=2}}else this.G==3&&(l?Ty(this,l):this.i.length==0||ry(this.h)||Ty(this))};function Ty(l,p){var g;p?g=p.l:g=l.U++;const b=Ln(l.I);Ee(b,"SID",l.K),Ee(b,"RID",g),Ee(b,"AID",l.T),Io(l,b),l.m&&l.o&&Ad(b,l.m,l.o),g=new fr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),p&&(l.i=p.D.concat(l.i)),p=by(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Cd(l.h,g),Sd(g,b,p)}function Io(l,p){l.H&&M(l.H,function(g,b){Ee(p,b,g)}),l.l&&ay({},function(g,b){Ee(p,b,g)})}function by(l,p,g){g=Math.min(l.i.length,g);var b=l.l?m(l.l.Na,l.l,l):null;e:{var D=l.i;let L=-1;for(;;){const $=["count="+g];L==-1?0<g?(L=D[0].g,$.push("ofs="+L)):L=0:$.push("ofs="+L);let xe=!0;for(let Ze=0;Ze<g;Ze++){let fe=D[Ze].g;const ut=D[Ze].map;if(fe-=L,0>fe)L=Math.max(0,D[Ze].g-100),xe=!1;else try{oI(ut,$,"req"+fe+"_")}catch{b&&b(ut)}}if(xe){b=$.join("&");break e}}}return l=l.i.splice(0,g),p.D=l,b}function Sy(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;de||O(),z||(de(),z=!0),W.add(p,l),l.v=0}}function Rd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yo(m(l.Fa,l),Py(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Iy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),bl(this),Iy(this))};function jd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Iy(l){l.g=new fr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Ln(l.qa);Ee(p,"RID","rpc"),Ee(p,"SID",l.K),Ee(p,"AID",l.T),Ee(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ee(p,"TO",l.ja),Ee(p,"TYPE","xmlhttp"),Io(l,p),l.m&&l.o&&Ad(p,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=wl(Ln(p)),g.m=null,g.P=!0,Zg(g,l)}t.Za=function(){this.C!=null&&(this.C=null,bl(this),Rd(this),Tt(19))};function Il(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ky(l,p){var g=null;if(l.g==p){Il(l),jd(l),l.g=null;var b=2}else if(Pd(l.h,p))g=p.D,iy(l.h,p),b=1;else return;if(l.G!=0){if(p.o)if(b==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var D=l.B;b=pl(),Et(b,new Qg(b,g)),Sl(l)}else Sy(l);else if(D=p.s,D==3||D==0&&0<p.X||!(b==1&&cI(l,p)||b==2&&Rd(l)))switch(g&&0<g.length&&(p=l.h,p.i=p.i.concat(g)),D){case 1:ms(l,5);break;case 4:ms(l,10);break;case 3:ms(l,6);break;default:ms(l,2)}}}function Py(l,p){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*p}function ms(l,p){if(l.j.info("Error code "+p),p==2){var g=m(l.fb,l),b=l.Xa;const D=!b;b=new ps(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vl(b,"https"),wl(b),D?rI(b.toString(),g):sI(b.toString(),g)}else Tt(2);l.G=0,l.l&&l.l.sa(p),Cy(l),Ey(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Cy(l){if(l.G=0,l.ka=[],l.l){const p=oy(l.h);(p.length!=0||l.i.length!=0)&&(I(l.ka,p),I(l.ka,l.i),l.h.i.length=0,_(l.i),l.i.length=0),l.l.ra()}}function Ay(l,p,g){var b=g instanceof ps?Ln(g):new ps(g);if(b.g!="")p&&(b.g=p+"."+b.g),xl(b,b.s);else{var D=a.location;b=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;var L=new ps(null);b&&vl(L,b),p&&(L.g=p),D&&xl(L,D),g&&(L.l=g),b=L}return g=l.D,p=l.ya,g&&p&&Ee(b,g,p),Ee(b,"VER",l.la),Io(l,b),b}function Ny(l,p,g){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new De(new _l({eb:g})):new De(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ry(){}t=Ry.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kl(){}kl.prototype.g=function(l,p){return new Ot(l,p)};function Ot(l,p){lt.call(this),this.g=new _y(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!x(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new oi(this)}T(Ot,lt),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Nd(this.g)},Ot.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=xd(l),l=g);p.i.push(new GS(p.Ya++,l)),p.G==3&&Sl(p)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Nd(this.g),delete this.g,Ot.aa.N.call(this)};function jy(l){_d.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}T(jy,_d);function Dy(){Ed.call(this),this.status=1}T(Dy,Ed);function oi(l){this.g=l}T(oi,Ry),oi.prototype.ua=function(){Et(this.g,"a")},oi.prototype.ta=function(l){Et(this.g,new jy(l))},oi.prototype.sa=function(l){Et(this.g,new Dy)},oi.prototype.ra=function(){Et(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,$1=function(){return new kl},z1=function(){return pl()},B1=hs,Bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ml.NO_ERROR=0,ml.TIMEOUT=8,ml.HTTP_ERROR=6,xu=ml,Yg.COMPLETE="complete",U1=Yg,Wg.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ho=Wg,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,F1=De}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const C0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new mm("@firebase/firestore");function Vo(){return Hs.logLevel}function K(t,...e){if(Hs.logLevel<=ue.DEBUG){const n=e.map(Cm);Hs.debug(`Firestore (${lo}): ${t}`,...n)}}function sr(t,...e){if(Hs.logLevel<=ue.ERROR){const n=e.map(Cm);Hs.error(`Firestore (${lo}): ${t}`,...n)}}function qi(t,...e){if(Hs.logLevel<=ue.WARN){const n=e.map(Cm);Hs.warn(`Firestore (${lo}): ${t}`,...n)}}function Cm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+t;throw sr(e),new Error(e)}function ye(t,e){t||te()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class YR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XR{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new H1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new mt(e)}}class JR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ZR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new JR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ej{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ye(this.o===void 0);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new ej(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=nj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Gi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Ke(0,0))}static max(){return new ne(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends Da{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const rj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Da{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return rj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(ke.fromString(e))}static fromName(e){return new J(ke.fromString(e).popFirst(5))}static empty(){return new J(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ke(e.slice()))}}function sj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Zr(s,J.empty(),e)}function ij(t){return new Zr(t.readTime,t.key,-1)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(ne.min(),J.empty(),-1)}static max(){return new Zr(ne.max(),J.empty(),-1)}}function oj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==aj)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function uj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Am.oe=-1;function Gc(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function cj(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kl(this.root,e,this.comparator,!0)}}class Kl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nt.RED,this.left=s??nt.EMPTY,this.right=i??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,s,i){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new it(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new G1("Invalid base64 string: "+i):i}}(e);return new at(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const dj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(ye(!!t),typeof t=="string"){let e=0;const n=dj.exec(t);if(ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rm(t){const e=t.mapValue.fields.__previous_value__;return Nm(e)?Rm(e):e}function Va(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ma{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql={mapValue:{}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nm(t)?4:pj(t)?9007199254740991:fj(t)?10:11:te()}function Rn(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=es(s.timestampValue),a=es(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ws(s.bytesValue).isEqual(Ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Oe(s.geoPointValue.latitude)===Oe(i.geoPointValue.latitude)&&Oe(s.geoPointValue.longitude)===Oe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Oe(s.integerValue)===Oe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Oe(s.doubleValue),a=Oe(i.doubleValue);return o===a?ac(o)===ac(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gi(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(A0(o)!==A0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Rn(o[u],a[u])))return!1;return!0}(t,e);default:return te()}}function Oa(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function Ki(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Oe(i.integerValue||i.doubleValue),u=Oe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return R0(t.timestampValue,e.timestampValue);case 4:return R0(Va(t),Va(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ws(i),u=Ws(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=pe(a[c],u[c]);if(h!==0)return h}return pe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=pe(Oe(i.latitude),Oe(o.latitude));return a!==0?a:pe(Oe(i.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,h;const f=i.fields||{},m=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,_=pe(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:j0(y,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ql.mapValue&&o===Ql.mapValue)return 0;if(i===Ql.mapValue)return 1;if(o===Ql.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=pe(u[f],h[f]);if(m!==0)return m;const y=Ki(a[u[f]],c[h[f]]);if(y!==0)return y}return pe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw te()}}function R0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=es(t),r=es(e),s=pe(n.seconds,r.seconds);return s!==0?s:pe(n.nanos,r.nanos)}function j0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ki(n[s],r[s]);if(i)return i}return pe(n.length,r.length)}function Qi(t){return zf(t)}function zf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=zf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${zf(n.fields[o])}`;return s+"}"}(t.mapValue):te()}function $f(t){return!!t&&"integerValue"in t}function jm(t){return!!t&&"arrayValue"in t}function D0(t){return!!t&&"nullValue"in t}function V0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wu(t){return!!t&&"mapValue"in t}function fj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(n)}setAll(e){let n=rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=sa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new At(sa(this.value))}}function K1(t){const e=[];return Js(t.fields,(n,r)=>{const s=new rt([n]);if(wu(r)){const i=K1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,ne.min(),ne.min(),ne.min(),At.empty(),0)}static newFoundDocument(e,n,r,s){return new yt(e,1,n,ne.min(),r,s,0)}static newNoDocument(e,n){return new yt(e,2,n,ne.min(),ne.min(),At.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,ne.min(),ne.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.position=e,this.inclusive=n}}function M0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Ki(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function O0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q1=class{};class qe extends Q1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yj(e,n,r):n==="array-contains"?new wj(e,r):n==="in"?new _j(e,r):n==="not-in"?new Ej(e,r):n==="array-contains-any"?new Tj(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vj(e,r):new xj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ki(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(Ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends Q1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jn(e,n)}matches(e){return Y1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y1(t){return t.op==="and"}function X1(t){return gj(t)&&Y1(t)}function gj(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function Hf(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Qi(t.value);if(X1(t))return t.filters.map(e=>Hf(e)).join(",");{const e=t.filters.map(n=>Hf(n)).join(",");return`${t.op}(${e})`}}function J1(t,e){return t instanceof qe?function(r,s){return s instanceof qe&&r.op===s.op&&r.field.isEqual(s.field)&&Rn(r.value,s.value)}(t,e):t instanceof jn?function(r,s){return s instanceof jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&J1(o,s.filters[a]),!0):!1}(t,e):void te()}function Z1(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Qi(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(Z1).join(" ,")+"}"}(t):"Filter"}class yj extends qe{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class vj extends qe{constructor(e,n){super(e,"in",n),this.keys=eT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xj extends qe{constructor(e,n){super(e,"not-in",n),this.keys=eT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class wj extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jm(n)&&Oa(n.arrayValue,this.value)}}class _j extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oa(this.value.arrayValue,n)}}class Ej extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oa(this.value.arrayValue,n)}}class Tj extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function L0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new bj(t,e,n,r,s,i,o)}function Dm(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Gc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qi(r)).join(",")),e.ue=n}return e.ue}function Vm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!J1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O0(t.startAt,e.startAt)&&O0(t.endAt,e.endAt)}function Wf(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sj(t,e,n,r,s,i,o,a){return new Kc(t,e,n,r,s,i,o,a)}function Mm(t){return new Kc(t)}function F0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ij(t){return t.collectionGroup!==null}function ia(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(rt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new uc(i,r))}),n.has(rt.keyField().canonicalString())||e.ce.push(new uc(rt.keyField(),r))}return e.ce}function Cn(t){const e=re(t);return e.le||(e.le=kj(e,ia(t))),e.le}function kj(t,e){if(t.limitType==="F")return L0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new uc(s.field,i)});const n=t.endAt?new lc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lc(t.startAt.position,t.startAt.inclusive):null;return L0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qf(t,e,n){return new Kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qc(t,e){return Vm(Cn(t),Cn(e))&&t.limitType===e.limitType}function tT(t){return`${Dm(Cn(t))}|lt:${t.limitType}`}function ui(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Z1(s)).join(", ")}]`),Gc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qi(s)).join(",")),`Target(${r})`}(Cn(t))}; limitType=${t.limitType})`}function Yc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ia(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=M0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ia(r),s)||r.endAt&&!function(o,a,u){const c=M0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ia(r),s))}(t,e)}function Pj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nT(t){return(e,n)=>{let r=!1;for(const s of ia(t)){const i=Cj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Cj(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Ki(u,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new je(J.comparator);function ir(){return Aj}const rT=new je(J.comparator);function Wo(...t){let e=rT;for(const n of t)e=e.insert(n.key,n);return e}function sT(t){let e=rT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ps(){return oa()}function iT(){return oa()}function oa(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Nj=new je(J.comparator),Rj=new it(J.comparator);function le(...t){let e=Rj;for(const n of t)e=e.add(n);return e}const jj=new it(pe);function Dj(){return jj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function oT(t){return{integerValue:""+t}}function Vj(t,e){return cj(e)?oT(e):Om(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function Mj(t,e,n){return t instanceof La?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Nm(i)&&(i=Rm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Yi?lT(t,e):t instanceof Xi?uT(t,e):function(s,i){const o=aT(s,i),a=U0(o)+U0(s.Pe);return $f(o)&&$f(s.Pe)?oT(a):Om(s.serializer,a)}(t,e)}function Oj(t,e,n){return t instanceof Yi?lT(t,e):t instanceof Xi?uT(t,e):n}function aT(t,e){return t instanceof cc?function(r){return $f(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class La extends Xc{}class Yi extends Xc{constructor(e){super(),this.elements=e}}function lT(t,e){const n=cT(e);for(const r of t.elements)n.some(s=>Rn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Xi extends Xc{constructor(e){super(),this.elements=e}}function uT(t,e){let n=cT(e);for(const r of t.elements)n=n.filter(s=>!Rn(s,r));return{arrayValue:{values:n}}}class cc extends Xc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function U0(t){return Oe(t.integerValue||t.doubleValue)}function cT(t){return jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.field=e,this.transform=n}}function Lj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Yi&&s instanceof Yi||r instanceof Xi&&s instanceof Xi?Gi(r.elements,s.elements,Rn):r instanceof cc&&s instanceof cc?Rn(r.Pe,s.Pe):r instanceof La&&s instanceof La}(t.transform,e.transform)}class Fj{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jc{}function dT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fT(t.key,gn.none()):new tl(t.key,t.data,gn.none());{const n=t.data,r=At.empty();let s=new it(rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new us(t.key,r,new Bt(s.toArray()),gn.none())}}function Uj(t,e,n){t instanceof tl?function(s,i,o){const a=s.value.clone(),u=z0(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof us?function(s,i,o){if(!_u(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=z0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(hT(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function aa(t,e,n,r){return t instanceof tl?function(i,o,a,u){if(!_u(i.precondition,o))return a;const c=i.value.clone(),h=$0(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(i,o,a,u){if(!_u(i.precondition,o))return a;const c=$0(i.fieldTransforms,u,o),h=o.data;return h.setAll(hT(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return _u(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Bj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=aT(r.transform,s||null);i!=null&&(n===null&&(n=At.empty()),n.set(r.field,i))}return n||null}function B0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Gi(r,s,(i,o)=>Lj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tl extends Jc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class us extends Jc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z0(t,e,n){const r=new Map;ye(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Oj(o,a,n[s]))}return r}function $0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Mj(i,o,e))}return r}class fT extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zj extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Uj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=dT(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,(n,r)=>B0(n,r))&&Gi(this.baseMutations,e.baseMutations,(n,r)=>B0(n,r))}}class Fm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ye(e.mutations.length===r.length);let s=function(){return Nj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Fm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ce;function qj(t){switch(t){default:return te();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function pT(t){if(t===void 0)return sr("GRPC error has no .code"),U.UNKNOWN;switch(t){case ze.OK:return U.OK;case ze.CANCELLED:return U.CANCELLED;case ze.UNKNOWN:return U.UNKNOWN;case ze.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ze.INTERNAL:return U.INTERNAL;case ze.UNAVAILABLE:return U.UNAVAILABLE;case ze.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ze.NOT_FOUND:return U.NOT_FOUND;case ze.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ze.ABORTED:return U.ABORTED;case ze.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ze.DATA_LOSS:return U.DATA_LOSS;default:return te()}}(ce=ze||(ze={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new js([4294967295,4294967295],0);function H0(t){const e=Gj().encode(t),n=new L1;return n.update(e),new Uint8Array(n.digest())}function W0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new js([n,r],0),new js([s,i],0)]}class Um{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(r<0)throw new qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=js.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(js.fromNumber(r)));return s.compare(Kj)===1&&(s=new js([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=H0(e),[r,s]=W0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Um(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=H0(e),[r,s]=W0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zc(ne.min(),s,new je(pe),ir(),le())}}class nl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nl(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class mT{constructor(e,n){this.targetId=e,this.me=n}}class gT{constructor(e,n,r=at.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class q0{constructor(){this.fe=0,this.ge=K0(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:te()}}),new nl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=K0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qj{constructor(e){this.Le=e,this.Be=new Map,this.ke=ir(),this.qe=G0(),this.Qe=new je(pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Wf(i))if(r===0){const o=new J(i.path);this.Ue(n,o,yt.newNoDocument(o,ne.min()))}else ye(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ws(r).toUint8Array()}catch(u){if(u instanceof G1)return qi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Um(o,s,i)}catch(u){return qi(u instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Wf(a.target)){const u=new J(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,yt.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=le();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Zc(e,n,this.Qe,this.ke,r);return this.ke=ir(),this.qe=G0(),this.Qe=new je(pe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new q0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new q0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function G0(){return new je(J.comparator)}function K0(){return new je(J.comparator)}const Yj={asc:"ASCENDING",desc:"DESCENDING"},Xj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jj={and:"AND",or:"OR"};class Zj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gf(t,e){return t.useProto3Json||Gc(e)?e:{value:e}}function dc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eD(t,e){return dc(t,e.toTimestamp())}function An(t){return ye(!!t),ne.fromTimestamp(function(n){const r=es(n);return new Ke(r.seconds,r.nanos)}(t))}function Bm(t,e){return Kf(t,e).canonicalString()}function Kf(t,e){const n=function(s){return new ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vT(t){const e=ke.fromString(t);return ye(TT(e)),e}function Qf(t,e){return Bm(t.databaseId,e.path)}function mh(t,e){const n=vT(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(wT(n))}function xT(t,e){return Bm(t.databaseId,e)}function tD(t){const e=vT(t);return e.length===4?ke.emptyPath():wT(e)}function Yf(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wT(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Q0(t,e,n){return{name:Qf(t,e),fields:n.value.mapValue.fields}}function nD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ye(h===void 0||typeof h=="string"),at.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array),at.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:pT(c.code);return new Y(h,c.message||"")}(o);n=new gT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mh(t,r.document.name),i=An(r.document.updateTime),o=r.document.createTime?An(r.document.createTime):ne.min(),a=new At({mapValue:{fields:r.document.fields}}),u=yt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Eu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mh(t,r.document),i=r.readTime?An(r.readTime):ne.min(),o=yt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Eu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mh(t,r.document),i=r.removedTargetIds||[];n=new Eu([],i,s,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Wj(s,i),a=r.targetId;n=new mT(a,o)}}return n}function rD(t,e){let n;if(e instanceof tl)n={update:Q0(t,e.key,e.value)};else if(e instanceof fT)n={delete:Qf(t,e.key)};else if(e instanceof us)n={update:Q0(t,e.key,e.data),updateMask:hD(e.fieldMask)};else{if(!(e instanceof zj))return te();n={verify:Qf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof La)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:eD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te()}(t,e.precondition)),n}function sD(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?An(s.updateTime):An(i);return o.isEqual(ne.min())&&(o=An(i)),new Fj(o,s.transformResults||[])}(n,e))):[]}function iD(t,e){return{documents:[xT(t,e.path)]}}function oD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xT(t,s);const i=function(c){if(c.length!==0)return ET(jn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:ci(m.field),direction:uD(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function aD(t){let e=tD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ye(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=_T(f);return m instanceof jn&&X1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(T){return new uc(di(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Gc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,y=f.values||[];return new lc(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,y=f.values||[];return new lc(y,m)}(n.endAt)),Sj(e,s,o,i,a,"F",u,c)}function lD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _T(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=di(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=di(n.unaryFilter.field);return qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=di(n.unaryFilter.field);return qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=di(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(di(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>_T(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function uD(t){return Yj[t]}function cD(t){return Xj[t]}function dD(t){return Jj[t]}function ci(t){return{fieldPath:t.canonicalString()}}function di(t){return rt.fromServerFormat(t.fieldPath)}function ET(t){return t instanceof qe?function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NAN"}};if(D0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NAN"}};if(D0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(n.field),op:cD(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(s=>ET(s));return r.length===1?r[0]:{compositeFilter:{op:dD(n.op),filters:r}}}(t):te()}function hD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,s,i=ne.min(),o=ne.min(),a=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.ct=e}}function pD(t){const e=aD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.un=new gD}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Zr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class gD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ji(0)}static kn(){return new Ji(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&aa(r.mutation,s,Bt.empty(),Ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wo();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ir();const o=oa(),a=function(){return oa()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof us)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),aa(h.mutation,c,h.mutation.getFieldMask(),Ke.now())):o.set(c.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new vD(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=oa();let s=new je((o,a)=>o-a),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Bt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(s.get(a.batchId)||le()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=iT();h.forEach(m=>{if(!i.has(m)){const y=dT(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ij(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Ps());let a=-1,u=i;return o.next(c=>F.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,le())).next(h=>({batchId:a,changes:sT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=Wo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wo();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,u=>{const c=function(f,m){return new Kc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,yt.newInvalidDocument(h)))});let a=Wo();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&aa(h.mutation,c,Bt.empty(),Ke.now()),Yc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:An(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:pD(s.bundledQuery),readTime:An(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.overlays=new je(J.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ps();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Ps(),i=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Ps(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ps(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return F.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hj(n,r));let i=this.Ir.get(n);i===void 0&&(i=le(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.Tr=new it(Ye.Er),this.dr=new it(Ye.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ye(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ye(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new J(new ke([])),r=new Ye(n,e),s=new Ye(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new ke([])),r=new Ye(n,e),s=new Ye(n,e+1);let i=le();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ye(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ye{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||pe(e.wr,n.wr)}static Ar(e,n){return pe(e.wr,n.wr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Ye.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $j(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Ye(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ye(n,0),s=new Ye(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(pe);return n.forEach(s=>{const i=new Ye(s,0),o=new Ye(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new Ye(new J(i),0);let a=new it(pe);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,s=>{const i=new Ye(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ye(n,0),s=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.Mr=e,this.docs=function(){return new je(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ir();const o=n.path,a=new J(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oj(ij(h),r)<=0||(s.has(h.key)||Yc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){te()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SD(this)}getSize(e){return F.resolve(this.size)}}class SD extends yD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.persistence=e,this.Nr=new uo(n=>Dm(n),Vm),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zm,this.targetCount=0,this.kr=Ji.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ji(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Am(0),this.Kr=!1,this.Kr=!0,this.$r=new ED,this.referenceDelegate=e(this),this.Ur=new ID(this),this.indexManager=new mD,this.remoteDocumentCache=function(s){return new bD(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new fD(n),this.Gr=new wD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _D,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new TD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new PD(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class PD extends lj{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Jr=new zm,this.Yr=null}static Zr(e){return new $m(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const s=J.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=le(),s=le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oA()?8:uj(xt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new CD;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Vo()<=ue.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Vo()<=ue.DEBUG&&K("QueryEngine","Query:",ui(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Vo()<=ue.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(n))):F.resolve())}Yi(e,n){if(F0(n))return F.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=qf(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=le(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,qf(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,s){return F0(n)||s.isEqual(ne.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?F.resolve(null):(Vo()<=ue.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ui(n)),this.rs(e,o,n,sj(s,-1)).next(a=>a))})}ts(e,n){let r=new it(nT(e));return n.forEach((s,i)=>{Yc(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Vo()<=ue.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ui(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new je(pe),this._s=new uo(i=>Dm(i),Vm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function RD(t,e,n,r){return new ND(t,e,n,r)}async function bT(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=le();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function jD(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let y=F.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(_=>{const I=c.docVersions.get(T);ye(I!==null),_.version.compareTo(I)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),h.addEntry(_)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ST(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function DD(t,e){const n=re(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(at.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(_,I,v){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(i,y))});let u=ir(),c=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(VD(i,o,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(ne.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function VD(t,e,n){let r=le(),s=le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ir();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function MD(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OD(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Rr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Xf(t,e,n){const r=re(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!el(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Y0(t,e,n){const r=re(t);let s=ne.min(),i=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=re(u),m=f._s.get(h);return m!==void 0?F.resolve(f.os.get(m)):f.Ur.getTargetData(c,h)}(r,o,Cn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ne.min(),n?i:le())).next(a=>(LD(r,Pj(e),a),{documents:a,Ts:i})))}function LD(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class X0{constructor(){this.activeTargetIds=Dj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FD{constructor(){this.so=new X0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new X0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl=null;function gh(){return Yl===null?Yl=function(){return 268435456+Math.round(2147483648*Math.random())}():Yl++,"0x"+Yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class $D extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=gh(),u=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,u,c,s).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw qi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=BD[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=gh();return new Promise((o,a)=>{const u=new F1;u.setWithCredentials(!0),u.listenOnce(U1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xu.NO_ERROR:const h=u.getResponseJson();K(ft,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case xu.TIMEOUT:K(ft,`RPC '${e}' ${i} timed out`),a(new Y(U.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const f=u.getStatus();if(K(ft,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const T=function(I){const v=I.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(y.status);a(new Y(T,y.message))}else a(new Y(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Y(U.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{K(ft,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);K(ft,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=gh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$1(),a=z1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");K(ft,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,y=!1;const T=new zD({Io:I=>{y?K(ft,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(m||(K(ft,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),K(ft,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},To:()=>f.close()}),_=(I,v,x)=>{I.listen(v,w=>{try{x(w)}catch(C){setTimeout(()=>{throw C},0)}})};return _(f,Ho.EventType.OPEN,()=>{y||(K(ft,`RPC '${e}' stream ${s} transport opened.`),T.yo())}),_(f,Ho.EventType.CLOSE,()=>{y||(y=!0,K(ft,`RPC '${e}' stream ${s} transport closed`),T.So())}),_(f,Ho.EventType.ERROR,I=>{y||(y=!0,qi(ft,`RPC '${e}' stream ${s} transport errored:`,I),T.So(new Y(U.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ho.EventType.MESSAGE,I=>{var v;if(!y){const x=I.data[0];ye(!!x);const w=x,C=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(C){K(ft,`RPC '${e}' stream ${s} received error:`,C);const V=C.status;let M=function(S){const P=ze[S];if(P!==void 0)return pT(P)}(V),k=C.message;M===void 0&&(M=U.INTERNAL,k="Unknown error status: "+V+" with message "+C.message),y=!0,T.So(new Y(M,k)),f.close()}else K(ft,`RPC '${e}' stream ${s} received:`,x),T.bo(x)}}),_(a,B1.STAT_EVENT,I=>{I.stat===Bf.PROXY?K(ft,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Bf.NOPROXY&&K(ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function yh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){return new Zj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new IT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Y(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HD extends kT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=nD(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?An(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Yf(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Wf(u)?{documents:iD(i,u)}:{query:oD(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yT(i,o.resumeToken);const c=Gf(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=dc(i,o.snapshotVersion.toTimestamp());const c=Gf(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=lD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Yf(this.serializer),n.removeTarget=e,this.a_(n)}}class WD extends kT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ye(!!e.streamToken),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=sD(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Yf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Kf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(U.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Kf(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class GD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sr(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Zs(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=re(u);c.L_.add(4),await rl(c),c.q_.set("Unknown"),c.L_.delete(4),await td(c)}(this))})}),this.q_=new GD(r,s)}}async function td(t){if(Zs(t))for(const e of t.B_)await e(!0)}async function rl(t){for(const e of t.B_)await e(!1)}function PT(t,e){const n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Km(n)?Gm(n):co(n).r_()&&qm(n,e))}function Wm(t,e){const n=re(t),r=co(n);n.N_.delete(e),r.r_()&&CT(n,e),n.N_.size===0&&(r.r_()?r.o_():Zs(n)&&n.q_.set("Unknown"))}function qm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).A_(e)}function CT(t,e){t.Q_.xe(e),co(t).R_(e)}function Gm(t){t.Q_=new Qj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),co(t).start(),t.q_.v_()}function Km(t){return Zs(t)&&!co(t).n_()&&t.N_.size>0}function Zs(t){return re(t).L_.size===0}function AT(t){t.Q_=void 0}async function QD(t){t.q_.set("Online")}async function YD(t){t.N_.forEach((e,n)=>{qm(t,e)})}async function XD(t,e){AT(t),Km(t)?(t.q_.M_(e),Gm(t)):t.q_.set("Unknown")}async function JD(t,e,n){if(t.q_.set("Online"),e instanceof gT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hc(t,r)}else if(e instanceof Eu?t.Q_.Ke(e):e instanceof mT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const r=await ST(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.N_.get(u);if(!h)return;i.N_.set(u,h.withResumeToken(at.EMPTY_BYTE_STRING,h.snapshotVersion)),CT(i,u);const f=new Rr(h.target,u,c,h.sequenceNumber);qm(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await hc(t,r)}}async function hc(t,e,n){if(!el(e))throw e;t.L_.add(1),await rl(t),t.q_.set("Offline"),n||(n=()=>ST(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await td(t)})}function NT(t,e){return e().catch(n=>hc(t,n,e))}async function nd(t){const e=re(t),n=ts(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZD(e);)try{const s=await MD(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,eV(e,s)}catch(s){await hc(e,s)}RT(e)&&jT(e)}function ZD(t){return Zs(t)&&t.O_.length<10}function eV(t,e){t.O_.push(e);const n=ts(t);n.r_()&&n.V_&&n.m_(e.mutations)}function RT(t){return Zs(t)&&!ts(t).n_()&&t.O_.length>0}function jT(t){ts(t).start()}async function tV(t){ts(t).p_()}async function nV(t){const e=ts(t);for(const n of t.O_)e.m_(n.mutations)}async function rV(t,e,n){const r=t.O_.shift(),s=Fm.from(r,e,n);await NT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await nd(t)}async function sV(t,e){e&&ts(t).V_&&await async function(r,s){if(function(o){return qj(o)&&o!==U.ABORTED}(s.code)){const i=r.O_.shift();ts(r).s_(),await NT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await nd(r)}}(t,e),RT(t)&&jT(t)}async function Z0(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.L_.add(3),await rl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await td(n)}async function iV(t,e){const n=re(t);e?(n.L_.delete(2),await td(n)):e||(n.L_.add(2),await rl(n),n.q_.set("Unknown"))}function co(t){return t.K_||(t.K_=function(n,r,s){const i=re(n);return i.w_(),new HD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:QD.bind(null,t),Ro:YD.bind(null,t),mo:XD.bind(null,t),d_:JD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Km(t)?Gm(t):t.q_.set("Unknown")):(await t.K_.stop(),AT(t))})),t.K_}function ts(t){return t.U_||(t.U_=function(n,r,s){const i=re(n);return i.w_(),new WD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tV.bind(null,t),mo:sV.bind(null,t),f_:nV.bind(null,t),g_:rV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await nd(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Qm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(t,e){if(sr("AsyncQueue",`${e}: ${t}`),el(t))return new Y(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Wo(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Oi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.W_=new je(J.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zi{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zi(e,n,Oi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class aV{constructor(){this.queries=tx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=re(n),i=s.queries;s.queries=tx(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new Y(U.ABORTED,"Firestore shutting down"))}}function tx(){return new uo(t=>tT(t),Qc)}async function lV(t,e){const n=re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new oV,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ym(o,`Initialization of query '${ui(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Xm(n)}async function uV(t,e){const n=re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cV(t,e){const n=re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Xm(n)}function dV(t,e,n){const r=re(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Xm(t){t.Y_.forEach(e=>{e.next()})}var Jf,nx;(nx=Jf||(Jf={})).ea="default",nx.Cache="cache";class hV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Zi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.key=e}}class VT{constructor(e){this.key=e}}class fV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=nT(e),this.Ra=new Oi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ex,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=Yc(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;m&&y?m.data.isEqual(y.data)?T!==_&&(r.track({type:3,doc:y}),I=!0):this.ga(m,y)||(r.track({type:2,doc:y}),I=!0,(u&&this.Aa(y,u)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),I=!0):m&&!y&&(r.track({type:1,doc:m}),I=!0,(u||c)&&(a=!0)),I&&(y?(o=o.add(y),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(y,T){const _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return _(y)-_(T)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Zi(this.query,e.Ra,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ex,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new VT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new DT(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Zi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mV{constructor(e){this.key=e,this.va=!1}}class gV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new uo(a=>tT(a),Qc),this.Ma=new Map,this.xa=new Set,this.Oa=new je(J.comparator),this.Na=new Map,this.La=new zm,this.Ba={},this.ka=new Map,this.qa=Ji.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function yV(t,e,n=!0){const r=BT(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await MT(r,e,n,!0),s}async function vV(t,e){const n=BT(t);await MT(n,e,!0,!1)}async function MT(t,e,n,r){const s=await OD(t.localStore,Cn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await xV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&PT(t.remoteStore,s),a}async function xV(t,e,n,r,s){t.Ka=(f,m,y)=>async function(_,I,v,x){let w=I.view.ma(v);w.ns&&(w=await Y0(_.localStore,I.query,!1).then(({documents:k})=>I.view.ma(k,w)));const C=x&&x.targetChanges.get(I.targetId),V=x&&x.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(w,_.isPrimaryClient,C,V);return sx(_,I.targetId,M.wa),M.snapshot}(t,f,m,y);const i=await Y0(t.localStore,e,!0),o=new fV(e,i.Ts),a=o.ma(i.documents),u=nl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);sx(t,n,c.wa);const h=new pV(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function wV(t,e,n){const r=re(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Qc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Wm(r.remoteStore,s.targetId),Zf(r,s.targetId)}).catch(Za)):(Zf(r,s.targetId),await Xf(r.localStore,s.targetId,!0))}async function _V(t,e){const n=re(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(n.remoteStore,r.targetId))}async function EV(t,e,n){const r=CV(t);try{const s=await function(o,a){const u=re(o),c=Ke.now(),h=a.reduce((y,T)=>y.add(T.key),le());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=ir(),_=le();return u.cs.getEntries(y,h).next(I=>{T=I,T.forEach((v,x)=>{x.isValidDocument()||(_=_.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(I=>{f=I;const v=[];for(const x of a){const w=Bj(x,f.get(x.key).overlayedDocument);w!=null&&v.push(new us(x.key,w,K1(w.value.mapValue),gn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,v,a)}).next(I=>{m=I;const v=I.applyToLocalDocumentSet(f,_);return u.documentOverlayCache.saveOverlays(y,I.batchId,v)})}).then(()=>({batchId:m.batchId,changes:sT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new je(pe)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await sl(r,s.changes),await nd(r.remoteStore)}catch(s){const i=Ym(s,"Failed to persist write");n.reject(i)}}async function OT(t,e){const n=re(t);try{const r=await DD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ye(o.va):s.removedDocuments.size>0&&(ye(o.va),o.va=!1))}),await sl(n,r,e)}catch(r){await Za(r)}}function rx(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=re(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(a)&&(c=!0)}),c&&Xm(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TV(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new je(J.comparator);o=o.insert(i,yt.newNoDocument(i,ne.min()));const a=le().add(i),u=new Zc(ne.min(),new Map,new je(pe),o,a);await OT(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Jm(r)}else await Xf(r.localStore,e,!1).then(()=>Zf(r,e,n)).catch(Za)}async function bV(t,e){const n=re(t),r=e.batch.batchId;try{const s=await jD(n.localStore,e);FT(n,r,null),LT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sl(n,s)}catch(s){await Za(s)}}async function SV(t,e,n){const r=re(t);try{const s=await function(o,a){const u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ye(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);FT(r,e,n),LT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sl(r,s)}catch(s){await Za(s)}}function LT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function FT(t,e,n){const r=re(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Zf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UT(t,r)})}function UT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Wm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Jm(t))}function sx(t,e,n){for(const r of n)r instanceof DT?(t.La.addReference(r.key,e),IV(t,r)):r instanceof VT?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UT(t,r.key)):te()}function IV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),Jm(t))}function Jm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new J(ke.fromString(e)),r=t.qa.next();t.Na.set(r,new mV(n)),t.Oa=t.Oa.insert(n,r),PT(t.remoteStore,new Rr(Cn(Mm(n.path)),r,"TargetPurposeLimboResolution",Am.oe))}}async function sl(t,e,n){const r=re(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Hm.Wi(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,c){const h=re(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,m=>F.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>F.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!el(f))throw f;K("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const y=h.os.get(m),T=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,_)}}}(r.localStore,i))}async function kV(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await bT(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new Y(U.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sl(n,r.hs)}}function PV(t,e){const n=re(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let s=le();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function BT(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TV.bind(null,e),e.Ca.d_=cV.bind(null,e.eventManager),e.Ca.$a=dV.bind(null,e.eventManager),e}function CV(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SV.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return RD(this.persistence,new AD,e.initialUser,this.serializer)}Ga(e){return new kD($m.Zr,this.serializer)}Wa(e){return new FD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kV.bind(null,this.syncEngine),await iV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aV}()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),r=function(i){return new $D(i)}(e.databaseInfo);return function(i,o,a,u){return new qD(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new KD(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>rx(this.syncEngine,n,0),function(){return J0.D()?new J0:new UD}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const f=new gV(s,i,o,a,u,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=re(s);K("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await rl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=W1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ym(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vh(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ix(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RV(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Z0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Z0(e.remoteStore,s)),t._onlineComponents=e}async function RV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await vh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qi("Error using user provided cache. Falling back to memory cache: "+n),await vh(t,new fc)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await vh(t,new fc);return t._offlineComponents}async function zT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await ix(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await ix(t,new ep))),t._onlineComponents}function jV(t){return zT(t).then(e=>e.syncEngine)}async function DV(t){const e=await zT(t),n=e.eventManager;return n.onListen=yV.bind(null,e.syncEngine),n.onUnlisten=wV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_V.bind(null,e.syncEngine),n}function VV(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new AV({next:m=>{h.Za(),o.enqueueAndForget(()=>uV(i,f));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new Y(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?c.reject(new Y(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new hV(Mm(a.path),h,{includeMetadataChanges:!0,_a:!0});return lV(i,f)}(await DV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e,n){if(!n)throw new Y(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MV(t,e,n,r){if(e===!0&&r===!0)throw new Y(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ax(t){if(!J.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lx(t){if(J.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zm(t);throw new Y(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ux({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ux(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QR;switch(r.type){case"firstParty":return new ZR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ox.get(n);r&&(K("ComponentProvider","Removing Datastore"),ox.delete(n),r.terminate())}(this),Promise.resolve()}}function OV(t,e,n,r={}){var s;const i=(t=ns(t,rd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=mt.MOCK_USER;else{a=QE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Y(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mt(c)}t._authCredentials=new YR(new H1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eg(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class Wr extends eg{constructor(e,n,r){super(e,n,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new J(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function LV(t,e,...n){if(t=Re(t),HT("collection","path",e),t instanceof rd){const r=ke.fromString(e,...n);return lx(r),new Wr(t,null,r)}{if(!(t instanceof Vt||t instanceof Wr))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return lx(r),new Wr(t.firestore,null,r)}}function qr(t,e,...n){if(t=Re(t),arguments.length===1&&(e=W1.newId()),HT("doc","path",e),t instanceof rd){const r=ke.fromString(e,...n);return ax(r),new Vt(t,null,new J(r))}{if(!(t instanceof Vt||t instanceof Wr))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return ax(r),new Vt(t.firestore,t instanceof Wr?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new IT(this,"async_queue_retry"),this.Vu=()=>{const r=yh();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=yh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=yh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Hr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!el(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw sr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Qm.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class il extends rd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new cx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cx(e),this._firestoreClient=void 0,await e}}}function FV(t,e){const n=typeof t=="object"?t:ym(),r=typeof t=="string"?t:"(default)",s=$c(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=qE("firestore");i&&OV(s,...i)}return s}function WT(t){if(t._terminated)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UV(t),t._firestoreClient}function UV(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,h){return new hj(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$T(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new NV(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(at.fromBase64String(e))}catch(n){throw new Y(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^__.*__$/;class zV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new tl(e,this.data,n,this.fieldTransforms)}}class qT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class id{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GT(this.Cu)&&BV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $V{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ed(e)}Qu(e,n,r,s=!1){return new id({Cu:e,methodName:n,qu:r,path:rt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(t){const e=t._freezeSettings(),n=ed(t._databaseId);return new $V(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KT(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);ag("Data must be an object, but it was:",o,r);const a=YT(r,o);let u,c;if(i.merge)u=new Bt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=tp(e,f,n);if(!o.contains(m))throw new Y(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JT(h,m)||h.push(m)}u=new Bt(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new zV(new At(a),u,c)}class od extends ho{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}function QT(t,e,n){return new id({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends ho{_toFieldTransform(e){return new Lm(e.path,new La)}isEqual(e){return e instanceof sg}}class ig extends ho{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=QT(this,e,!0),r=this.Ku.map(i=>fo(i,n)),s=new Yi(r);return new Lm(e.path,s)}isEqual(e){return e instanceof ig&&Wi(this.Ku,e.Ku)}}class og extends ho{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=QT(this,e,!0),r=this.Ku.map(i=>fo(i,n)),s=new Xi(r);return new Lm(e.path,s)}isEqual(e){return e instanceof og&&Wi(this.Ku,e.Ku)}}function HV(t,e,n,r){const s=t.Qu(1,e,n);ag("Data must be an object, but it was:",s,r);const i=[],o=At.empty();Js(r,(u,c)=>{const h=lg(e,u,n);c=Re(c);const f=s.Nu(h);if(c instanceof od)i.push(h);else{const m=fo(c,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new Bt(i);return new qT(o,a,s.fieldTransforms)}function WV(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[tp(e,r,n)],u=[s];if(i.length%2!=0)throw new Y(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(tp(e,i[m])),u.push(i[m+1]);const c=[],h=At.empty();for(let m=a.length-1;m>=0;--m)if(!JT(c,a[m])){const y=a[m];let T=u[m];T=Re(T);const _=o.Nu(y);if(T instanceof od)c.push(y);else{const I=fo(T,_);I!=null&&(c.push(y),h.set(y,I))}}const f=new Bt(c);return new qT(h,f,o.fieldTransforms)}function fo(t,e){if(XT(t=Re(t)))return ag("Unsupported field value:",e,t),YT(t,e);if(t instanceof ho)return function(r,s){if(!GT(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=fo(a,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ke.fromDate(r);return{timestampValue:dc(s.serializer,i)}}if(r instanceof Ke){const i=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dc(s.serializer,i)}}if(r instanceof tg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eo)return{bytesValue:yT(s.serializer,r._byteString)};if(r instanceof Vt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Bm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ng)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Om(a.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Zm(r)}`)}(t,e)}function YT(t,e){const n={};return q1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,s)=>{const i=fo(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function XT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof tg||t instanceof eo||t instanceof Vt||t instanceof ho||t instanceof ng)}function ag(t,e,n){if(!XT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Zm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function tp(t,e,n){if((e=Re(e))instanceof sd)return e._internalPath;if(typeof e=="string")return lg(t,e);throw pc("Field path arguments must be of type string or ",t,!1,void 0,n)}const qV=new RegExp("[~\\*/\\[\\]]");function lg(t,e,n){if(e.search(qV)>=0)throw pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sd(...e.split("."))._internalPath}catch{throw pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Y(U.INVALID_ARGUMENT,a+t+u)}function JT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GV extends ZT{data(){return super.data()}}function eb(t,e){return typeof e=="string"?lg(t,e):e instanceof sd?e._internalPath:e._delegate._internalPath}class KV{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Oe(o.doubleValue));return new ng(i)}convertGeoPoint(e){return new tg(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){const n=es(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);ye(TT(r));const s=new Ma(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||sr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nb extends ZT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new YV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class YV extends nb{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){t=ns(t,Vt);const e=ns(t.firestore,il);return VV(WT(e),t._key).then(n=>ZV(e,t,n))}class XV extends KV{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function rb(t,e,n){t=ns(t,Vt);const r=ns(t.firestore,il),s=tb(t.converter,e,n);return cg(r,[KT(rg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,gn.none())])}function ug(t,e,n,...r){t=ns(t,Vt);const s=ns(t.firestore,il),i=rg(s);let o;return o=typeof(e=Re(e))=="string"||e instanceof sd?WV(i,"updateDoc",t._key,e,n,r):HV(i,"updateDoc",t._key,e),cg(s,[o.toMutation(t._key,gn.exists(!0))])}function JV(t,e){const n=ns(t.firestore,il),r=qr(t),s=tb(t.converter,e);return cg(n,[KT(rg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}function cg(t,e){return function(r,s){const i=new Hr;return r.asyncQueue.enqueueAndForget(async()=>EV(await jV(r),s,i)),i.promise}(WT(t),e)}function ZV(t,e,n){const r=n.docs.get(e._key),s=new XV(t);return new nb(t,s,e._key,r,new QV(n.hasPendingWrites,n.fromCache),e.converter)}function Tu(){return new sg("serverTimestamp")}function e4(...t){return new ig("arrayUnion",t)}function sb(...t){return new og("arrayRemove",t)}(function(e,n=!0){(function(s){lo=s})(Ys),Us(new Jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new il(new XR(r.getProvider("auth-internal")),new tj(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),In(C0,"4.7.3",e),In(C0,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firebasestorage.googleapis.com",t4="storageBucket",n4=2*60*1e3,r4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Vn{constructor(e,n,r=0){super(xh(e),`Firebase Storage: ${n} (${xh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,On.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dn||(Dn={}));function xh(t){return"storage/"+t}function s4(){const t="An unknown error occurred, please check the error payload for server response.";return new On(Dn.UNKNOWN,t)}function i4(){return new On(Dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o4(){return new On(Dn.CANCELED,"User canceled the upload/download.")}function a4(t){return new On(Dn.INVALID_URL,"Invalid URL '"+t+"'.")}function l4(t){return new On(Dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dx(t){return new On(Dn.INVALID_ARGUMENT,t)}function ob(){return new On(Dn.APP_DELETED,"The Firebase app was deleted.")}function u4(t){return new On(Dn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hn.makeFromUrl(e,n)}catch{return new hn(e,"")}if(r.path==="")return r;throw l4(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),T={bucket:1,path:3},_=n===ib?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",v=new RegExp(`^https?://${_}/${s}/${I}`,"i"),w=[{regex:a,indices:u,postModify:i},{regex:y,indices:T,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const V=w[C],M=V.regex.exec(e);if(M){const k=M[V.indices.bucket];let E=M[V.indices.path];E||(E=""),r=new hn(k,E),V.postModify(r);break}}if(r==null)throw a4(e);return r}}class c4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...I){c||(c=!0,e.apply(null,I))}function f(I){s=setTimeout(()=>{s=null,t(y,u())},I)}function m(){i&&clearTimeout(i)}function y(I,...v){if(c){m();return}if(I){m(),h.call(null,I,...v);return}if(u()||o){m(),h.call(null,I,...v);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,f(w)}let T=!1;function _(I){T||(T=!0,m(),!c&&(s!==null?(I||(a=2),clearTimeout(s),f(0)):I||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function h4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){return t!==void 0}function hx(t,e,n,r){if(r<e)throw dx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dx(`Invalid value for '${t}'. Expected ${n} or less.`)}function p4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var mc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mc||(mc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r,s,i,o,a,u,c,h,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,T)=>{this.resolve_=y,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Xl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===mc.NO_ERROR,u=i.getStatus();if(!a||m4(u,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===mc.ABORT;r(!1,new Xl(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Xl(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());f4(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=s4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?ob():o4();o(u)}else{const u=i4();o(u)}};this.canceled_?n(!1,new Xl(!1,null,!0)):this.backoffId_=d4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function y4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function v4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _4(t,e,n,r,s,i,o=!0){const a=p4(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return x4(c,e),y4(c,n),v4(c,i),w4(c,r),new g4(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this._service=e,n instanceof hn?this._location=n:this._location=hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gc(e,n)}get root(){const e=new hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T4(this._location.path)}get storage(){return this._service}get parent(){const e=E4(this._location.path);if(e===null)return null;const n=new hn(this._location.bucket,e);return new gc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw u4(e)}}function fx(t,e){const n=e==null?void 0:e[t4];return n==null?null:hn.makeFromBucketSpec(n,t)}function b4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:QE(s,t.app.options.projectId))}class S4{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=ib,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n4,this._maxUploadRetryTime=r4,this._requests=new Set,s!=null?this._bucket=hn.makeFromBucketSpec(s,this._host):this._bucket=fx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hn.makeFromBucketSpec(this._url,e):this._bucket=fx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gc(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new c4(ob());{const o=_4(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const px="@firebase/storage",mx="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="storage";function I4(t=ym(),e){t=Re(t);const r=$c(t,ab).getImmediate({identifier:e}),s=qE("storage");return s&&k4(r,...s),r}function k4(t,e,n,r={}){b4(t,e,n,r)}function P4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new S4(n,r,s,e,Ys)}function C4(){Us(new Jr(ab,P4,"PUBLIC").setMultipleInstances(!0)),In(px,mx,""),In(px,mx,"esm2017")}C4();const A4={apiKey:"AIzaSyC2kTYKi-JwDxh7MH2Kdzp1blvWdvMb-4w",authDomain:"valentine-6ccc1.firebaseapp.com",projectId:"valentine-6ccc1",storageBucket:"valentine-6ccc1.appspot.com",messagingSenderId:"160547094369",appId:"1:160547094369:web:4171314829d38c8b5c4f20"},dg=JE(A4),vr=GR(dg),N4=new zn,Gr=FV(dg);I4(dg);const lb=N.createContext();function vn(){return N.useContext(lb)}function R4({children:t}){const[e,n]=N.useState(null),[r,s]=N.useState(!0);async function i(_,I={}){if(!_)return;const v=qr(Gr,"users",_.uid);(await ad(v)).exists()?await ug(v,{email:_.email||null,displayName:_.displayName||null,photoURL:_.photoURL||null,lastLoginAt:Tu(),...I}):await rb(v,{uid:_.uid,email:_.email||null,displayName:_.displayName||null,photoURL:_.photoURL||null,createdAt:Tu(),lastLoginAt:Tu(),...I})}function o(_,I,v){return SN(vr,_,I).then(async x=>{if(v!=null&&v.displayName)try{await I1(x.user,{displayName:v.displayName})}catch{}return await i(x.user,v),x})}function a(_,I){return IN(vr,_,I).then(async v=>(await i(v.user),v))}function u(){return nR(vr,N4).then(async _=>(await i(_.user),_))}function c(){return MN(vr)}function h(_){return bN(vr,_)}function f(_){return PN(vr,_)}function m(_){return _?CN(_,{url:"https://valentine-webp.vercel.app/login",handleCodeInApp:!1}):Promise.resolve()}async function y(_,I){const v=vr.currentUser;if(!v||!v.email)throw new Error("No logged in email user");const x=Xs.credential(v.email,I);await EN(v,x),await NN(v,_),await i(v,{email:_})}N.useEffect(()=>VN(vr,I=>{n(I),s(!1)}),[]);const T={currentUser:e,login:a,signup:o,loginWithGoogle:u,logout:c,resetPassword:h,getSignInMethods:f,sendWelcomeEmail:m,changeEmail:y};return d.jsx(lb.Provider,{value:T,children:!r&&t})}const ub=N.createContext();function ol(){return N.useContext(ub)}function j4({children:t}){const{currentUser:e}=vn(),n=N.useRef(!1),[r,s]=N.useState(()=>{try{const T=e?`cart_${e.uid}`:"cart_guest",_=localStorage.getItem(T);return _?JSON.parse(_):[]}catch{return[]}}),i=T=>T?`cart_${T.uid}`:"cart_guest",o=T=>{try{const _=localStorage.getItem(i(T));s(_?JSON.parse(_):[])}catch(_){console.error("Failed to load cart from local storage",_),s([])}};N.useEffect(()=>{o(e),n.current=!!e},[e]),N.useEffect(()=>{try{localStorage.setItem(i(e),JSON.stringify(r))}catch(T){console.error("Failed to save cart to local storage",T)}},[r,e]);function a(T,_=1,I=""){s(v=>{const x=v.findIndex(w=>w.id===T.id&&w.customText===I);if(x>-1){const w=[...v];return w[x].quantity+=_,w}else return[...v,{...T,quantity:_,customText:I}]})}function u(T,_=""){s(I=>I.filter(v=>!(v.id===T&&v.customText===_)))}function c(T,_,I){I<1||s(v=>v.map(x=>x.id===T&&x.customText===_?{...x,quantity:I}:x))}function h(){s([])}const f=r.reduce((T,_)=>T+_.quantity,0),m=r.reduce((T,_)=>T+_.price*_.quantity,0),y={cartItems:r,addToCart:a,removeFromCart:u,updateQuantity:c,clearCart:h,cartCount:f,cartTotal:m};return d.jsx(ub.Provider,{value:y,children:t})}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>N.createElement("svg",{ref:h,...D4,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${V4(t)}`,a].join(" "),...c},[...e.map(([f,m])=>N.createElement(f,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=ve("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=ve("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ve("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=ve("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=ve("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ve("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=ve("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mb=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ld=N.createContext({}),ud=N.createContext(null),cd=typeof document<"u",pg=cd?N.useLayoutEffect:N.useEffect,gb=N.createContext({strict:!1}),mg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),tM="framerAppearId",yb="data-"+mg(tM);function nM(t,e,n,r){const{visualElement:s}=N.useContext(ld),i=N.useContext(gb),o=N.useContext(ud),a=N.useContext(mb).reducedMotion,u=N.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=u.current;N.useInsertionEffect(()=>{c&&c.update(n,o)});const h=N.useRef(!!(n[yb]&&!window.HandoffComplete));return pg(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),N.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function bi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rM(t,e,n){return N.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):bi(n)&&(n.current=r))},[e])}function Fa(t){return typeof t=="string"||Array.isArray(t)}function dd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yg=["initial",...gg];function hd(t){return dd(t.animate)||yg.some(e=>Fa(t[e]))}function vb(t){return!!(hd(t)||t.variants)}function sM(t,e){if(hd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Fa(n)?n:void 0,animate:Fa(r)?r:void 0}}return t.inherit!==!1?e:{}}function iM(t){const{initial:e,animate:n}=sM(t,N.useContext(ld));return N.useMemo(()=>({initial:e,animate:n}),[gx(e),gx(n)])}function gx(t){return Array.isArray(t)?t.join(" "):t}const yx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ua={};for(const t in yx)Ua[t]={isEnabled:e=>yx[t].some(n=>!!e[n])};function oM(t){for(const e in t)Ua[e]={...Ua[e],...t[e]}}const vg=N.createContext({}),xb=N.createContext({}),aM=Symbol.for("motionComponentSymbol");function lM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&oM(t);function i(a,u){let c;const h={...N.useContext(mb),...a,layoutId:uM(a)},{isStatic:f}=h,m=iM(a),y=r(a,f);if(!f&&cd){m.visualElement=nM(s,y,h,e);const T=N.useContext(xb),_=N.useContext(gb).strict;m.visualElement&&(c=m.visualElement.loadFeatures(h,_,t,T))}return N.createElement(ld.Provider,{value:m},c&&m.visualElement?N.createElement(c,{visualElement:m.visualElement,...h}):null,n(s,a,rM(y,m.visualElement,u),y,f,m.visualElement))}const o=N.forwardRef(i);return o[aM]=s,o}function uM({layoutId:t}){const e=N.useContext(vg).id;return e&&t!==void 0?e+"-"+t:t}function cM(t){function e(r,s={}){return lM(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const dM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xg(t){return typeof t!="string"||t.includes("-")?!1:!!(dM.indexOf(t)>-1||/[A-Z]/.test(t))}const yc={};function hM(t){Object.assign(yc,t)}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ei=new Set(al);function wb(t,{layout:e,layoutId:n}){return ei.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yc[t]||t==="opacity")}const Mt=t=>!!(t&&t.getVelocity),fM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pM=al.length;function mM(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<pM;o++){const a=al[o];if(t[a]!==void 0){const u=fM[a]||a;i+=`${u}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const _b=t=>e=>typeof e=="string"&&e.startsWith(t),Eb=_b("--"),rp=_b("var(--"),gM=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,yM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,rs=(t,e,n)=>Math.min(Math.max(n,t),e),ti={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},la={...ti,transform:t=>rs(0,1,t)},Jl={...ti,default:1},ua=t=>Math.round(t*1e5)/1e5,fd=/(-)?([\d]*\.?[\d])+/g,Tb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,vM=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ll(t){return typeof t=="string"}const ul=t=>({test:e=>ll(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=ul("deg"),Nn=ul("%"),Z=ul("px"),xM=ul("vh"),wM=ul("vw"),vx={...Nn,parse:t=>Nn.parse(t)/100,transform:t=>Nn.transform(t*100)},xx={...ti,transform:Math.round},bb={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:Jl,scaleX:Jl,scaleY:Jl,scaleZ:Jl,skew:xr,skewX:xr,skewY:xr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:la,originX:vx,originY:vx,originZ:Z,zIndex:xx,fillOpacity:la,strokeOpacity:la,numOctaves:xx};function wg(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let u=!1,c=!1,h=!0;for(const f in e){const m=e[f];if(Eb(f)){i[f]=m;continue}const y=bb[f],T=yM(m,y);if(ei.has(f)){if(u=!0,o[f]=T,!h)continue;m!==(y.default||0)&&(h=!1)}else f.startsWith("origin")?(c=!0,a[f]=T):s[f]=T}if(e.transform||(u||r?s.transform=mM(t.transform,n,h,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:m="50%",originZ:y=0}=a;s.transformOrigin=`${f} ${m} ${y}`}}const _g=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sb(t,e,n){for(const r in e)!Mt(e[r])&&!wb(r,n)&&(t[r]=e[r])}function _M({transformTemplate:t},e,n){return N.useMemo(()=>{const r=_g();return wg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function EM(t,e,n){const r=t.style||{},s={};return Sb(s,r,t),Object.assign(s,_M(t,e,n)),t.transformValues?t.transformValues(s):s}function TM(t,e,n){const r={},s=EM(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const bM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||bM.has(t)}let Ib=t=>!vc(t);function SM(t){t&&(Ib=e=>e.startsWith("on")?!vc(e):t(e))}try{SM(require("@emotion/is-prop-valid").default)}catch{}function IM(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Ib(s)||n===!0&&vc(s)||!e&&!vc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function wx(t,e,n){return typeof t=="string"?t:Z.transform(e+n*t)}function kM(t,e,n){const r=wx(e,t.x,t.width),s=wx(n,t.y,t.height);return`${r} ${s}`}const PM={offset:"stroke-dashoffset",array:"stroke-dasharray"},CM={offset:"strokeDashoffset",array:"strokeDasharray"};function AM(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?PM:CM;t[i.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[i.array]=`${o} ${a}`}function Eg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,f,m){if(wg(t,c,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:T,dimensions:_}=t;y.transform&&(_&&(T.transform=y.transform),delete y.transform),_&&(s!==void 0||i!==void 0||T.transform)&&(T.transformOrigin=kM(_,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&AM(y,o,a,u,!1)}const kb=()=>({..._g(),attrs:{}}),Tg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function NM(t,e,n,r){const s=N.useMemo(()=>{const i=kb();return Eg(i,e,{enableHardwareAcceleration:!1},Tg(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Sb(i,t.style,t),s.style={...i,...s.style}}return s}function RM(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(xg(n)?NM:TM)(r,i,o,n),h={...IM(r,typeof n=="string",t),...u,ref:s},{children:f}=r,m=N.useMemo(()=>Mt(f)?f.get():f,[f]);return N.createElement(n,{...h,children:m})}}function Pb(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Cb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ab(t,e,n,r){Pb(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Cb.has(s)?s:mg(s),e.attrs[s])}function bg(t,e){const{style:n}=t,r={};for(const s in n)(Mt(n[s])||e.style&&Mt(e.style[s])||wb(s,t))&&(r[s]=n[s]);return r}function Nb(t,e){const n=bg(t,e);for(const r in t)if(Mt(t[r])||Mt(e[r])){const s=al.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Sg(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function Rb(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const xc=t=>Array.isArray(t),jM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),DM=t=>xc(t)?t[t.length-1]||0:t;function bu(t){const e=Mt(t)?t.get():t;return jM(e)?e.toValue():e}function VM({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:MM(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const jb=t=>(e,n)=>{const r=N.useContext(ld),s=N.useContext(ud),i=()=>VM(t,e,r,s);return n?i():Rb(i)};function MM(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=bu(i[m]);let{initial:o,animate:a}=t;const u=hd(t),c=vb(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!dd(f)&&(Array.isArray(f)?f:[f]).forEach(y=>{const T=Sg(t,y);if(!T)return;const{transitionEnd:_,transition:I,...v}=T;for(const x in v){let w=v[x];if(Array.isArray(w)){const C=h?w.length-1:0;w=w[C]}w!==null&&(s[x]=w)}for(const x in _)s[x]=_[x]}),s}const Fe=t=>t;class _x{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function OM(t){let e=new _x,n=new _x,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(u,c=!1,h=!1)=>{const f=h&&s,m=f?e:n;return c&&o.add(u),m.add(u)&&f&&s&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(u),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(u))}};return a}const Zl=["prepare","read","update","preRender","render","postRender"],LM=40;function FM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Zl.reduce((f,m)=>(f[m]=OM(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,LM),1),s.timestamp=f,s.isProcessing=!0,Zl.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},u=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Zl.reduce((f,m)=>{const y=i[m];return f[m]=(T,_=!1,I=!1)=>(n||u(),y.schedule(T,_,I)),f},{}),cancel:f=>Zl.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:_e,cancel:or,state:pt,steps:_h}=FM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fe,!0),UM={useVisualState:jb({scrapeMotionValuesFromProps:Nb,createRenderState:kb,onMount:(t,e,{renderState:n,latestValues:r})=>{_e.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_e.render(()=>{Eg(n,r,{enableHardwareAcceleration:!1},Tg(e.tagName),t.transformTemplate),Ab(e,n)})}})},BM={useVisualState:jb({scrapeMotionValuesFromProps:bg,createRenderState:_g})};function zM(t,{forwardMotionProps:e=!1},n,r){return{...xg(t)?UM:BM,preloadedFeatures:n,useRender:RM(e),createVisualElement:r,Component:t}}function Kn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Db=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function pd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const $M=t=>e=>Db(e)&&t(e,pd(e));function Yn(t,e,n,r){return Kn(t,e,$M(n),r)}const HM=(t,e)=>n=>e(t(n)),Kr=(...t)=>t.reduce(HM);function Vb(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Ex=Vb("dragHorizontal"),Tx=Vb("dragVertical");function Mb(t){let e=!1;if(t==="y")e=Tx();else if(t==="x")e=Ex();else{const n=Ex(),r=Tx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Ob(){const t=Mb(!0);return t?(t(),!1):!0}class cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bx(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Ob())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&_e.update(()=>a[r](i,o))};return Yn(t.current,n,s,{passive:!t.getProps()[r]})}class WM extends cs{mount(){this.unmount=Kr(bx(this.node,!0),bx(this.node,!1))}unmount(){}}class qM extends cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kr(Kn(this.node.current,"focus",()=>this.onFocus()),Kn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Lb=(t,e)=>e?t===e?!0:Lb(t,e.parentElement):!1;function Eh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,pd(n))}class GM extends cs{constructor(){super(...arguments),this.removeStartListeners=Fe,this.removeEndListeners=Fe,this.removeAccessibleListeners=Fe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Yn(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:f}=this.node.getProps();_e.update(()=>{!f&&!Lb(this.node.current,a.target)?h&&h(a,u):c&&c(a,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=Yn(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Eh("up",(u,c)=>{const{onTap:h}=this.node.getProps();h&&_e.update(()=>h(u,c))})};this.removeEndListeners(),this.removeEndListeners=Kn(this.node.current,"keyup",o),Eh("down",(a,u)=>{this.startPress(a,u)})},n=Kn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Eh("cancel",(i,o)=>this.cancelPress(i,o))},s=Kn(this.node.current,"blur",r);this.removeAccessibleListeners=Kr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_e.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ob()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_e.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Yn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Kn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sp=new WeakMap,Th=new WeakMap,KM=t=>{const e=sp.get(t.target);e&&e(t)},QM=t=>{t.forEach(KM)};function YM({root:t,...e}){const n=t||document;Th.has(n)||Th.set(n,{});const r=Th.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(QM,{root:t,...e})),r[s]}function XM(t,e,n){const r=YM(e);return sp.set(t,n),r.observe(t),()=>{sp.delete(t),r.unobserve(t)}}const JM={some:0,all:1};class ZM extends cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:JM[s]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=c?h:f;m&&m(u)};return XM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eO(e,n))&&this.startObserver()}unmount(){}}function eO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tO={inView:{Feature:ZM},tap:{Feature:GM},focus:{Feature:qM},hover:{Feature:WM}};function Fb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function nO(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function rO(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function md(t,e,n){const r=t.getProps();return Sg(r,e,n!==void 0?n:r.custom,nO(t),rO(t))}let Ig=Fe;const Ds=t=>t*1e3,Xn=t=>t/1e3,sO={current:!1},Ub=t=>Array.isArray(t)&&typeof t[0]=="number";function Bb(t){return!!(!t||typeof t=="string"&&zb[t]||Ub(t)||Array.isArray(t)&&t.every(Bb))}const Go=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Go([0,.65,.55,1]),circOut:Go([.55,0,1,.45]),backIn:Go([.31,.01,.66,-.59]),backOut:Go([.33,1.53,.69,.99])};function $b(t){if(t)return Ub(t)?Go(t):Array.isArray(t)?t.map($b):zb[t]}function iO(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=$b(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function oO(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Hb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,aO=1e-7,lO=12;function uO(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Hb(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>aO&&++a<lO);return o}function cl(t,e,n,r){if(t===e&&n===r)return Fe;const s=i=>uO(i,0,1,t,n);return i=>i===0||i===1?i:Hb(s(i),e,r)}const cO=cl(.42,0,1,1),dO=cl(0,0,.58,1),Wb=cl(.42,0,.58,1),hO=t=>Array.isArray(t)&&typeof t[0]!="number",qb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Gb=t=>e=>1-t(1-e),kg=t=>1-Math.sin(Math.acos(t)),Kb=Gb(kg),fO=qb(kg),Qb=cl(.33,1.53,.69,.99),Pg=Gb(Qb),pO=qb(Pg),mO=t=>(t*=2)<1?.5*Pg(t):.5*(2-Math.pow(2,-10*(t-1))),gO={linear:Fe,easeIn:cO,easeInOut:Wb,easeOut:dO,circIn:kg,circInOut:fO,circOut:Kb,backIn:Pg,backInOut:pO,backOut:Qb,anticipate:mO},Sx=t=>{if(Array.isArray(t)){Ig(t.length===4);const[e,n,r,s]=t;return cl(e,n,r,s)}else if(typeof t=="string")return gO[t];return t},Cg=(t,e)=>n=>!!(ll(n)&&vM.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Yb=(t,e,n)=>r=>{if(!ll(r))return r;const[s,i,o,a]=r.match(fd);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yO=t=>rs(0,255,t),bh={...ti,transform:t=>Math.round(yO(t))},Cs={test:Cg("rgb","red"),parse:Yb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bh.transform(t)+", "+bh.transform(e)+", "+bh.transform(n)+", "+ua(la.transform(r))+")"};function vO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ip={test:Cg("#"),parse:vO,transform:Cs.transform},Si={test:Cg("hsl","hue"),parse:Yb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Nn.transform(ua(e))+", "+Nn.transform(ua(n))+", "+ua(la.transform(r))+")"},bt={test:t=>Cs.test(t)||ip.test(t)||Si.test(t),parse:t=>Cs.test(t)?Cs.parse(t):Si.test(t)?Si.parse(t):ip.parse(t),transform:t=>ll(t)?t:t.hasOwnProperty("red")?Cs.transform(t):Si.transform(t)},Ce=(t,e,n)=>-n*t+n*e+t;function Sh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;s=Sh(u,a,t+1/3),i=Sh(u,a,t),o=Sh(u,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Ih=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},wO=[ip,Cs,Si],_O=t=>wO.find(e=>e.test(t));function Ix(t){const e=_O(t);let n=e.parse(t);return e===Si&&(n=xO(n)),n}const Xb=(t,e)=>{const n=Ix(t),r=Ix(e),s={...n};return i=>(s.red=Ih(n.red,r.red,i),s.green=Ih(n.green,r.green,i),s.blue=Ih(n.blue,r.blue,i),s.alpha=Ce(n.alpha,r.alpha,i),Cs.transform(s))};function EO(t){var e,n;return isNaN(t)&&ll(t)&&(((e=t.match(fd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Tb))===null||n===void 0?void 0:n.length)||0)>0}const Jb={regex:gM,countKey:"Vars",token:"${v}",parse:Fe},Zb={regex:Tb,countKey:"Colors",token:"${c}",parse:bt.parse},eS={regex:fd,countKey:"Numbers",token:"${n}",parse:ti.parse};function kh(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function wc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&kh(n,Jb),kh(n,Zb),kh(n,eS),n}function tS(t){return wc(t).values}function nS(t){const{values:e,numColors:n,numVars:r,tokenised:s}=wc(t),i=e.length;return o=>{let a=s;for(let u=0;u<i;u++)u<r?a=a.replace(Jb.token,o[u]):u<r+n?a=a.replace(Zb.token,bt.transform(o[u])):a=a.replace(eS.token,ua(o[u]));return a}}const TO=t=>typeof t=="number"?0:t;function bO(t){const e=tS(t);return nS(t)(e.map(TO))}const ss={test:EO,parse:tS,createTransformer:nS,getAnimatableNone:bO},rS=(t,e)=>n=>`${n>0?e:t}`;function sS(t,e){return typeof t=="number"?n=>Ce(t,e,n):bt.test(t)?Xb(t,e):t.startsWith("var(")?rS(t,e):oS(t,e)}const iS=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>sS(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},SO=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=sS(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},oS=(t,e)=>{const n=ss.createTransformer(e),r=wc(t),s=wc(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Kr(iS(r.values,s.values),n):rS(t,e)},Ba=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},kx=(t,e)=>n=>Ce(t,e,n);function IO(t){return typeof t=="number"?kx:typeof t=="string"?bt.test(t)?Xb:oS:Array.isArray(t)?iS:typeof t=="object"?SO:kx}function kO(t,e,n){const r=[],s=n||IO(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Fe:e;a=Kr(u,a)}r.push(a)}return r}function aS(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Ig(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=kO(e,r,s),a=o.length,u=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=Ba(t[h],t[h+1],c);return o[h](f)};return n?c=>u(rs(t[0],t[i-1],c)):u}function PO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ba(0,e,r);t.push(Ce(n,1,s))}}function CO(t){const e=[0];return PO(e,t.length-1),e}function AO(t,e){return t.map(n=>n*e)}function NO(t,e){return t.map(()=>e||Wb).splice(0,t.length-1)}function _c({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=hO(r)?r.map(Sx):Sx(r),i={done:!1,value:e[0]},o=AO(n&&n.length===e.length?n:CO(e),t),a=aS(o,e,{ease:Array.isArray(s)?s:NO(e,s)});return{calculatedDuration:t,next:u=>(i.value=a(u),i.done=u>=t,i)}}function lS(t,e){return e?t*(1e3/e):0}const RO=5;function uS(t,e,n){const r=Math.max(e-RO,0);return lS(n-t(r),e-r)}const Ph=.001,jO=.01,DO=10,VO=.05,MO=1;function OO({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=rs(VO,MO,o),t=rs(jO,DO,Xn(t)),o<1?(s=c=>{const h=c*o,f=h*t,m=h-n,y=op(c,o),T=Math.exp(-f);return Ph-m/y*T},i=c=>{const f=c*o*t,m=f*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,T=Math.exp(-f),_=op(Math.pow(c,2),o);return(-s(c)+Ph>0?-1:1)*((m-y)*T)/_}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Ph+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,u=FO(s,i,a);if(t=Ds(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const LO=12;function FO(t,e,n){let r=n;for(let s=1;s<LO;s++)r=r-t(r)/e(r);return r}function op(t,e){return t*Math.sqrt(1-e*e)}const UO=["duration","bounce"],BO=["stiffness","damping","mass"];function Px(t,e){return e.some(n=>t[n]!==void 0)}function zO(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Px(t,BO)&&Px(t,UO)){const n=OO(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function cS({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:u,mass:c,duration:h,velocity:f,isResolvedFromDuration:m}=zO({...r,velocity:-Xn(r.velocity||0)}),y=f||0,T=u/(2*Math.sqrt(a*c)),_=i-s,I=Xn(Math.sqrt(a/c)),v=Math.abs(_)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let x;if(T<1){const w=op(I,T);x=C=>{const V=Math.exp(-T*I*C);return i-V*((y+T*I*_)/w*Math.sin(w*C)+_*Math.cos(w*C))}}else if(T===1)x=w=>i-Math.exp(-I*w)*(_+(y+I*_)*w);else{const w=I*Math.sqrt(T*T-1);x=C=>{const V=Math.exp(-T*I*C),M=Math.min(w*C,300);return i-V*((y+T*I*_)*Math.sinh(M)+w*_*Math.cosh(M))/w}}return{calculatedDuration:m&&h||null,next:w=>{const C=x(w);if(m)o.done=w>=h;else{let V=y;w!==0&&(T<1?V=uS(x,w,C):V=0);const M=Math.abs(V)<=n,k=Math.abs(i-C)<=e;o.done=M&&k}return o.value=o.done?i:C,o}}}function Cx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},y=E=>a!==void 0&&E<a||u!==void 0&&E>u,T=E=>a===void 0?u:u===void 0||Math.abs(a-E)<Math.abs(u-E)?a:u;let _=n*e;const I=f+_,v=o===void 0?I:o(I);v!==I&&(_=v-f);const x=E=>-_*Math.exp(-E/r),w=E=>v+x(E),C=E=>{const S=x(E),P=w(E);m.done=Math.abs(S)<=c,m.value=m.done?v:P};let V,M;const k=E=>{y(m.value)&&(V=E,M=cS({keyframes:[m.value,T(m.value)],velocity:uS(w,E,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return k(0),{calculatedDuration:null,next:E=>{let S=!1;return!M&&V===void 0&&(S=!0,C(E),k(E)),V!==void 0&&E>V?M.next(E-V):(!S&&C(E),m)}}}const $O=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_e.update(e,!0),stop:()=>or(e),now:()=>pt.isProcessing?pt.timestamp:performance.now()}},Ax=2e4;function Nx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ax;)e+=n,r=t.next(e);return e>=Ax?1/0:e}const HO={decay:Cx,inertia:Cx,tween:_c,keyframes:_c,spring:cS};function Ec({autoplay:t=!0,delay:e=0,driver:n=$O,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:u,onStop:c,onComplete:h,onUpdate:f,...m}){let y=1,T=!1,_,I;const v=()=>{I=new Promise(H=>{_=H})};v();let x;const w=HO[s]||_c;let C;w!==_c&&typeof r[0]!="number"&&(C=aS([0,100],r,{clamp:!1}),r=[0,100]);const V=w({...m,keyframes:r});let M;a==="mirror"&&(M=w({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let k="idle",E=null,S=null,P=null;V.calculatedDuration===null&&i&&(V.calculatedDuration=Nx(V));const{calculatedDuration:R}=V;let j=1/0,A=1/0;R!==null&&(j=R+o,A=j*(i+1)-o);let se=0;const Me=H=>{if(S===null)return;y>0&&(S=Math.min(S,H)),y<0&&(S=Math.min(H-A/y,S)),E!==null?se=E:se=Math.round(H-S)*y;const q=se-e*(y>=0?1:-1),ee=y>=0?q<0:q>A;se=Math.max(q,0),k==="finished"&&E===null&&(se=A);let ie=se,Se=V;if(i){const xn=Math.min(se,A)/j;let Kt=Math.floor(xn),_t=xn%1;!_t&&xn>=1&&(_t=1),_t===1&&Kt--,Kt=Math.min(Kt,i+1),!!(Kt%2)&&(a==="reverse"?(_t=1-_t,o&&(_t-=o/j)):a==="mirror"&&(Se=M)),ie=rs(0,1,_t)*j}const Qe=ee?{done:!1,value:r[0]}:Se.next(ie);C&&(Qe.value=C(Qe.value));let{done:wt}=Qe;!ee&&R!==null&&(wt=y>=0?se>=A:se<=0);const dr=E===null&&(k==="finished"||k==="running"&&wt);return f&&f(Qe.value),dr&&z(),Qe},me=()=>{x&&x.stop(),x=void 0},de=()=>{k="idle",me(),_(),v(),S=P=null},z=()=>{k="finished",h&&h(),me(),_()},W=()=>{if(T)return;x||(x=n(Me));const H=x.now();u&&u(),E!==null?S=H-E:(!S||k==="finished")&&(S=H),k==="finished"&&v(),P=S,E=null,k="running",x.start()};t&&W();const O={then(H,q){return I.then(H,q)},get time(){return Xn(se)},set time(H){H=Ds(H),se=H,E!==null||!x||y===0?E=H:S=x.now()-H/y},get duration(){const H=V.calculatedDuration===null?Nx(V):V.calculatedDuration;return Xn(H)},get speed(){return y},set speed(H){H===y||!x||(y=H,O.time=Xn(se))},get state(){return k},play:W,pause:()=>{k="paused",E=se},stop:()=>{T=!0,k!=="idle"&&(k="idle",c&&c(),de())},cancel:()=>{P!==null&&Me(P),de()},complete:()=>{k="finished"},sample:H=>(S=0,Me(H))};return O}function WO(t){let e;return()=>(e===void 0&&(e=t()),e)}const qO=WO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),GO=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),eu=10,KO=2e4,QO=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Bb(e.ease);function YO(t,e,{onUpdate:n,onComplete:r,...s}){if(!(qO()&&GO.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,u,c=!1;const h=()=>{u=new Promise(w=>{a=w})};h();let{keyframes:f,duration:m=300,ease:y,times:T}=s;if(QO(e,s)){const w=Ec({...s,repeat:0,delay:0});let C={done:!1,value:f[0]};const V=[];let M=0;for(;!C.done&&M<KO;)C=w.sample(M),V.push(C.value),M+=eu;T=void 0,f=V,m=M-eu,y="linear"}const _=iO(t.owner.current,e,f,{...s,duration:m,ease:y,times:T}),I=()=>{c=!1,_.cancel()},v=()=>{c=!0,_e.update(I),a(),h()};return _.onfinish=()=>{c||(t.set(oO(f,s)),r&&r(),v())},{then(w,C){return u.then(w,C)},attachTimeline(w){return _.timeline=w,_.onfinish=null,Fe},get time(){return Xn(_.currentTime||0)},set time(w){_.currentTime=Ds(w)},get speed(){return _.playbackRate},set speed(w){_.playbackRate=w},get duration(){return Xn(m)},play:()=>{o||(_.play(),or(I))},pause:()=>_.pause(),stop:()=>{if(o=!0,_.playState==="idle")return;const{currentTime:w}=_;if(w){const C=Ec({...s,autoplay:!1});t.setWithVelocity(C.sample(w-eu).value,C.sample(w).value,eu)}v()},complete:()=>{c||_.finish()},cancel:v}}function XO({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Fe,pause:Fe,stop:Fe,then:i=>(i(),Promise.resolve()),cancel:Fe,complete:Fe});return e?Ec({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const JO={type:"spring",stiffness:500,damping:25,restSpeed:10},ZO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eL={type:"keyframes",duration:.8},tL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nL=(t,{keyframes:e})=>e.length>2?eL:ei.has(t)?t.startsWith("scale")?ZO(e[1]):JO:tL,ap=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ss.test(e)||e==="0")&&!e.startsWith("url(")),rL=new Set(["brightness","contrast","saturate","opacity"]);function sL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fd)||[];if(!r)return t;const s=n.replace(r,"");let i=rL.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const iL=/([a-z-]*)\(.*?\)/g,lp={...ss,getAnimatableNone:t=>{const e=t.match(iL);return e?e.map(sL).join(" "):t}},oL={...bb,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:lp,WebkitFilter:lp},Ag=t=>oL[t];function dS(t,e){let n=Ag(t);return n!==lp&&(n=ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hS=t=>/^0[^.\s]+$/.test(t);function aL(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||hS(t)}function lL(t,e,n,r){const s=ap(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const u=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),aL(i[c])&&u.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&u.length&&a)for(let c=0;c<u.length;c++){const h=u[c];i[h]=dS(e,a)}return i}function uL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}function Ng(t,e){return t[e]||t.default||t}const cL={skipAnimations:!1},Rg=(t,e,n,r={})=>s=>{const i=Ng(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ds(o);const u=lL(e,t,n,i),c=u[0],h=u[u.length-1],f=ap(t,c),m=ap(t,h);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:T=>{e.set(T),i.onUpdate&&i.onUpdate(T)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(uL(i)||(y={...y,...nL(t,y)}),y.duration&&(y.duration=Ds(y.duration)),y.repeatDelay&&(y.repeatDelay=Ds(y.repeatDelay)),!f||!m||sO.current||i.type===!1||cL.skipAnimations)return XO(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=YO(e,t,y);if(T)return T}return Ec(y)};function Tc(t){return!!(Mt(t)&&t.add)}const fS=t=>/^\-?\d*\.?\d+$/.test(t);function jg(t,e){t.indexOf(e)===-1&&t.push(e)}function Dg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vg{constructor(){this.subscriptions=[]}add(e){return jg(this.subscriptions,e),()=>Dg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dL=t=>!isNaN(parseFloat(t));class hL{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=pt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,_e.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_e.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=dL(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vg);const r=this.events[e].add(n);return e==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?lS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function to(t,e){return new hL(t,e)}const pS=t=>e=>e.test(t),fL={test:t=>t==="auto",parse:t=>t},mS=[ti,Z,Nn,xr,wM,xM,fL],Mo=t=>mS.find(pS(t)),pL=[...mS,bt,ss],mL=t=>pL.find(pS(t));function gL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,to(n))}function yL(t,e){const n=md(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=DM(i[o]);gL(t,o,a)}}function vL(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const u=i[a],c=e[u];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(s=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&s!==void 0?s:e[u]),h!=null&&(typeof h=="string"&&(fS(h)||hS(h))?h=parseFloat(h):!mL(h)&&ss.test(c)&&(h=dS(u,c)),t.addValue(u,to(h,{owner:t})),n[u]===void 0&&(n[u]=h),h!==null&&t.setBaseTarget(u,h))}}function xL(t,e){return e?(e[t]||e.default||e).from:void 0}function wL(t,e,n){const r={};for(const s in t){const i=xL(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function _L({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function EL(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function gS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const m=t.getValue(f),y=a[f];if(!m||y===void 0||h&&_L(h,f))continue;const T={delay:n,elapsed:0,...Ng(i||{},f)};if(window.HandoffAppearAnimations){const v=t.getProps()[yb];if(v){const x=window.HandoffAppearAnimations(v,f,m,_e);x!==null&&(T.elapsed=x,T.isHandoff=!0)}}let _=!T.isHandoff&&!EL(m,y);if(T.type==="spring"&&(m.getVelocity()||T.velocity)&&(_=!1),m.animation&&(_=!1),_)continue;m.start(Rg(f,m,y,t.shouldReduceMotion&&ei.has(f)?{type:!1}:T));const I=m.animation;Tc(u)&&(u.add(f),I.then(()=>u.remove(f))),c.push(I)}return o&&Promise.all(c).then(()=>{o&&yL(t,o)}),c}function up(t,e,n={}){const r=md(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(gS(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return TL(t,e,c+u,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function TL(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,u=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(bL).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(up(c,e,{...i,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function bL(t,e){return t.sortNodePosition(e)}function SL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>up(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=up(t,e,n);else{const s=typeof e=="function"?md(t,e,n.custom):e;r=Promise.all(gS(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const IL=[...gg].reverse(),kL=gg.length;function PL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>SL(t,n,r)))}function CL(t){let e=PL(t);const n=NL();let r=!0;const s=(u,c)=>{const h=md(t,c);if(h){const{transition:f,transitionEnd:m,...y}=h;u={...u,...y,...m}}return u};function i(u){e=u(t)}function o(u,c){const h=t.getProps(),f=t.getVariantContext(!0)||{},m=[],y=new Set;let T={},_=1/0;for(let v=0;v<kL;v++){const x=IL[v],w=n[x],C=h[x]!==void 0?h[x]:f[x],V=Fa(C),M=x===c?w.isActive:null;M===!1&&(_=v);let k=C===f[x]&&C!==h[x]&&V;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...T},!w.isActive&&M===null||!C&&!w.prevProp||dd(C)||typeof C=="boolean")continue;let S=AL(w.prevProp,C)||x===c&&w.isActive&&!k&&V||v>_&&V,P=!1;const R=Array.isArray(C)?C:[C];let j=R.reduce(s,{});M===!1&&(j={});const{prevResolvedValues:A={}}=w,se={...A,...j},Me=me=>{S=!0,y.has(me)&&(P=!0,y.delete(me)),w.needsAnimating[me]=!0};for(const me in se){const de=j[me],z=A[me];if(T.hasOwnProperty(me))continue;let W=!1;xc(de)&&xc(z)?W=!Fb(de,z):W=de!==z,W?de!==void 0?Me(me):y.add(me):de!==void 0&&y.has(me)?Me(me):w.protectedKeys[me]=!0}w.prevProp=C,w.prevResolvedValues=j,w.isActive&&(T={...T,...j}),r&&t.blockInitialAnimation&&(S=!1),S&&(!k||P)&&m.push(...R.map(me=>({animation:me,options:{type:x,...u}})))}if(y.size){const v={};y.forEach(x=>{const w=t.getBaseTarget(x);w!==void 0&&(v[x]=w)}),m.push({animation:v})}let I=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(m):Promise.resolve()}function a(u,c,h){var f;if(n[u].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(y=>{var T;return(T=y.animationState)===null||T===void 0?void 0:T.setActive(u,c)}),n[u].isActive=c;const m=o(h,u);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function AL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Fb(e,t):!1}function gs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NL(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class RL extends cs{constructor(e){super(e),e.animationState||(e.animationState=CL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),dd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let jL=0;class DL extends cs{constructor(){super(...arguments),this.id=jL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const VL={animation:{Feature:RL},exit:{Feature:DL}},Rx=(t,e)=>Math.abs(t-e);function ML(t,e){const n=Rx(t.x,e.x),r=Rx(t.y,e.y);return Math.sqrt(n**2+r**2)}class yS{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ah(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=ML(f.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:T}=f,{timestamp:_}=pt;this.history.push({...T,timestamp:_});const{onStart:I,onMove:v}=this.handlers;m||(I&&I(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ch(m,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:T,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Ah(f.type==="pointercancel"?this.lastMoveEventInfo:Ch(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,I),T&&T(f,I)},!Db(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=pd(e),a=Ch(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=pt;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Ah(a,this.history)),this.removeListeners=Kr(Yn(this.contextWindow,"pointermove",this.handlePointerMove),Yn(this.contextWindow,"pointerup",this.handlePointerUp),Yn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function Ch(t,e){return e?{point:e(t.point)}:t}function jx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ah({point:t},e){return{point:t,delta:jx(t,vS(e)),offset:jx(t,OL(e)),velocity:LL(e,.1)}}function OL(t){return t[0]}function vS(t){return t[t.length-1]}function LL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=vS(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ds(e)));)n--;if(!r)return{x:0,y:0};const i=Xn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Wt(t){return t.max-t.min}function cp(t,e=0,n=.01){return Math.abs(t-e)<=n}function Dx(t,e,n,r=.5){t.origin=r,t.originPoint=Ce(e.min,e.max,t.origin),t.scale=Wt(n)/Wt(e),(cp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ce(n.min,n.max,t.origin)-t.originPoint,(cp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ca(t,e,n,r){Dx(t.x,e.x,n.x,r?r.originX:void 0),Dx(t.y,e.y,n.y,r?r.originY:void 0)}function Vx(t,e,n){t.min=n.min+e.min,t.max=t.min+Wt(e)}function FL(t,e,n){Vx(t.x,e.x,n.x),Vx(t.y,e.y,n.y)}function Mx(t,e,n){t.min=e.min-n.min,t.max=t.min+Wt(e)}function da(t,e,n){Mx(t.x,e.x,n.x),Mx(t.y,e.y,n.y)}function UL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ce(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ce(n,t,r.max):Math.min(t,n)),t}function Ox(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BL(t,{top:e,left:n,bottom:r,right:s}){return{x:Ox(t.x,n,s),y:Ox(t.y,e,r)}}function Lx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zL(t,e){return{x:Lx(t.x,e.x),y:Lx(t.y,e.y)}}function $L(t,e){let n=.5;const r=Wt(t),s=Wt(e);return s>r?n=Ba(e.min,e.max-r,t.min):r>s&&(n=Ba(t.min,t.max-s,e.min)),rs(0,1,n)}function HL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dp=.35;function WL(t=dp){return t===!1?t=0:t===!0&&(t=dp),{x:Fx(t,"left","right"),y:Fx(t,"top","bottom")}}function Fx(t,e,n){return{min:Ux(t,e),max:Ux(t,n)}}function Ux(t,e){return typeof t=="number"?t:t[e]||0}const Bx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ii=()=>({x:Bx(),y:Bx()}),zx=()=>({min:0,max:0}),$e=()=>({x:zx(),y:zx()});function Yt(t){return[t("x"),t("y")]}function xS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Nh(t){return t===void 0||t===1}function hp({scale:t,scaleX:e,scaleY:n}){return!Nh(t)||!Nh(e)||!Nh(n)}function _s(t){return hp(t)||wS(t)||t.z||t.rotate||t.rotateX||t.rotateY}function wS(t){return $x(t.x)||$x(t.y)}function $x(t){return t&&t!=="0%"}function bc(t,e,n){const r=t-n,s=e*r;return n+s}function Hx(t,e,n,r,s){return s!==void 0&&(t=bc(t,s,r)),bc(t,n,r)+e}function fp(t,e=0,n=1,r,s){t.min=Hx(t.min,e,n,r,s),t.max=Hx(t.max,e,n,r,s)}function _S(t,{x:e,y:n}){fp(t.x,e.translate,e.scale,e.originPoint),fp(t.y,n.translate,n.scale,n.originPoint)}function KL(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ki(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_S(t,o)),r&&_s(i.latestValues)&&ki(t,i.latestValues))}e.x=Wx(e.x),e.y=Wx(e.y)}function Wx(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Er(t,e){t.min=t.min+e,t.max=t.max+e}function qx(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Ce(t.min,t.max,i);fp(t,e[n],e[r],o,e.scale)}const QL=["x","scaleX","originX"],YL=["y","scaleY","originY"];function ki(t,e){qx(t.x,e,QL),qx(t.y,e,YL)}function ES(t,e){return xS(GL(t.getBoundingClientRect(),e))}function XL(t,e,n){const r=ES(t,n),{scroll:s}=e;return s&&(Er(r.x,s.offset.x),Er(r.y,s.offset.y)),r}const TS=({current:t})=>t?t.ownerDocument.defaultView:null,JL=new WeakMap;class ZL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pd(h,"page").point)},i=(h,f)=>{const{drag:m,dragPropagation:y,onDragStart:T}=this.getProps();if(m&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Mb(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yt(I=>{let v=this.getAxisMotionValue(I).get()||0;if(Nn.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[I];w&&(v=Wt(w)*(parseFloat(v)/100))}}this.originPoint[I]=v}),T&&_e.update(()=>T(h,f),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:T,onDrag:_}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:I}=f;if(y&&this.currentDirection===null){this.currentDirection=eF(I),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",f.point,I),this.updateAxis("y",f.point,I),this.visualElement.render(),_&&_(h,f)},a=(h,f)=>this.stop(h,f),u=()=>Yt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new yS(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:TS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&_e.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!tu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=UL(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&bi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=BL(s.layoutBox,n):this.constraints=!1,this.elastic=WL(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=HL(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=XL(r,s.root,this.visualElement.getTransformPagePoint());let o=zL(s.layout.layoutBox,i);if(n){const a=n(qL(o));this.hasMutatedConstraints=!!a,a&&(o=xS(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=Yt(h=>{if(!tu(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,T)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Rg(e,r,0,n))}stopAnimation(){Yt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Yt(n=>{const{drag:r}=this.getProps();if(!tu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ce(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Yt(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();s[o]=$L({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yt(o=>{if(!tu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Ce(u,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;JL.set(this.visualElement,this);const e=this.visualElement.current,n=Yn(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();bi(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Kn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Yt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=dp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function tu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tF extends cs{constructor(e){super(e),this.removeGroupControls=Fe,this.removeListeners=Fe,this.controls=new ZL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gx=t=>(e,n)=>{t&&_e.update(()=>t(e,n))};class nF extends cs{constructor(){super(...arguments),this.removePointerDownListener=Fe}onPointerDown(e){this.session=new yS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Gx(e),onStart:Gx(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&_e.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Yn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function rF(){const t=N.useContext(ud);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=N.useId();return N.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=Kx(t,e.target.x),r=Kx(t,e.target.y);return`${n}% ${r}%`}},sF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ss.parse(t);if(s.length>5)return r;const i=ss.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=u;const c=Ce(a,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class iF extends Qr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;hM(oF),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Su.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||_e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bS(t){const[e,n]=rF(),r=N.useContext(vg);return Qr.createElement(iF,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(xb),isPresent:e,safeToRemove:n})}const oF={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:sF},SS=["TopLeft","TopRight","BottomLeft","BottomRight"],aF=SS.length,Qx=t=>typeof t=="string"?parseFloat(t):t,Yx=t=>typeof t=="number"||Z.test(t);function lF(t,e,n,r,s,i){s?(t.opacity=Ce(0,n.opacity!==void 0?n.opacity:1,uF(r)),t.opacityExit=Ce(e.opacity!==void 0?e.opacity:1,0,cF(r))):i&&(t.opacity=Ce(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<aF;o++){const a=`border${SS[o]}Radius`;let u=Xx(e,a),c=Xx(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Yx(u)===Yx(c)?(t[a]=Math.max(Ce(Qx(u),Qx(c),r),0),(Nn.test(c)||Nn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ce(e.rotate||0,n.rotate||0,r))}function Xx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uF=IS(0,.5,Kb),cF=IS(.5,.95,Fe);function IS(t,e,n){return r=>r<t?0:r>e?1:n(Ba(t,e,r))}function Jx(t,e){t.min=e.min,t.max=e.max}function Qt(t,e){Jx(t.x,e.x),Jx(t.y,e.y)}function Zx(t,e,n,r,s){return t-=e,t=bc(t,1/n,r),s!==void 0&&(t=bc(t,1/s,r)),t}function dF(t,e=0,n=1,r=.5,s,i=t,o=t){if(Nn.test(e)&&(e=parseFloat(e),e=Ce(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ce(i.min,i.max,r);t===i&&(a-=e),t.min=Zx(t.min,e,n,a,s),t.max=Zx(t.max,e,n,a,s)}function ew(t,e,[n,r,s],i,o){dF(t,e[n],e[r],e[s],e.scale,i,o)}const hF=["x","scaleX","originX"],fF=["y","scaleY","originY"];function tw(t,e,n,r){ew(t.x,e,hF,n?n.x:void 0,r?r.x:void 0),ew(t.y,e,fF,n?n.y:void 0,r?r.y:void 0)}function nw(t){return t.translate===0&&t.scale===1}function kS(t){return nw(t.x)&&nw(t.y)}function pF(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function PS(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function rw(t){return Wt(t.x)/Wt(t.y)}class mF{constructor(){this.members=[]}add(e){jg(this.members,e),e.scheduleRender()}remove(e){if(Dg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sw(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:c,rotateY:h}=n;u&&(r+=`rotate(${u}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const gF=(t,e)=>t.depth-e.depth;class yF{constructor(){this.children=[],this.isDirty=!1}add(e){jg(this.children,e),this.isDirty=!0}remove(e){Dg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gF),this.isDirty=!1,this.children.forEach(e)}}function vF(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(or(r),t(i-e))};return _e.read(r,!0),()=>or(r)}function xF(t){window.MotionDebug&&window.MotionDebug.record(t)}function wF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function _F(t,e,n){const r=Mt(t)?t:to(t);return r.start(Rg("",r,e,n)),r.animation}const iw=["","X","Y","Z"],EF={visibility:"hidden"},ow=1e3;let TF=0;const Es={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function CS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=TF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Es.totalNodes=Es.resolvedTargetDeltas=Es.recalculatedProjection=0,this.nodes.forEach(IF),this.nodes.forEach(NF),this.nodes.forEach(RF),this.nodes.forEach(kF),xF(Es)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new yF)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wF(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=vF(m,250),Su.hasAnimatedSinceResize&&(Su.hasAnimatedSinceResize=!1,this.nodes.forEach(lw))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||OF,{onLayoutAnimationStart:I,onLayoutAnimationComplete:v}=h.getProps(),x=!this.targetLayout||!PS(this.targetLayout,T)||y,w=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...Ng(_,"layout"),onPlay:I,onComplete:v};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||lw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aw);return}this.isUpdating||this.nodes.forEach(CF),this.isUpdating=!1,this.nodes.forEach(AF),this.nodes.forEach(bF),this.nodes.forEach(SF),this.clearAllSnapshots();const a=performance.now();pt.delta=rs(0,1e3/60,a-pt.timestamp),pt.timestamp=a,pt.isProcessing=!0,_h.update.process(pt),_h.preRender.process(pt),_h.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(PF),this.sharedNodes.forEach(DF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!kS(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||_s(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),LF(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $e();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(Er(a.x,u.offset.x),Er(a.y,u.offset.y)),a}removeElementScroll(o){const a=$e();Qt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:f}=c;if(c!==this.root&&h&&f.layoutScroll){if(h.isRoot){Qt(a,o);const{scroll:m}=this.root;m&&(Er(a.x,-m.offset.x),Er(a.y,-m.offset.y))}Er(a.x,h.offset.x),Er(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const u=$e();Qt(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ki(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),_s(h.latestValues)&&ki(u,h.latestValues)}return _s(this.latestValues)&&ki(u,this.latestValues),u}removeTransform(o){const a=$e();Qt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!_s(c.latestValues))continue;hp(c.latestValues)&&c.updateSnapshot();const h=$e(),f=c.measurePageBox();Qt(h,f),tw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return _s(this.latestValues)&&tw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),da(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qt(this.target,this.layout.layoutBox),_S(this.target,this.targetDelta)):Qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),da(this.relativeTargetOrigin,this.target,y.target),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Es.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hp(this.parent.latestValues)||wS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Qt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;KL(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:T}=a;if(!T){this.projectionTransform&&(this.projectionDelta=Ii(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ii(),this.projectionDeltaWithTransform=Ii());const _=this.projectionTransform;ca(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=sw(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Es.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=Ii();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=$e(),y=u?u.source:void 0,T=this.layout?this.layout.source:void 0,_=y!==T,I=this.getStack(),v=!I||I.members.length<=1,x=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(MF));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const V=C/1e3;uw(f.x,o.x,V),uw(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(da(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VF(this.relativeTarget,this.relativeTargetOrigin,m,V),w&&pF(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=$e()),Qt(w,this.relativeTarget)),_&&(this.animationValues=h,lF(h,c,this.latestValues,V,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{Su.hasAnimatedSinceResize=!0,this.currentAnimation=_F(0,ow,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ow),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&AS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||$e();const f=Wt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const m=Wt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}Qt(a,u),ki(a,h),ca(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mF),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<iw.length;h++){const f="rotate"+iw[h];u[f]&&(c[f]=u[f],o.setStaticValue(f,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EF;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=bu(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=bu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!_s(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=sw(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:y,y:T}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in yc){if(m[_]===void 0)continue;const{correct:I,applyTo:v}=yc[_],x=c.transform==="none"?m[_]:I(m[_],f);if(v){const w=v.length;for(let C=0;C<w;C++)c[v[C]]=x}else c[_]=x}return this.options.layoutId&&(c.pointerEvents=f===this?bu(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(aw),this.root.sharedNodes.clear()}}}function bF(t){t.updateLayout()}function SF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Yt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=Wt(m);m.min=r[f].min,m.max=m.min+y}):AS(i,n.layoutBox,r)&&Yt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=Wt(r[f]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=Ii();ca(a,r,n.layoutBox);const u=Ii();o?ca(u,t.applyTransform(s,!0),n.measuredBox):ca(u,r,n.layoutBox);const c=!kS(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const T=$e();da(T,n.layoutBox,m.layoutBox);const _=$e();da(_,r,y.layoutBox),PS(T,_)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=T,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function IF(t){Es.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PF(t){t.clearSnapshot()}function aw(t){t.clearMeasurements()}function CF(t){t.isLayoutDirty=!1}function AF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NF(t){t.resolveTargetDelta()}function RF(t){t.calcProjection()}function jF(t){t.resetRotation()}function DF(t){t.removeLeadSnapshot()}function uw(t,e,n){t.translate=Ce(e.translate,0,n),t.scale=Ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cw(t,e,n,r){t.min=Ce(e.min,n.min,r),t.max=Ce(e.max,n.max,r)}function VF(t,e,n,r){cw(t.x,e.x,n.x,r),cw(t.y,e.y,n.y,r)}function MF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const OF={duration:.45,ease:[.4,0,.1,1]},dw=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),hw=dw("applewebkit/")&&!dw("chrome/")?Math.round:Fe;function fw(t){t.min=hw(t.min),t.max=hw(t.max)}function LF(t){fw(t.x),fw(t.y)}function AS(t,e,n){return t==="position"||t==="preserve-aspect"&&!cp(rw(e),rw(n),.2)}const FF=CS({attachResizeListener:(t,e)=>Kn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rh={current:void 0},NS=CS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Rh.current){const t=new FF({});t.mount(window),t.setOptions({layoutScroll:!0}),Rh.current=t}return Rh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UF={pan:{Feature:nF},drag:{Feature:tF,ProjectionNode:NS,MeasureLayout:bS}},BF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zF(t){const e=BF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function pp(t,e,n=1){const[r,s]=zF(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return fS(o)?parseFloat(o):o}else return rp(s)?pp(s,e,n+1):s}function $F(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!rp(i))return;const o=pp(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!rp(i))continue;const o=pp(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const HF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),RS=t=>HF.has(t),WF=t=>Object.keys(t).some(RS),pw=t=>t===ti||t===Z,mw=(t,e)=>parseFloat(t.split(", ")[e]),gw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return mw(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?mw(i[1],t):0}},qF=new Set(["x","y","z"]),GF=al.filter(t=>!qF.has(t));function KF(t){const e=[];return GF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const no={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:gw(4,13),y:gw(5,14)};no.translateX=no.x;no.translateY=no.y;const QF=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=no[c](r,i)}),e.render();const u=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=no[c](u,i)}),t},YF=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(RS);let i=[],o=!1;const a=[];if(s.forEach(u=>{const c=t.getValue(u);if(!t.hasValue(u))return;let h=n[u],f=Mo(h);const m=e[u];let y;if(xc(m)){const T=m.length,_=m[0]===null?1:0;h=m[_],f=Mo(h);for(let I=_;I<T&&m[I]!==null;I++)y?Ig(Mo(m[I])===y):y=Mo(m[I])}else y=Mo(m);if(f!==y)if(pw(f)&&pw(y)){const T=c.get();typeof T=="string"&&c.set(parseFloat(T)),typeof m=="string"?e[u]=parseFloat(m):Array.isArray(m)&&y===Z&&(e[u]=m.map(parseFloat))}else f!=null&&f.transform&&(y!=null&&y.transform)&&(h===0||m===0)?h===0?c.set(y.transform(h)):e[u]=f.transform(m):(o||(i=KF(t),o=!0),a.push(u),r[u]=r[u]!==void 0?r[u]:e[u],c.jump(m))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,c=QF(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),cd&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function XF(t,e,n,r){return WF(e)?YF(t,e,n,r):{target:e,transitionEnd:r}}const JF=(t,e,n,r)=>{const s=$F(t,e,r);return e=s.target,r=s.transitionEnd,XF(t,e,n,r)},mp={current:null},jS={current:!1};function ZF(){if(jS.current=!0,!!cd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mp.current=t.matches;t.addListener(e),e()}else mp.current=!1}function e3(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Mt(i))t.addValue(s,i),Tc(r)&&r.add(s);else if(Mt(o))t.addValue(s,to(i,{owner:t})),Tc(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,to(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const yw=new WeakMap,DS=Object.keys(Ua),t3=DS.length,vw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],n3=yg.length;class r3{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_e.render(this.render,!1,!0);const{latestValues:a,renderState:u}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=hd(n),this.isVariantNode=vb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const m=h[f];a[f]!==void 0&&Mt(m)&&(m.set(a[f],!1),Tc(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,yw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jS.current||ZF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yw.delete(this.current),this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ei.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&_e.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let u=0;u<t3;u++){const c=DS[u],{isEnabled:h,Feature:f,ProjectionNode:m,MeasureLayout:y}=Ua[c];m&&(o=m),h(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||f&&bi(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vw.length;r++){const s=vw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=e3(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<n3;r++){const s=yg[r],i=this.props[s];(Fa(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=to(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Sg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Mt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class VS extends r3{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=wL(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){vL(this,r,o);const a=JF(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function s3(t){return window.getComputedStyle(t)}class i3 extends VS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ei.has(n)){const r=Ag(n);return r&&r.default||0}else{const r=s3(e),s=(Eb(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ES(e,n)}build(e,n,r,s){wg(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return bg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){Pb(e,n,r,s)}}class o3 extends VS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ei.has(n)){const r=Ag(n);return r&&r.default||0}return n=Cb.has(n)?n:mg(n),e.getAttribute(n)}measureInstanceViewportBox(){return $e()}scrapeMotionValuesFromProps(e,n){return Nb(e,n)}build(e,n,r,s){Eg(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){Ab(e,n,r,s)}mount(e){this.isSVGTag=Tg(e.tagName),super.mount(e)}}const a3=(t,e)=>xg(t)?new o3(e,{enableHardwareAcceleration:!1}):new i3(e,{enableHardwareAcceleration:!0}),l3={layout:{ProjectionNode:NS,MeasureLayout:bS}},u3={...VL,...tO,...UF,...l3},Q=cM((t,e)=>zM(t,e,u3,a3));function MS(){const t=N.useRef(!1);return pg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function c3(){const t=MS(),[e,n]=N.useState(0),r=N.useCallback(()=>{t.current&&n(e+1)},[e]);return[N.useCallback(()=>_e.postRender(r),[r]),e]}class d3 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h3({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:u}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),N.createElement(d3,{isPresent:e,childRef:r,sizeRef:s},N.cloneElement(t,{ref:r}))}const jh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Rb(f3),u=N.useId(),c=N.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return N.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),N.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=N.createElement(h3,{isPresent:n},t)),N.createElement(ud.Provider,{value:c},t)};function f3(){return new Map}function p3(t){return N.useEffect(()=>()=>t(),[])}const Ts=t=>t.key||"";function m3(t,e){t.forEach(n=>{const r=Ts(n);e.set(r,n)})}function g3(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const OS=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=N.useContext(vg).forceRender||c3()[0],u=MS(),c=g3(t);let h=c;const f=N.useRef(new Map).current,m=N.useRef(h),y=N.useRef(new Map).current,T=N.useRef(!0);if(pg(()=>{T.current=!1,m3(c,y),m.current=h}),p3(()=>{T.current=!0,y.clear(),f.clear()}),T.current)return N.createElement(N.Fragment,null,h.map(x=>N.createElement(jh,{key:Ts(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},x)));h=[...h];const _=m.current.map(Ts),I=c.map(Ts),v=_.length;for(let x=0;x<v;x++){const w=_[x];I.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((x,w)=>{if(I.indexOf(w)!==-1)return;const C=y.get(w);if(!C)return;const V=_.indexOf(w);let M=x;if(!M){const k=()=>{f.delete(w);const E=Array.from(y.keys()).filter(S=>!I.includes(S));if(E.forEach(S=>y.delete(S)),m.current=c.filter(S=>{const P=Ts(S);return P===w||E.includes(P)}),!f.size){if(u.current===!1)return;a(),r&&r()}};M=N.createElement(jh,{key:Ts(C),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:i,mode:o},C),f.set(w,M)}h.splice(V,0,M)}),h=h.map(x=>{const w=x.key;return f.has(w)?x:N.createElement(jh,{key:Ts(x),isPresent:!0,presenceAffectsLayout:i,mode:o},x)}),N.createElement(N.Fragment,null,f.size?h:h.map(x=>N.cloneElement(x)))};function y3(){const{currentUser:t,logout:e}=vn(),{cartCount:n}=ol(),[r,s]=N.useState(!1),[i,o]=N.useState(""),[a,u]=N.useState(""),c=ur(),h=Qs(),[f,m]=N.useState(!1),y=async()=>{try{await e(),c("/login")}catch(I){console.error("Failed to log out",I)}};N.useEffect(()=>{let I=!0;async function v(){if(!t){I&&(o(""),u(""));return}try{const x=qr(Gr,"users",t.uid),w=await ad(x);if(!I)return;if(w.exists()){const C=w.data();o(C.name||""),u(C.photoURL||"")}else o(""),u("")}catch{o(""),u("")}}return v(),()=>{I=!1}},[t]),N.useEffect(()=>{function I(){m(window.scrollY>8)}return I(),window.addEventListener("scroll",I,{passive:!0}),()=>window.removeEventListener("scroll",I)},[]);const T="relative group text-love-dark font-medium font-oldSans";function _({to:I,children:v}){const x=h.pathname===I;return d.jsxs(oe,{to:I,className:`${T} hover:text-love-red transition-colors`,children:[d.jsx("span",{children:v}),d.jsx("span",{className:`absolute left-0 -bottom-1 h-0.5 bg-gradient-to-r from-love-red to-love-pink transition-all duration-300 ${x?"w-full":"w-0 group-hover:w-full"}`})]})}return d.jsxs("nav",{className:`sticky top-0 z-50 border-b border-love-pink/30 transition-all font-oldSans ${f?"bg-white/85 backdrop-blur-xl shadow-lg":"bg-love-light/80 backdrop-blur-md"}`,children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:`flex justify-between ${f?"h-14":"h-16"} transition-all`,children:[d.jsx("div",{className:"flex items-center",children:d.jsxs(oe,{to:"/",className:"flex items-center space-x-2 group",children:[d.jsx(Q.div,{whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400,damping:10},children:d.jsx($t,{className:"h-8 w-8 text-love-red fill-current group-hover:animate-pulse"})}),d.jsx(Q.span,{initial:!1,animate:{color:f?"#0f172a":"#1f2937"},className:"font-oldCursive text-3xl font-bold",children:"LoveCraft"})]})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[d.jsx(_,{to:"/",children:"Home"}),d.jsx(_,{to:"/products",children:"Gifts"}),d.jsx(_,{to:"/categories",children:"Categories"}),d.jsx(_,{to:"/contact",children:"Contact"}),d.jsx(_,{to:"/wish",children:"Wish"}),d.jsxs(oe,{to:"/cart",className:"relative group text-love-dark hover:text-love-red transition-colors",children:[d.jsx(Q.div,{whileHover:{scale:1.1},className:"relative",children:d.jsx(fg,{className:"h-6 w-6"})}),n>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-love-red text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-bounce",children:n})]}),t?d.jsxs("div",{className:"relative group",children:[d.jsxs("button",{className:"flex items-center space-x-2 text-love-dark hover:text-love-red",children:[a||t.photoURL?d.jsx("img",{src:a||t.photoURL,alt:"Avatar",className:"h-8 w-8 rounded-full object-cover border border-love-pink/30"}):d.jsx(Z4,{className:"h-6 w-6"}),d.jsx("span",{className:"max-w-[160px] truncate",children:i||t.displayName||t.email})]}),d.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right",children:[d.jsx(oe,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-love-light",children:"Profile"}),d.jsx("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-love-light",children:"Sign out"})]})]}):d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(_,{to:"/login",children:"Login"}),d.jsx(oe,{to:"/signup",className:"bg-love-red text-white px-4 py-2 rounded-full hover:bg-red-700 transition-colors shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Sign Up"})]})]}),d.jsx("div",{className:"md:hidden flex items-center",children:d.jsx("button",{onClick:()=>s(!r),className:"text-love-dark hover:text-love-red focus:outline-none",children:r?d.jsx(eM,{className:"h-6 w-6"}):d.jsx($4,{className:"h-6 w-6"})})})]})}),d.jsx(OS,{children:r&&d.jsx(Q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-love-pink/30 overflow-hidden",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[d.jsx(oe,{to:"/",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Home"}),d.jsx(oe,{to:"/products",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Gifts"}),d.jsx(oe,{to:"/categories",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Categories"}),d.jsx(oe,{to:"/contact",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Contact"}),d.jsx(oe,{to:"/wish",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Wish"}),d.jsx(oe,{to:"/cart",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Cart"}),t?d.jsxs(d.Fragment,{children:[d.jsx(oe,{to:"/profile",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Profile"}),d.jsx("button",{onClick:()=>{y(),s(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Sign Out"})]}):d.jsxs(d.Fragment,{children:[d.jsx(oe,{to:"/login",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Login"}),d.jsx(oe,{to:"/signup",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Sign Up"})]})]})})})]})}const v3="";function x3(){return d.jsx("footer",{className:"bg-white border-t border-love-pink/30 pt-12 pb-8 font-oldSans",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"col-span-1 md:col-span-1",children:[d.jsxs(oe,{to:"/",className:"flex items-center space-x-2 mb-4",children:[d.jsx($t,{className:"h-6 w-6 text-love-red fill-current"}),d.jsx("span",{className:"font-oldCursive text-2xl text-love-dark font-bold",children:"LoveCraft"})]}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Handcrafted gifts for your special moments. Celebrating love, one gift at a time."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-love-dark mb-4",children:"Shop"}),d.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[d.jsx("li",{children:d.jsx(oe,{to:"/products",className:"hover:text-love-red transition-colors",children:"All Gifts"})}),d.jsx("li",{children:d.jsx(oe,{to:"/products?category=handmade",className:"hover:text-love-red transition-colors",children:"Handmade Crafts"})}),d.jsx("li",{children:d.jsx(oe,{to:"/products?category=personalized",className:"hover:text-love-red transition-colors",children:"Personalized Items"})}),d.jsx("li",{children:d.jsx(oe,{to:"/products?category=cards",className:"hover:text-love-red transition-colors",children:"Gift Cards"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-love-dark mb-4",children:"Support"}),d.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[d.jsx("li",{children:d.jsx(oe,{to:"/contact",className:"hover:text-love-red transition-colors",children:"Contact Us"})}),d.jsx("li",{children:d.jsx(oe,{to:"/faq",className:"hover:text-love-red transition-colors",children:"FAQs"})}),d.jsx("li",{children:d.jsx(oe,{to:"/shipping",className:"hover:text-love-red transition-colors",children:"Shipping Info"})}),d.jsx("li",{children:d.jsx(oe,{to:"/returns",className:"hover:text-love-red transition-colors",children:"Returns"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-love-dark mb-4",children:"Stay in Love"}),d.jsxs("div",{className:"flex space-x-4 mb-4",children:[d.jsx("a",{href:"https://www.instagram.com/accounts/emailsignup/",target:"_blank",rel:"noreferrer","aria-label":"Sign up for Instagram",className:"text-gray-400 hover:text-love-red transition-colors",children:d.jsx(hb,{className:"h-5 w-5"})}),d.jsx("a",{href:"https://www.facebook.com/r.php",target:"_blank",rel:"noreferrer","aria-label":"Sign up for Facebook",className:"text-gray-400 hover:text-love-red transition-colors",children:d.jsx(F4,{className:"h-5 w-5"})}),d.jsx("a",{href:"https://twitter.com/i/flow/signup",target:"_blank",rel:"noreferrer","aria-label":"Sign up for Twitter",className:"text-gray-400 hover:text-love-red transition-colors",children:d.jsx(J4,{className:"h-5 w-5"})})]}),v3,d.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," LoveCraft. All rights reserved."]})]})]})})})}const ys=[{names:"Aiden & Maya",location:"London, UK",avatar:"https://images.unsplash.com/photo-1517840933442-d2d1a05edb75?auto=format&fit=crop&q=80&w=400",message:"I ordered a personalised necklace and a handwritten card. The box looked like a mini proposal and arrived the day before our anniversary."},{names:"Liam & Noor",location:"Dubai, UAE",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=400",message:"We built a memory box with photos, tickets and a custom engraving. It felt like something we would have spent hours DIY-ing, but it came ready to gift."},{names:"Ethan & Chloe",location:"Toronto, CA",avatar:"https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&q=80&w=400",message:"The date-night bundle had everything: candles, snacks and a small keepsake. Shipping updates were clear and the unboxing felt premium, not generic."},{names:"Daniel & Priya",location:"Sydney, AU",avatar:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&q=80&w=400",message:"We were late planners and still managed to send a personalised gift across the city. She loved the custom star map and we framed it the same night."},{names:"Jonah & Sofia",location:"New York, US",avatar:"https://images.unsplash.com/photo-1525134479668-1bee5c7c6845?auto=format&fit=crop&q=80&w=400",message:"I picked a couple set and added our initials. The sizes were accurate, the fabric felt good quality and the little note inside made her tear up."},{names:"Arjun & Meera",location:"Bangalore, IN",avatar:"https://images.unsplash.com/photo-1544723795-432537d12f6c?auto=format&fit=crop&q=80&w=400",message:"Customer support helped me swap the delivery address last minute. The spa gift box smelled incredible and looked exactly like the photos."}],w3=[{title:"Stayin movie night kit",description:"Cozy blankets, snacks and a surprise gift waiting on the sofa.",link:"/products?cat=home",img:"https://images.unsplash.com/photo-1514924013411-cbf25faa35bb?auto=format&fit=crop&q=80&w=900"},{title:"Memory box of your story",description:"Fill a keepsake box with photos, tickets and a custom note.",link:"/products?cat=gifts",img:"https://images.unsplash.com/photo-1513151233558-d860c5398176?auto=format&fit=crop&q=80&w=900"},{title:"Breakfastinbed surprise",description:"Start the day with coffee, flowers and a personalised treat.",link:"/products?cat=food",img:"https://images.unsplash.com/photo-1517677129300-07b130802f46?auto=format&fit=crop&q=80&w=900"}];function _3(){const[t,e]=N.useState(0),n={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8}}};return N.useEffect(()=>{const r=setInterval(()=>{e(s=>(s+1)%ys.length)},7e3);return()=>clearInterval(r)},[]),d.jsxs(Q.div,{initial:"hidden",animate:"visible",variants:n,className:"space-y-16 pb-16 font-oldSans",children:[d.jsxs("section",{className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-love-light via-white to-love-light opacity-90 z-10"}),d.jsx("div",{className:"absolute inset-0 bg-hearts-pattern opacity-10 z-0"}),d.jsx("div",{className:"pointer-events-none absolute -left-24 -top-24 w-72 h-72 bg-pink-400/40 rounded-full blur-3xl z-10"}),d.jsx("div",{className:"pointer-events-none absolute -right-24 top-32 w-80 h-80 bg-red-400/30 rounded-full blur-3xl z-10"}),d.jsxs("div",{className:"relative z-20 px-4 max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-10",children:[d.jsxs(Q.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.8},className:"text-center md:text-left md:max-w-xl",children:[d.jsx("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/70 border border-love-pink/40 text-xs font-medium text-love-red mb-4 shadow-sm backdrop-blur",children:d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx($t,{className:"h-4 w-4 mr-2"}),"Valentine's 2025 Collection"]})}),d.jsx("h1",{className:"text-4xl sm:text-5xl md:text-7xl font-oldCursive text-love-red mb-4 md:mb-6 drop-shadow-sm leading-tight",children:"Make This Valentine's Unforgettable"}),d.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 mb-6 md:mb-8 max-w-2xl font-light",children:"Discover handcrafted gifts, personalized treasures and romantic surprises designed to celebrate your unique love story."}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 justify-center md:justify-start",children:[d.jsxs(oe,{to:"/products",className:"inline-flex items-center bg-love-red text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-red-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:["Shop Gifts ",d.jsx(np,{className:"ml-2 h-5 w-5"})]}),d.jsx(oe,{to:"/products?cat=sets",className:"inline-flex items-center px-6 py-3 rounded-full text-sm md:text-base font-medium bg-white/80 backdrop-blur border border-love-pink/40 text-love-dark hover:text-love-red hover:border-love-red transition-all shadow-sm",children:"Browse Romantic Sets"})]}),d.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center md:justify-start gap-4 text-xs md:text-sm text-gray-500",children:[d.jsx("div",{className:"inline-flex items-center gap-2",children:d.jsx("span",{className:"inline-flex h-6 px-3 items-center rounded-full bg-green-100 text-green-700 font-medium",children:"4.9 loved by couples"})}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-love-red"}),d.jsx("span",{children:"Handmade & personalised"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-love-red"}),d.jsx("span",{children:"Ships in 35 business days"})]})]})]}),d.jsxs("div",{className:"relative w-full md:w-[380px] h-[320px] md:h-[380px]",children:[d.jsx(Q.div,{initial:{y:20,opacity:0},animate:{y:[-10,10,-10]},transition:{duration:8,repeat:1/0,repeatType:"reverse"},className:"absolute inset-y-4 left-4 right-10 rounded-3xl shadow-2xl overflow-hidden border border-white/60 bg-white/80 backdrop-blur",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1518895949257-7621c3c786d4?auto=format&fit=crop&q=80&w=900",alt:"Romantic gift set",className:"w-full h-full object-cover"})}),d.jsxs(Q.div,{initial:{y:-10,opacity:0},animate:{y:[0,-16,0]},transition:{duration:7,repeat:1/0,repeatType:"reverse",delay:.5},className:"absolute -bottom-6 right-0 w-40 rounded-2xl shadow-xl overflow-hidden border border-love-pink/40 bg-white",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=600",alt:"Jewelry gift",className:"w-full h-28 object-cover"}),d.jsxs("div",{className:"px-3 py-2",children:[d.jsx("p",{className:"text-xs font-semibold text-gray-800 truncate",children:"Personalised Jewelry"}),d.jsx("p",{className:"text-[11px] text-love-red font-medium",children:"From $39"})]})]}),d.jsxs(Q.div,{initial:{x:10,opacity:0},animate:{x:[-6,6,-6]},transition:{duration:6,repeat:1/0,repeatType:"reverse",delay:.8},className:"absolute -top-4 left-0 px-4 py-3 rounded-2xl bg-white/90 backdrop-blur shadow-lg border border-love-pink/40 flex items-center gap-3",children:[d.jsxs("div",{className:"flex -space-x-2",children:[d.jsx("span",{className:"w-7 h-7 rounded-full bg-love-light border border-white"}),d.jsx("span",{className:"w-7 h-7 rounded-full bg-love-red/70 border border-white"}),d.jsx("span",{className:"w-7 h-7 rounded-full bg-rose-300 border border-white"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold text-gray-800",children:"5,000+ happy couples"}),d.jsx("p",{className:"text-[11px] text-gray-500",children:"Gifting with LoveCraft"})]})]})]})]})]}),d.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl font-oldCursive text-love-dark mb-4",children:"Featured Collections"}),d.jsx("p",{className:"text-gray-600",children:"Handpicked favorites for your special someone"})]}),d.jsx(Q.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.7},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 md:gap-8",children:[{title:"Personalized Jewelry",img:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?auto=format&fit=crop&q=80&w=800",link:"/products?cat=jewelry"},{title:"Handmade Crafts",img:"https://images.unsplash.com/photo-1513201099705-a9746e1e201f?auto=format&fit=crop&q=80&w=800",link:"/products?cat=crafts"},{title:"Romantic Gift Sets",img:"https://images.unsplash.com/photo-1549465220-1a8b9238cd48?auto=format&fit=crop&q=80&w=800",link:"/products?cat=sets"}].map((r,s)=>d.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5,delay:s*.1},whileHover:{y:-10},className:"relative group overflow-hidden rounded-2xl shadow-md aspect-[4/5]",children:[d.jsx("img",{src:r.img,alt:r.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-white text-xl md:text-2xl font-oldCursive mb-2",children:r.title}),d.jsx(oe,{to:r.link,className:"text-white/90 text-sm hover:text-white underline",children:"Explore Collection"})]})})]},s))})]}),d.jsx(Q.section,{className:"bg-white py-16",initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.7},children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl font-oldCursive text-love-dark mb-3",children:"Why Couples Choose LoveCraft"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm sm:text-base",children:"From the first idea to the final unboxing moment, we craft every detail with care."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[d.jsxs(Q.div,{whileHover:{y:-6,scale:1.02},transition:{type:"spring",stiffness:300,damping:18},className:"p-6 rounded-2xl border border-love-pink/20 bg-white shadow-sm",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(db,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Unique Handmade Gifts"}),d.jsx("p",{className:"text-gray-600",children:"Each item is crafted with love and care, ensuring a unique gift for your partner."})]}),d.jsxs(Q.div,{whileHover:{y:-6,scale:1.02},transition:{type:"spring",stiffness:300,damping:18,delay:.03},className:"p-6 rounded-2xl border border-love-pink/20 bg-white shadow-sm",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(pb,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fast & Secure Delivery"}),d.jsx("p",{className:"text-gray-600",children:"We ensure your gifts arrive on time and in perfect condition for the big day."})]}),d.jsxs(Q.div,{whileHover:{y:-6,scale:1.02},transition:{type:"spring",stiffness:300,damping:18,delay:.06},className:"p-6 rounded-2xl border border-love-pink/20 bg-white shadow-sm",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(hg,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Secure Payments"}),d.jsx("p",{className:"text-gray-600",children:"Shop with confidence using our secure payment gateways."})]})]}),d.jsxs("div",{className:"mt-12 grid grid-cols-1 sm:grid-cols-3 gap-6 text-center text-sm sm:text-base",children:[d.jsxs(Q.div,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5},className:"px-4 py-3 rounded-xl bg-love-light/50 border border-love-pink/30",children:[d.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-love-red mb-1",children:"5k+"}),d.jsx("p",{className:"text-gray-600",children:"Gifts delivered worldwide"})]}),d.jsxs(Q.div,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5,delay:.1},className:"px-4 py-3 rounded-xl bg-love-light/50 border border-love-pink/30",children:[d.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-love-red mb-1",children:"4.9/5"}),d.jsx("p",{className:"text-gray-600",children:"Average rating from happy couples"})]}),d.jsxs(Q.div,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5,delay:.2},className:"px-4 py-3 rounded-xl bg-love-light/50 border border-love-pink/30",children:[d.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-love-red mb-1",children:"24/7"}),d.jsx("p",{className:"text-gray-600",children:"Support for lastminute surprises"})]})]})]})}),d.jsx(Q.section,{className:"py-16 bg-love-light/40",initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.7},children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl font-oldCursive text-love-dark mb-3",children:"How LoveCraft Works"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm sm:text-base",children:"A simple threestep journey from idea to unboxing that keeps the romance effortless."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5},whileHover:{y:-8,scale:1.02},className:"relative bg-white rounded-2xl shadow-sm border border-love-pink/30 px-6 py-8",children:[d.jsx("div",{className:"absolute -top-4 left-6 w-9 h-9 rounded-full bg-love-red text-white flex items-center justify-center text-sm font-semibold shadow-lg",children:"1"}),d.jsx("h3",{className:"mt-4 text-lg font-semibold text-love-dark mb-2",children:"Choose the perfect gift"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Browse curated collections for every love story, from subtle gestures to grand surprises."})]}),d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5,delay:.1},whileHover:{y:-8,scale:1.02},className:"relative bg-white rounded-2xl shadow-sm border border-love-pink/30 px-6 py-8",children:[d.jsx("div",{className:"absolute -top-4 left-6 w-9 h-9 rounded-full bg-love-red text-white flex items-center justify-center text-sm font-semibold shadow-lg",children:"2"}),d.jsx("h3",{className:"mt-4 text-lg font-semibold text-love-dark mb-2",children:"Personalise every detail"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Add names, dates, or secret messages so your gift feels like it was made just for them."})]}),d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5,delay:.2},whileHover:{y:-8,scale:1.02},className:"relative bg-white rounded-2xl shadow-sm border border-love-pink/30 px-6 py-8",children:[d.jsx("div",{className:"absolute -top-4 left-6 w-9 h-9 rounded-full bg-love-red text-white flex items-center justify-center text-sm font-semibold shadow-lg",children:"3"}),d.jsx("h3",{className:"mt-4 text-lg font-semibold text-love-dark mb-2",children:"We craft and deliver"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Our artisans prepare your order and we ship it with care right to their doorstep."})]})]})]})}),d.jsx(Q.section,{className:"py-16 bg-white",initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.7},children:d.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl font-oldCursive text-love-dark mb-3",children:"Couples Who Gave With LoveCraft"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm sm:text-base",children:"Stories from real couples who turned small gestures into unforgettable memories."})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-love-light/60 border border-love-pink/30 rounded-3xl px-6 sm:px-10 py-8 sm:py-10 shadow-sm",children:d.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[d.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[d.jsx("div",{className:"w-11 h-11 rounded-full overflow-hidden border-2 border-white shadow-sm bg-gray-200 flex-shrink-0",children:d.jsx("img",{src:ys[t].avatar,alt:ys[t].names,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-love-dark text-sm sm:text-base",children:ys[t].names}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:ys[t].location})]})]}),d.jsx("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed",children:ys[t].message})]})},t),d.jsx("div",{className:"mt-5 flex items-center justify-center gap-2",children:ys.map((r,s)=>d.jsx("button",{type:"button",onClick:()=>e(s),className:`h-2.5 rounded-full transition-all ${s===t?"w-6 bg-love-red":"w-2 bg-gray-300"}`,"aria-label":`Show testimonial ${s+1}`},s))})]})]})}),d.jsx(Q.section,{className:"py-16 bg-love-light/30",initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.7},children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl font-oldCursive text-love-dark mb-3",children:"Date Night Ideas With LoveCraft"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm sm:text-base",children:"Pair your next surprise with readytogift ideas that keep the romance simple and sweet."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:w3.map((r,s)=>d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.4,delay:s*.08},whileHover:{y:-8,scale:1.02},className:"bg-white rounded-2xl shadow-sm border border-love-pink/30 overflow-hidden flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"w-full h-40 sm:h-44 overflow-hidden",children:d.jsx("img",{src:r.img,alt:r.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})}),d.jsxs("div",{className:"px-6 pt-5 pb-4",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-9 h-9 rounded-full bg-love-light text-love-red mb-3",children:d.jsx($t,{className:"h-4 w-4"})}),d.jsx("h3",{className:"text-lg font-semibold text-love-dark mb-2",children:r.title}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:r.description})]})]}),d.jsxs(oe,{to:r.link,className:"inline-flex items-center text-sm font-medium text-love-red hover:text-red-700 mt-1 px-6 pb-5",children:["Explore matching gifts",d.jsx(np,{className:"ml-1 h-4 w-4"})]})]},r.title))})]})})]})}function E3({product:t,isFavorite:e,onToggleFavorite:n}){const{addToCart:r}=ol(),{currentUser:s}=vn(),i=ur(),[o,a]=N.useState(!1);return d.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{y:-5},className:"bg-white rounded-xl shadow-sm hover:shadow-md overflow-hidden border border-love-pink/20 transition-all",children:[d.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[d.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),d.jsx("button",{onClick:n,"aria-pressed":!!e,className:"absolute top-3 right-3 p-2 bg-white/80 rounded-full transition-colors",children:d.jsx($t,{className:`h-5 w-5 ${e?"text-love-red":"text-gray-400"}`})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-xs text-love-red font-medium mb-1 uppercase tracking-wider",children:t.category}),d.jsx(oe,{to:`/products/${t.id}`,children:d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 hover:text-love-red transition-colors truncate",children:t.name})}),d.jsxs("div",{className:"flex flex-col mt-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-xl font-bold text-love-dark",children:["$",t.price.toFixed(2)]}),d.jsxs("button",{onClick:()=>{if(!s){i("/login");return}a(!0)},className:"flex items-center space-x-1 bg-love-light text-love-red px-3 py-2 rounded-lg hover:bg-love-red hover:text-white transition-colors text-sm font-medium",children:[d.jsx(fg,{className:"h-4 w-4"}),d.jsx("span",{children:"Add"})]})]}),o&&d.jsxs("div",{className:"mt-1 bg-love-light/60 border border-love-pink/40 rounded-lg px-3 py-2 text-xs",children:[d.jsxs("p",{className:"text-gray-700 mb-2",children:['Add "',t.name,'" to your cart?']}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-2 py-1 rounded-md border border-gray-300 text-gray-600 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:()=>{r(t),a(!1)},className:"px-2 py-1 rounded-md bg-love-red text-white hover:bg-red-700",children:"Confirm"})]})]})]})]})]})}const T3=["Jewelry","Handmade","Gifts","Apparel","Personalized","Food","Home","Romance","Tech","Books","Experiences","Accessories","Beauty","Stationery","Games","Plants","Art","Luxury Gifts","DIY Kits","Couple Sets","Memory Keepsakes","Spa & Relaxation","Pet Valentine","Eco-Friendly","Subscription Boxes","Custom Art","Wine & Chocolate"],b3={Jewelry:"Elegant pieces crafted to celebrate love and connection.",Handmade:"Artisan creations made with care and attention.",Gifts:"Thoughtful surprises perfect for special moments.",Apparel:"Cozy styles to match and share together.",Personalized:"Customize to make memories uniquely yours.",Food:"Sweet treats to delight and indulge.",Home:"Warm accents to set a romantic mood.",Romance:"Romantic picks to spark connection and sweet moments.",Tech:"Gadgets and accessories for modern love.",Books:"Stories and journals to share and cherish.",Experiences:"Memorable activities to enjoy together.",Accessories:"Stylish extras to complete the look.",Beauty:"Self-care and grooming for date-ready vibes.",Stationery:"Cards and paper goods for heartfelt notes.",Games:"Fun challenges and play for couples.",Plants:"Green gifts to grow together.",Art:"Creative pieces to decorate with love.","Luxury Gifts":"High-end treasures for unforgettable gestures.","DIY Kits":"Create together with step-by-step craft kits.","Couple Sets":"Perfectly paired items made for two.","Memory Keepsakes":"Stylish ways to preserve special moments.","Spa & Relaxation":"Relaxing essentials for a calm retreat.","Pet Valentine":"Adorable gifts to spoil your furry love.","Eco-Friendly":"Sustainable choices that show you care.","Subscription Boxes":"Monthly surprises curated with love.","Custom Art":"Unique artwork tailored to your story.","Wine & Chocolate":"Romantic pairings of fine wine and chocolate."},nu={Jewelry:["Heart Pendant Necklace","Infinity Love Necklace","Rose Gold Locket","Engraved Bar Necklace","Crystal Teardrop Earrings","Pearl Stud Earrings","Couples Ring Set","Birthstone Bracelet","Dainty Chain Bracelet","Charm Bracelet","Solitaire Pendant","Knot Ring","Cuff Bracelet","Stackable Rings","Nameplate Necklace","Moon & Star Necklace","Beaded Anklet","Tennis Bracelet","Hoop Earrings","Initial Pendant"],Handmade:["Rose Bear","Crochet Heart Keychain","Hand-painted Mug","Pressed Flower Frame","Knitted Scarf","Macrame Wall Hanging","Handmade Soap Set","Leather Journal","Resin Coaster Set","Clay Trinket Dish","Dried Flower Bouquet","Embroidered Tote","Beaded Phone Charm","Hand-poured Candle","Origami Love Box","Wood Photo Stand","Woven Basket","Felt Rose Corsage","Rope Plant Hanger","Hand-sewn Plush Heart"],Gifts:["Love Letters Box","Photo Memory Album","Couple Quiz Game","Surprise Gift Box","Message in a Bottle","Date Night Cards","Scratch-off Adventure Poster","Polaroid Film Set","Stainless Travel Mug","Bluetooth Mini Speaker","Personalized Calendar","Story of Us Book","Wine Accessories Kit","Hot Cocoa Gift Set","Spa Gift Basket","Bath Bomb Kit","Aromatherapy Diffuser","Keepsake Trinket Box","Greeting Card Pack","Mini Succulent Set"],Apparel:["Matching Hoodies","Couple T-Shirts","Satin Pajama Set","Cozy Knit Sweater","Embroidered Hat","Silk Robe","Flannel Lounge Pants","Fleece Blanket Poncho","Graphic Tee","Varsity Jacket","Denim Couple Jacket","Cotton Socks Pack","Scarf & Beanie Set","Summer Dress","Button-up Shirt","Lightweight Cardigan","Yoga Set","Baseball Cap","Windbreaker","Pullover Hoodie"],Personalized:["Custom Star Map","Engraved Keychain","Photo Crystal","Monogram Throw Pillow","Custom Photo Mug","Personalized Notebook","Custom Phone Case","Engraved Wallet","Name Necklace","Coordinates Bracelet","Photo Puzzle","Personalized Apron","Custom Night Light","Nameplate Door Sign","Custom Doormat","Pet Portrait Print","Custom Calendar","Engraved Pen","Custom Flask","Personalized Cutting Board"],Food:["Luxury Chocolate Box","Macaron Assortment","Gourmet Truffle Set","Heart-shaped Cookies","Artisanal Honey Jar","Strawberry Jam Duo","Specialty Tea Sampler","Coffee Lover Kit","Red Velvet Cupcakes","Chocolate-dipped Strawberries","Caramel Popcorn Tin","Cheese and Crackers Set","Mini Cheesecake Bites","Brownie Gift Box","Marshmallow Treats","Hot Sauce Pair","Olive Oil Tasting Set","Fruit Basket","Nuts Mix Jar","Candy Heart Tin"],Home:["Scented Candle Set","String Lights","Velvet Throw Pillow","Cozy Knit Blanket","Ceramic Vase","Picture Frame Set","Table Runner","Rose Diffuser","Wall Art Print","Decorative Tray","Ceramic Planter","Crystal Decor Bowl","Reed Diffuser Set","Lantern Candle Holder","Gold Mirror","Desk Organizer","Bookends Pair","Floor Lamp","Curtain Fairy Lights","Room Mist Spray"],Romance:Array.from({length:20},(t,e)=>`Romance Gift ${e+1}`),Tech:Array.from({length:20},(t,e)=>`Tech Love Gadget ${e+1}`),Books:Array.from({length:20},(t,e)=>`Couple Book ${e+1}`),Experiences:Array.from({length:20},(t,e)=>`Date Experience ${e+1}`),Accessories:Array.from({length:20},(t,e)=>`Love Accessory ${e+1}`),Beauty:Array.from({length:20},(t,e)=>`Beauty Care Set ${e+1}`),Stationery:Array.from({length:20},(t,e)=>`Love Stationery ${e+1}`),Games:Array.from({length:20},(t,e)=>`Couple Game ${e+1}`),Plants:Array.from({length:20},(t,e)=>`Love Plant ${e+1}`),Art:Array.from({length:20},(t,e)=>`Love Art Print ${e+1}`),"Luxury Gifts":Array.from({length:20},(t,e)=>`Luxury Gift ${e+1}`),"DIY Kits":Array.from({length:20},(t,e)=>`DIY Kit ${e+1}`),"Couple Sets":Array.from({length:20},(t,e)=>`Couple Set ${e+1}`),"Memory Keepsakes":Array.from({length:20},(t,e)=>`Keepsake ${e+1}`),"Spa & Relaxation":Array.from({length:20},(t,e)=>`Spa Relax ${e+1}`),"Pet Valentine":Array.from({length:20},(t,e)=>`Pet Valentine ${e+1}`),"Eco-Friendly":Array.from({length:20},(t,e)=>`Eco Gift ${e+1}`),"Subscription Boxes":Array.from({length:20},(t,e)=>`Subscription Box ${e+1}`),"Custom Art":Array.from({length:20},(t,e)=>`Custom Art ${e+1}`),"Wine & Chocolate":Array.from({length:20},(t,e)=>`Wine & Chocolate ${e+1}`)},S3={Jewelry:50,Handmade:25,Gifts:30,Apparel:40,Personalized:35,Food:20,Home:28,Romance:38,Tech:60,Books:22,Experiences:75,Accessories:27,Beauty:32,Stationery:18,Games:29,Plants:24,Art:33,"Luxury Gifts":80,"DIY Kits":22,"Couple Sets":38,"Memory Keepsakes":32,"Spa & Relaxation":30,"Pet Valentine":24,"Eco-Friendly":28,"Subscription Boxes":45,"Custom Art":50,"Wine & Chocolate":40},I3=(t,e)=>{const n=e.toLowerCase(),r=[t.toLowerCase(),"valentine"];return t==="Jewelry"?n.includes("necklace")?r.push("necklace"):n.includes("earring")?r.push("earrings"):n.includes("ring")?r.push("ring"):n.includes("bracelet")?r.push("bracelet"):r.push("accessory"):t==="Handmade"?n.includes("candle")?r.push("candle"):n.includes("soap")?r.push("soap"):n.includes("knit")||n.includes("scarf")?r.push("knitting"):n.includes("macrame")?r.push("macrame"):n.includes("leather")?r.push("leather"):n.includes("resin")?r.push("resin"):r.push("craft"):t==="Gifts"?n.includes("album")||n.includes("photo")?r.push("photo"):n.includes("box")?r.push("giftbox"):n.includes("mug")?r.push("mug"):n.includes("speaker")?r.push("speaker"):r.push("gift"):t==="Apparel"?n.includes("hoodie")?r.push("hoodie"):n.includes("t-shirt")||n.includes("tee")?r.push("tshirt"):n.includes("pajama")?r.push("pajama"):n.includes("sweater")?r.push("sweater"):n.includes("jacket")?r.push("jacket"):n.includes("dress")?r.push("dress"):n.includes("cardigan")?r.push("cardigan"):r.push("clothing"):t==="Personalized"?n.includes("engraved")?r.push("engraved"):n.includes("custom")?r.push("custom"):n.includes("photo")?r.push("photo"):n.includes("name")?r.push("name"):r.push("personalized"):t==="Food"?n.includes("chocolate")?r.push("chocolate"):n.includes("macaron")?r.push("macaron"):n.includes("truffle")?r.push("truffle"):n.includes("cookie")?r.push("cookies"):n.includes("honey")?r.push("honey"):n.includes("jam")?r.push("jam"):n.includes("tea")?r.push("tea"):n.includes("coffee")?r.push("coffee"):n.includes("cupcake")?r.push("cupcakes"):n.includes("strawberry")?r.push("strawberries"):n.includes("popcorn")?r.push("popcorn"):n.includes("cheese")?r.push("cheese"):n.includes("brownie")?r.push("brownie"):n.includes("marshmallow")?r.push("marshmallow"):n.includes("sauce")?r.push("sauce"):n.includes("oil")?r.push("oil"):n.includes("fruit")?r.push("fruit"):n.includes("nut")?r.push("nuts"):n.includes("candy")?r.push("candy"):r.push("dessert"):t==="Home"?n.includes("candle")?r.push("candle"):n.includes("light")?r.push("lights"):n.includes("pillow")?r.push("pillow"):n.includes("blanket")?r.push("blanket"):n.includes("vase")?r.push("vase"):n.includes("frame")?r.push("frame"):n.includes("diffuser")?r.push("diffuser"):n.includes("art")?r.push("art"):n.includes("tray")?r.push("tray"):n.includes("planter")?r.push("planter"):n.includes("mirror")?r.push("mirror"):n.includes("organizer")?r.push("organizer"):n.includes("lamp")?r.push("lamp"):n.includes("curtain")?r.push("curtain"):n.includes("spray")?r.push("spray"):r.push("decor"):n.includes("gift")?r.push("gift"):n.includes("set")?r.push("set"):n.includes("print")?r.push("print"):n.includes("experience")&&r.push("experience"),r.join(",")},k3=(t,e,n)=>{const r=b3[t]||"Specially curated for romantic moments.",s=["Perfect for a cozy date night.","A sweet way to say I love you.","Ideal for surprising your favorite person.","Adds a little magic to your evening.","Thoughtful pick for unforgettable moments."],i=s[n%s.length];return`${e}  ${r} ${i}`},As=T3.flatMap((t,e)=>Array.from({length:20},(n,r)=>({id:e*100+r+1,name:nu[t][r],price:Number((S3[t]+r%10*2+e*3).toFixed(2)),category:t,image:`https://placehold.co/800x800/ffffff/cc1d4f/png?text=${encodeURIComponent(nu[t][r])}`,description:k3(t,nu[t][r],r),tags:I3(t,nu[t][r]).split(",")})));function P3(){const[t,e]=N.useState("All"),[n,r]=N.useState(""),[s,i]=N.useState("none"),[o,a]=N.useState(""),[u,c]=N.useState(""),[h,f]=N.useState(!1),[m,y]=N.useState(1),[T,_]=N.useState([]),{currentUser:I}=vn(),[v,x]=N.useState([]),[w,C]=N.useState(!1),[V,M]=N.useState("none"),[k]=WC(),E=N.useMemo(()=>{const O=new Set(As.map(H=>H.category));return["All",...Array.from(O)]},[]),S=N.useMemo(()=>{let O=t==="All"?As:As.filter(ie=>ie.category===t);const H=n.trim().toLowerCase();H&&(O=O.filter(ie=>ie.name.toLowerCase().includes(H)));let q=o!==""?parseFloat(o):null,ee=u!==""?parseFloat(u):null;return V!=="none"&&(V==="under30"?(q=null,ee=30):V==="30to50"?(q=30,ee=50):V==="50plus"&&(q=50,ee=null)),q!==null&&(O=O.filter(ie=>ie.price>=q)),ee!==null&&(O=O.filter(ie=>ie.price<=ee)),v.length>0&&(O=O.filter(ie=>ie.tags&&ie.tags.some(Se=>v.includes(Se)))),w&&I&&(O=O.filter(ie=>T.includes(ie.id))),s==="price_asc"?O=[...O].sort((ie,Se)=>ie.price-Se.price):s==="price_desc"?O=[...O].sort((ie,Se)=>Se.price-ie.price):s==="name_asc"?O=[...O].sort((ie,Se)=>ie.name.localeCompare(Se.name)):s==="name_desc"&&(O=[...O].sort((ie,Se)=>Se.name.localeCompare(ie.name))),O},[t,n,o,u,s,v,w,V,T,I]),P=16,R=Math.max(1,Math.ceil(S.length/P)),j=Math.min(m,R),A=S.slice((j-1)*P,j*P),se=S.length,Me=se===0?0:(j-1)*P+1,me=se===0?0:Me+A.length-1;let de=[];R<=5?de=Array.from({length:R},(O,H)=>H+1):j<=3?de=[1,2,3,4,"dots",R]:j>=R-2?de=[1,"dots",R-3,R-2,R-1,R]:de=[1,"dots",j-1,j,j+1,"dots",R],N.useMemo(()=>{const O=new Set;return As.forEach(H=>(H.tags||[]).forEach(q=>O.add(q))),Array.from(O).sort()},[]),N.useEffect(()=>{const O=k.get("category")||k.get("cat");if(!O)return;const H=decodeURIComponent(O).toLowerCase();let q=E.find(ee=>ee.toLowerCase()===H);q||(q=E.find(ee=>ee.toLowerCase().includes(H))),q&&q!==t&&(e(q),y(1))},[k,E,t]),N.useEffect(()=>{let O=!0;async function H(){if(!I){O&&_([]);return}try{const q=qr(Gr,"users",I.uid),ee=await ad(q);if(!O)return;const ie=ee.exists()?ee.data():{};_(Array.isArray(ie.favorites)?ie.favorites:[])}catch{O&&_([])}}return H(),()=>{O=!1}},[I]);async function z(O){if(!I){alert("Please log in to save favorites");return}const H=T.includes(O),q=qr(Gr,"users",I.uid);try{await ug(q,{favorites:H?sb(O):e4(O)}),_(ee=>H?ee.filter(ie=>ie!==O):[...ee,O])}catch(ee){console.error("Failed to update favorites",ee)}}function W(){f(O=>!O)}return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark",children:"Shop Gifts"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Find the perfect token of your affection"})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:d.jsxs("section",{className:"order-1 md:order-2 md:col-span-3",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("button",{onClick:W,className:"inline-flex items-center space-x-2 px-3 py-2 rounded-lg bg-white border border-love-pink/30 text-gray-600 hover:text-love-red hover:border-love-red transition-colors","aria-label":"Toggle filters",title:"Filters",children:[d.jsx(U4,{className:"h-5 w-5"}),d.jsx("span",{className:"text-sm font-medium",children:"Filters"})]})}),d.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-love-pink/20 mb-6 ${h?"block":"hidden"}`,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[d.jsx("span",{className:"text-sm font-semibold text-love-dark",children:"Filter & Sort"}),d.jsx("button",{type:"button",onClick:()=>{e("All"),r(""),i("none"),a(""),c(""),M("none"),C(!1),y(1)},className:"self-start text-xs px-3 py-1 rounded-full border border-gray-300 text-gray-600 hover:bg-gray-50",children:"Clear all"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[d.jsx("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:t,onChange:O=>{e(O.target.value),y(1)},children:E.map(O=>d.jsx("option",{value:O,children:O},O))}),d.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:n,onChange:O=>{r(O.target.value),y(1)}}),d.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:s,onChange:O=>{i(O.target.value),y(1)},children:[d.jsx("option",{value:"none",children:"Sort by"}),d.jsx("option",{value:"price_asc",children:"Price: Low to High"}),d.jsx("option",{value:"price_desc",children:"Price: High to Low"}),d.jsx("option",{value:"name_asc",children:"Name: A to Z"}),d.jsx("option",{value:"name_desc",children:"Name: Z to A"})]}),d.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Min price",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:o,onChange:O=>{a(O.target.value),y(1)}}),d.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Max price",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:u,onChange:O=>{c(O.target.value),y(1)}})]}),d.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick Price"}),d.jsx("div",{className:"space-y-2",children:[{id:"none",label:"None"},{id:"under30",label:"Under $30"},{id:"30to50",label:"$30  $50"},{id:"50plus",label:"$50+"}].map(O=>d.jsx("button",{onClick:()=>{M(O.id),y(1)},className:`w-full text-left px-3 py-2 rounded-lg border text-sm ${V===O.id?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:O.label},O.id))})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Only Favorites"}),d.jsx("button",{onClick:()=>{C(O=>!O),y(1)},disabled:!I,className:`w-full px-3 py-2 rounded-lg border text-sm ${w?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${I?"":"opacity-50 cursor-not-allowed"}`,children:w?"Enabled":"Disabled"})]})]})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:A.map(O=>{const H=T.includes(O.id);return d.jsx(E3,{product:O,isFavorite:H,onToggleFavorite:()=>z(O.id)},O.id)})}),d.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[d.jsx("div",{className:"text-sm text-gray-600",children:se===0?"No gifts found. Try adjusting your filters.":`Showing ${Me}-${me} of ${se} gifts`}),R>1&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>y(O=>Math.max(1,O-1)),disabled:j===1,className:`px-3 py-2 rounded-md border text-sm ${j===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Previous"}),de.map((O,H)=>O==="dots"?d.jsx("span",{className:"px-2 text-gray-400 text-sm",children:"..."},`dots-${H}`):d.jsx("button",{onClick:()=>y(O),className:`px-3 py-2 rounded-md border text-sm ${O===j?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:O},O)),d.jsx("button",{onClick:()=>y(O=>Math.min(R,O+1)),disabled:j===R,className:`px-3 py-2 rounded-md border text-sm ${j===R?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Next"})]})]})]})})]})}function C3(){const{id:t}=gC(),e=As.find(_=>_.id===parseInt(t)),[n,r]=N.useState(""),[s,i]=N.useState(1),{addToCart:o}=ol(),[a,u]=N.useState(!1),{currentUser:c}=vn(),h=ur(),[f,m]=N.useState(!1),y=()=>{if(!c){h("/login");return}m(!0)};function T(){const I=document.createElement("canvas");I.width=1080,I.height=1080;const v=I.getContext("2d"),x=v.createLinearGradient(0,0,1080,1080);x.addColorStop(0,"#ffe4e6"),x.addColorStop(1,"#fb7185"),v.fillStyle=x,v.fillRect(0,0,1080,1080);function w(P,R,j,A){v.save(),v.translate(P,R),v.scale(j,j),v.beginPath(),v.moveTo(0,-10),v.bezierCurveTo(12,-28,40,-18,40,6),v.bezierCurveTo(40,26,18,40,0,52),v.bezierCurveTo(-18,40,-40,26,-40,6),v.bezierCurveTo(-40,-18,-12,-28,0,-10),v.closePath(),v.fillStyle=A,v.fill(),v.restore()}for(let P=0;P<24;P++){const R=Math.random()*1080,j=Math.random()*1080,A=.3+Math.random()*.8,se=Math.random()<.5?"rgba(225,29,72,0.15)":"rgba(251,113,133,0.15)";w(R,j,A,se)}v.fillStyle="rgba(255,255,255,0.85)";const C=80;v.beginPath(),v.moveTo(140+C,180),v.arcTo(940,180,940,900,C),v.arcTo(940,900,140,900,C),v.arcTo(140,900,140,180,C),v.arcTo(140,180,940,180,C),v.closePath(),v.fill(),v.fillStyle="#e11d48",v.textAlign="center",v.font="bold 72px Georgia",v.fillText("With Love",1080/2,300),v.fillStyle="#0f172a",v.font="600 56px Georgia",v.fillText(e.name,1080/2,390),v.fillStyle="#334155",v.font="italic 36px Georgia";const V=n!=null&&n.trim()?n.trim():"You make my world brighter",M=[];let k="";V.split(/\s+/).forEach(P=>{const R=k?k+" "+P:P;v.measureText(R).width>720?(M.push(k),k=P):k=R}),k&&M.push(k),M.slice(0,4).forEach((P,R)=>{v.fillText(P,1080/2,480+R*48)}),v.fillStyle="#e11d48",w(1080/2,620,1.2,"#e11d48"),v.fillStyle="#64748b",v.font="500 28px Georgia",v.fillText("LoveCraft",1080/2,860);const S=document.createElement("a");S.download="wish-card.png",S.href=I.toDataURL("image/png"),S.click()}return e?d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative",children:[d.jsxs(oe,{to:"/products",className:"inline-flex items-center text-gray-500 hover:text-love-red mb-8 transition-colors",children:[d.jsx(M4,{className:"h-4 w-4 mr-2"})," Back to Gifts"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[d.jsx(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"rounded-2xl overflow-hidden shadow-lg border border-love-pink/20",children:d.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),d.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-love-red font-medium uppercase tracking-wider mb-2",children:e.category}),d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-2",children:e.name}),d.jsxs("div",{className:"flex items-center space-x-2 text-yellow-500 text-sm mb-4",children:[d.jsx("div",{className:"flex",children:[...Array(5)].map((_,I)=>d.jsx(X4,{className:"h-4 w-4 fill-current"},I))}),d.jsx("span",{className:"text-gray-400",children:"(24 reviews)"})]}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",e.price.toFixed(2)]})]}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description||"Celebrate your love with this handcrafted treasure. Perfect for anniversaries, Valentine's Day, or just because."}),d.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"custom-text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message (Optional)"}),d.jsx("textarea",{id:"custom-text",rows:3,className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-love-pink focus:ring-love-pink text-sm p-3 border",placeholder:"Enter names, dates, or a short love note...",value:n,onChange:_=>r(_.target.value)})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[d.jsx("button",{onClick:()=>i(Math.max(1,s-1)),className:"px-3 py-2 text-gray-600 hover:bg-gray-50",children:"-"}),d.jsx("span",{className:"px-3 py-2 font-medium w-12 text-center",children:s}),d.jsx("button",{onClick:()=>i(s+1),className:"px-3 py-2 text-gray-600 hover:bg-gray-50",children:"+"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[d.jsxs("button",{onClick:y,disabled:a,className:`w-full sm:flex-1 px-6 py-3 rounded-lg font-medium transition-colors shadow-md flex items-center justify-center space-x-2 ${a?"bg-green-600 text-white":"bg-love-red text-white hover:bg-red-700"}`,children:[a?d.jsx(wh,{className:"h-5 w-5"}):d.jsx(fg,{className:"h-5 w-5"}),d.jsx("span",{children:a?"Added to Cart":"Add to Cart"})]}),d.jsxs("button",{onClick:T,className:"w-full sm:w-auto px-6 py-3 rounded-lg font-medium transition-colors shadow-md flex items-center justify-center space-x-2 bg-white text-love-red border border-love-pink/30 hover:bg-love-light",children:[d.jsx(cb,{className:"h-5 w-5"}),d.jsx("span",{children:"Download Wish Image"})]}),d.jsx("button",{className:"w-full sm:w-auto p-3 border border-gray-300 rounded-lg hover:border-love-red hover:text-love-red transition-colors flex items-center justify-center",children:d.jsx($t,{className:"h-5 w-5"})})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 pt-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(wh,{className:"h-4 w-4 mr-1 text-green-500"})," In Stock"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(wh,{className:"h-4 w-4 mr-1 text-green-500"})," Free Shipping"]})]})]})]}),f&&d.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-love-pink/30 p-6 max-w-sm w-full mx-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-love-dark mb-2",children:"Add to cart?"}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['Add "',e.name,'"',s>1?` (x${s})`:""," to your cart?"]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 text-sm",children:"Cancel"}),d.jsx("button",{type:"button",onClick:()=>{o(e,s,n),u(!0),m(!1),setTimeout(()=>u(!1),2e3)},className:"px-4 py-2 rounded-lg bg-love-red text-white hover:bg-red-700 text-sm",children:"Confirm"})]})]})})]}):d.jsxs("div",{className:"min-h-[50vh] flex flex-col items-center justify-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Product not found"}),d.jsx(oe,{to:"/products",className:"mt-4 text-love-red hover:underline",children:"Return to Shop"})]})}function A3(){const{cartItems:t,removeFromCart:e,updateQuantity:n,cartTotal:r}=ol();return t.length===0?d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 text-center",children:[d.jsx("h2",{className:"text-3xl font-cursive text-gray-800 mb-4",children:"Your cart is empty"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't found the perfect gift yet."}),d.jsxs(oe,{to:"/products",className:"inline-flex items-center bg-love-red text-white px-6 py-3 rounded-full hover:bg-red-700 transition-colors",children:["Start Shopping ",d.jsx(np,{className:"ml-2 h-4 w-4"})]})]}):d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-8",children:"Shopping Cart"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[d.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.map(s=>d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center bg-white p-4 rounded-xl shadow-sm border border-love-pink/20 gap-4 sm:gap-6",children:[d.jsx("img",{src:s.image,alt:s.name,className:"w-24 h-24 object-cover rounded-lg flex-shrink-0"}),d.jsxs("div",{className:"sm:ml-2 flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:s.name}),d.jsxs("p",{className:"text-love-red font-medium",children:["$",s.price.toFixed(2)]}),s.customText&&d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Note: ",s.customText]})]}),d.jsxs("div",{className:"flex items-center sm:items-center justify-between sm:justify-end w-full sm:w-auto gap-4 sm:gap-6",children:[d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[d.jsx("button",{onClick:()=>n(s.id,s.customText,s.quantity-1),className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50",children:"-"}),d.jsx("span",{className:"px-2 text-sm font-medium",children:s.quantity}),d.jsx("button",{onClick:()=>n(s.id,s.customText,s.quantity+1),className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50",children:"+"})]}),d.jsx("button",{onClick:()=>e(s.id,s.customText),className:"text-gray-400 hover:text-red-500 transition-colors",children:d.jsx(fb,{className:"h-5 w-5"})})]})]},`${s.id}-${s.customText}`))}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-love-pink/20 md:sticky md:top-24",children:[d.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Order Summary"}),d.jsxs("div",{className:"space-y-4 text-sm",children:[d.jsxs("div",{className:"flex justify-between text-gray-600",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["$",r.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-gray-600",children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{children:"Free"})]}),d.jsxs("div",{className:"border-t border-gray-100 pt-4 flex justify-between font-bold text-lg text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["$",r.toFixed(2)]})]})]}),d.jsx(oe,{to:"/checkout",className:"block text-center w-full mt-8 bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Proceed to Checkout"})]})})]})]})}const N3=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},f5={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:N3()};function R3(){const{cartItems:t,cartTotal:e,clearCart:n}=ol(),{currentUser:r}=vn(),s=ur(),[i,o]=N.useState(!1),[a,u]=N.useState(""),[c,h]=N.useState({firstName:"",lastName:"",email:(r==null?void 0:r.email)||"",address:"",city:"",zipCode:"",country:"",cardNumber:"",expiryDate:"",cvv:""}),f=y=>{h({...c,[y.target.name]:y.target.value})},m=async y=>{y.preventDefault(),o(!0),u("");try{const T={userId:r?r.uid:"guest",userEmail:c.email,items:t,total:e,shippingDetails:{firstName:c.firstName,lastName:c.lastName,address:c.address,city:c.city,zipCode:c.zipCode,country:c.country},status:"pending",createdAt:Tu()},_=await JV(LV(Gr,"orders"),T);try{const I={order_id:_.id,to_name:`${c.firstName} ${c.lastName}`,to_email:c.email,message:`Thank you for your order! Your total is $${e.toFixed(2)}. We will ship your romantic gifts to ${c.address}, ${c.city}.`,reply_to:"support@lovecraft.com"},v=void 0,x=void 0,w="GNdiN4DMl_vTXQ7iE";v&&x||console.warn("EmailJS service/template IDs are not set"),console.log("Email sent successfully!")}catch(I){console.error("Failed to send email:",I)}n(),s("/order-success")}catch(T){console.error("Error placing order:",T),u("Failed to place order. Please try again.")}finally{o(!1)}};return N.useEffect(()=>{t.length===0&&s("/cart")},[t,s]),t.length===0?null:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-8 text-center",children:"Checkout"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md border border-love-pink/20",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Shipping Details"}),a&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:a}),d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),d.jsx("input",{type:"text",name:"firstName",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.firstName,onChange:f})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),d.jsx("input",{type:"text",name:"lastName",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.lastName,onChange:f})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.email,onChange:f})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),d.jsx("input",{type:"text",name:"address",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.address,onChange:f})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),d.jsx("input",{type:"text",name:"city",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.city,onChange:f})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code"}),d.jsx("input",{type:"text",name:"zipCode",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.zipCode,onChange:f})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),d.jsx("input",{type:"text",name:"country",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.country,onChange:f})]}),d.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[d.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Payment Information"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),d.jsx("input",{type:"text",name:"cardNumber",required:!0,placeholder:"0000 0000 0000 0000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.cardNumber,onChange:f})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),d.jsx("input",{type:"text",name:"expiryDate",required:!0,placeholder:"MM/YY",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.expiryDate,onChange:f})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),d.jsx("input",{type:"text",name:"cvv",required:!0,placeholder:"123",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.cvv,onChange:f})]})]})]})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Processing...":`Pay $${e.toFixed(2)}`})]})]}),d.jsx("div",{children:d.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200 sticky top-24",children:[d.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Order Summary"}),d.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:t.map(y=>d.jsxs("div",{className:"flex gap-4 border-b border-gray-200 pb-4",children:[d.jsx("img",{src:y.image,alt:y.name,className:"w-16 h-16 object-cover rounded-md"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-gray-800",children:y.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",y.quantity]}),d.jsxs("p",{className:"text-love-red font-medium",children:["$",y.price.toFixed(2)]}),y.customText&&d.jsxs("p",{className:"text-xs text-gray-500 italic mt-1",children:['"',y.customText,'"']})]})]},`${y.id}-${y.customText}`))}),d.jsxs("div",{className:"mt-6 space-y-2 pt-4 border-t border-gray-200",children:[d.jsxs("div",{className:"flex justify-between text-gray-600",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["$",e.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-gray-600",children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{children:"Free"})]}),d.jsxs("div",{className:"flex justify-between font-bold text-xl text-love-dark pt-2",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["$",e.toFixed(2)]})]})]})]})})]})]})})}var Iu={linear:function(t,e,n,r){var s=n-e;return s*t/r+e},easeInQuad:function(t,e,n,r){var s=n-e;return s*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var s=n-e;return-s*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var s=n-e;return-s*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var s=n-e;return-s*Math.cos(t/r*(Math.PI/2))+s+e},easeOutSine:function(t,e,n,r){var s=n-e;return s*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var s=n-e;return-s/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var s=n-e;return t==0?e:s*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var s=n-e;return t==r?e+s:s*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var s=n-e;return t===0?e:t===r?e+s:(t/=r/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var s=n-e;return-s*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var s=n-e;return s*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+s+e)},easeInOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r/2)===2?e+s:(o||(o=r*(.3*1.5)),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+s+e)},easeInBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*(t/=r)*t*((s+1)*t-s)+e},easeOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*((t=t/r-1)*t*((s+1)*t+s)+1)+e},easeInOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),(t/=r/2)<1?i/2*(t*t*(((s*=1.525)+1)*t-s))+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},easeInBounce:function(t,e,n,r){var s=n-e,i;return i=Iu.easeOutBounce(r-t,0,s,r),s-i+e},easeOutBounce:function(t,e,n,r){var s=n-e;return(t/=r)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var s=n-e,i;return t<r/2?(i=Iu.easeInBounce(t*2,0,s,r),i*.5+e):(i=Iu.easeOutBounce(t*2-r,0,s,r),i*.5+s*.5+e)}},j3=Iu;function D3(t){return t*Math.PI/180}function Lt(t,e){return t+Math.random()*(e-t)}function V3(t,e){return Math.floor(t+Math.random()*(e-t+1))}var ha;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(ha||(ha={}));var Tr;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(Tr||(Tr={}));const M3=1e3/60;class O3{constructor(e,n,r,s){this.getOptions=n;const{colors:i,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=s,this.w=Lt(5,20),this.h=Lt(5,20),this.radius=Lt(5,10),this.vx=typeof o=="number"?Lt(-o,o):Lt(o.min,o.max),this.vy=typeof a=="number"?Lt(-a,0):Lt(a.min,a.max),this.shape=V3(0,2),this.angle=D3(Lt(0,360)),this.angularSpin=Lt(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=Lt(0,1),this.rotationDirection=Lt(0,1)?Tr.Positive:Tr.Negative}update(e){const{gravity:n,wind:r,friction:s,opacity:i,drawShape:o}=this.getOptions(),a=e/M3;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=s**a,this.vy*=s**a,this.rotateY>=1&&this.rotationDirection===Tr.Positive?this.rotationDirection=Tr.Negative:this.rotateY<=-1&&this.rotationDirection===Tr.Negative&&(this.rotationDirection=Tr.Positive);const u=.1*this.rotationDirection*a;if(this.rotateY+=u,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case ha.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case ha.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case ha.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class L3{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=Lt(this.x,this.w+this.x),i=Lt(this.y,this.h+this.y);return new O3(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:o,particlesGenerated:a,lastNumberOfPieces:u}=this,{run:c,recycle:h,numberOfPieces:f,debug:m,tweenFunction:y,tweenDuration:T}=this.getOptions();if(!c)return!1;const _=this.particles.length,I=h?_:a;if(I<f){u!==f&&(this.tweenProgress=0,this.tweenFrom=I,this.lastNumberOfPieces=f),this.tweenProgress=Math.min(T,Math.max(0,this.tweenProgress+s));const v=y(this.tweenProgress,this.tweenFrom,f,T),x=Math.round(v-I);for(let w=0;w<x;w++)this.particles.push(this.getParticle());this.particlesGenerated+=x}m&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${_}`,i.width-10,i.height-20));for(let v=this.particles.length-1;v>=0;v--){const x=this.particles[v];x.update(s),(x.y>i.height||x.y<-100||x.x>i.width+100||x.x<-100)&&(h&&I<=f?this.particles[v]=this.getParticle():this.removeParticleAt(v))}return _>0||I<f},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const Mg={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:j3.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class F3{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...Mg,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:o,frameRate:a},canvas:u,context:c}=this,h=Math.min(s-this.lastFrameTime,50);if(a&&h<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(a?h%a:0),i&&(c.fillStyle="white",c.clearRect(0,0,u.width,u.height)),this.generator.animate(h)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new L3(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var s,i;const n=(s=this._options)==null?void 0:s.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const U3=Qr.createRef();class Og extends Qr.Component{constructor(e){super(e),this.canvas=Qr.createRef(),this.canvas=e.canvasRef||U3}componentDidMount(){if(this.canvas.current){const e=Dh(this.props)[0];this.confetti=new F3(this.canvas.current,e)}}componentDidUpdate(){const e=Dh(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=Dh(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return d.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}Og.defaultProps={...Mg};Og.displayName="ReactConfetti";function Dh(t){const e={},n={},r={},s=[...Object.keys(Mg),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in t){const a=t[o];s.includes(o)?e[o]=a:i.includes(o)?i[o]=a:r[o]=a}return[e,r,n]}const B3=Qr.forwardRef((t,e)=>d.jsx(Og,{canvasRef:e,...t}));function z3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function $3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var Vh=typeof window<"u",H3=function(t){N.useEffect(t,[])},W3=function(t){var e=N.useRef(t);e.current=t,H3(function(){return function(){return e.current()}})},q3=function(t){var e=N.useRef(0),n=N.useState(t),r=n[0],s=n[1],i=N.useCallback(function(o){cancelAnimationFrame(e.current),e.current=requestAnimationFrame(function(){s(o)})},[]);return W3(function(){cancelAnimationFrame(e.current)}),[r,i]},G3=function(t){var e={},n=e.initialWidth,r=n===void 0?1/0:n,s=e.initialHeight,i=s===void 0?1/0:s,o=e.onChange,a=q3({width:Vh?window.innerWidth:r,height:Vh?window.innerHeight:i}),u=a[0],c=a[1];return N.useEffect(function(){if(Vh){var h=function(){var f=window.innerWidth,m=window.innerHeight;c({width:f,height:m}),o&&o(f,m)};return z3(window,"resize",h),function(){$3(window,"resize",h)}}},[]),u};function K3(){const{width:t,height:e}=G3();return d.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center bg-love-light/30 px-4",children:[d.jsx(B3,{width:t,height:e,recycle:!1,numberOfPieces:200,colors:["#e11d48","#fb7185","#ffe4e6","#ffffff"]}),d.jsxs(Q.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.8},className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-xl border border-love-pink/20 text-center relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-love-red to-love-pink"}),d.jsx(Q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(O4,{className:"h-10 w-10 text-green-600"})}),d.jsx("h1",{className:"text-3xl font-cursive text-love-dark mb-4",children:"Order Placed!"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Thank you for your order. We're preparing your romantic gifts with love! You'll receive a confirmation email shortly."}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(oe,{to:"/products",className:"block w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Continue Shopping"}),d.jsx(oe,{to:"/",className:"block w-full bg-white text-love-dark border border-gray-200 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Back to Home"})]}),d.jsxs("div",{className:"mt-8 flex justify-center space-x-2 text-love-pink/60",children:[d.jsx($t,{className:"h-4 w-4 fill-current animate-pulse"}),d.jsx($t,{className:"h-4 w-4 fill-current animate-pulse delay-75"}),d.jsx($t,{className:"h-4 w-4 fill-current animate-pulse delay-150"})]})]})]})}function Q3(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[o,a]=N.useState(""),[u,c]=N.useState(!1),{login:h,loginWithGoogle:f}=vn(),m=ur();async function y(I){I.preventDefault();const v=t.trim();try{i(""),a(""),c(!0),await h(v,n),m("/")}catch(x){console.error("Login error:",x);let w="Failed to log in";x.code==="auth/wrong-password"&&(w="Incorrect email or password"),x.code==="auth/user-not-found"&&(w="Incorrect email or password"),x.code==="auth/invalid-email"&&(w="Invalid email address"),x.code==="auth/invalid-credential"&&(w="Incorrect email or password"),i(w)}c(!1)}async function T(){try{i(""),c(!0),await f(),m("/")}catch(I){console.error("Google login error:",I);let v="Failed to log in with Google";I.code==="auth/popup-closed-by-user"&&(v="Google sign-in was closed before completing."),I.code==="auth/popup-blocked-by-browser"&&(v="Your browser blocked the Google sign-in popup."),I.code==="auth/cancelled-popup-request"&&(v="Google sign-in was cancelled by another request."),I.code==="auth/unauthorized-domain"&&(v="Google sign-in is not enabled for this website domain."),v==="Failed to log in with Google"&&I.code&&(v+=` (${I.code})`),i(v)}c(!1)}async function _(){m("/reset-password")}return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-love-light/30 px-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx($t,{className:"h-10 w-10 text-love-red mx-auto mb-2 fill-current"}),d.jsx("h2",{className:"text-3xl font-cursive text-love-dark font-bold",children:"Welcome Back"}),d.jsx("p",{className:"text-gray-600",children:"Sign in to continue your love story"})]}),s&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:s}),o&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"status",children:o}),d.jsxs("form",{onSubmit:y,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:t,onChange:I=>e(I.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:n,onChange:I=>r(I.target.value)})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"button",onClick:_,disabled:u,className:"text-sm text-love-red hover:underline",children:"Forgot password?"})}),d.jsx("button",{type:"submit",disabled:u,className:"w-full bg-love-red text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red transition-colors font-medium",children:"Log In"})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:T,disabled:u,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red",children:[d.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),d.jsxs("div",{className:"mt-6 text-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),d.jsx(oe,{to:"/signup",className:"text-love-red hover:underline font-medium",children:"Sign up"})]})]})})}function Y3(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[o,a]=N.useState(""),[u,c]=N.useState(""),[h,f]=N.useState(!1),[m,y]=N.useState(""),{signup:T,loginWithGoogle:_,sendWelcomeEmail:I}=vn(),v=ur();async function x(C){C.preventDefault();const V=n.trim();if(s!==o)return c("Passwords do not match");try{c(""),y(""),f(!0);const M=await T(V,s,{displayName:t});if(M&&M.user)try{await I(M.user),y("We have sent a welcome email. Please check your inbox.")}catch{}v("/profile")}catch(M){console.error("Signup error:",M);let k="Failed to create an account";M.code==="auth/email-already-in-use"&&(k="Email is already in use"),M.code==="auth/weak-password"&&(k="Password should be at least 6 characters"),M.code==="auth/invalid-email"&&(k="Invalid email address"),M.code==="auth/operation-not-allowed"&&(k="Email/Password accounts are not enabled in Firebase Console."),k==="Failed to create an account"&&(k+=`: ${M.message} (${M.code})`),c(k)}f(!1)}async function w(){try{c(""),f(!0),await _(),v("/profile")}catch(C){console.error("Google login error:",C);let V="Failed to sign up with Google";C.code==="auth/popup-closed-by-user"&&(V="Google sign-up was closed before completing."),C.code==="auth/popup-blocked-by-browser"&&(V="Your browser blocked the Google sign-up popup."),C.code==="auth/cancelled-popup-request"&&(V="Google sign-up was cancelled by another request."),C.code==="auth/unauthorized-domain"&&(V="Google sign-up is not enabled for this website domain."),V==="Failed to sign up with Google"&&C.code&&(V+=` (${C.code})`),c(V)}f(!1)}return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-love-light/30 px-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx($t,{className:"h-10 w-10 text-love-red mx-auto mb-2 fill-current"}),d.jsx("h2",{className:"text-3xl font-cursive text-love-dark font-bold",children:"Create Account"}),d.jsx("p",{className:"text-gray-600",children:"Join our community of love"})]}),u&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:u}),m&&!u&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"status",children:m}),d.jsxs("form",{onSubmit:x,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),d.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:t,onChange:C=>e(C.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:n,onChange:C=>r(C.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:s,onChange:C=>i(C.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),d.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:o,onChange:C=>a(C.target.value)})]}),d.jsx("button",{type:"submit",disabled:h,className:"w-full bg-love-red text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red transition-colors font-medium",children:"Sign Up"})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:w,disabled:h,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red",children:[d.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),d.jsxs("div",{className:"mt-6 text-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),d.jsx(oe,{to:"/login",className:"text-love-red hover:underline font-medium",children:"Log in"})]})]})})}function X3(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[o,a]=N.useState(!1),{resetPassword:u}=vn();async function c(h){h.preventDefault();const f=t.trim();if(!f){r("Please enter your email to reset your password");return}try{r(""),i(""),a(!0),await u(f),i("If an account exists for this email, a reset link has been sent.")}catch(m){m.code==="auth/invalid-email"?r("Invalid email address"):i("If an account exists for this email, a reset link has been sent.")}a(!1)}return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-love-light/30 px-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx($t,{className:"h-10 w-10 text-love-red mx-auto mb-2 fill-current"}),d.jsx("h2",{className:"text-3xl font-cursive text-love-dark font-bold",children:"Reset Password"}),d.jsx("p",{className:"text-gray-600",children:"Enter your email to receive a reset link"})]}),n&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:n}),s&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"status",children:s}),d.jsxs("form",{onSubmit:c,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:t,onChange:h=>e(h.target.value),disabled:o})]}),d.jsx("button",{type:"submit",disabled:o,className:"w-full bg-love-red text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red transition-colors font-medium",children:"Send Reset Link"})]}),d.jsxs("div",{className:"mt-6 text-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Remember your password? "}),d.jsx(oe,{to:"/login",className:"text-love-red hover:underline font-medium",children:"Sign in"})]})]})})}function J3(){const[t,e]=N.useState([{id:1,name:"Personalized Heart Necklace",price:45,category:"Jewelry"},{id:2,name:"Handmade Rose Bear",price:35.5,category:"Handmade"}]);return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark",children:"Admin Dashboard"}),d.jsxs("button",{className:"flex items-center space-x-2 bg-love-red text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(K4,{className:"h-5 w-5"}),d.jsx("span",{children:"Add Product"})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-love-pink/20 overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-love-light",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(n=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.name}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.category}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",n.price.toFixed(2)]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-4",children:d.jsx(q4,{className:"h-4 w-4"})}),d.jsx("button",{className:"text-red-600 hover:text-red-900",children:d.jsx(fb,{className:"h-4 w-4"})})]})]},n.id))})]})})]})}function Z3(){const{currentUser:t}=vn(),[e,n]=N.useState(!0),[r,s]=N.useState(""),[i,o]=N.useState(!1),[a,u]=N.useState({name:"",address:"",postalCode:"",country:"",gender:"",billingName:"",billingAddress:"",billingPostalCode:"",billingCountry:""}),[c,h]=N.useState(null),[f,m]=N.useState(""),[y,T]=N.useState([]),[_,I]=N.useState(!1),[v,x]=N.useState({}),w=N.useRef(null);N.useEffect(()=>{async function S(){if(t){o(!1),s(""),n(!0);try{const P=qr(Gr,"users",t.uid),R=await ad(P),j=R.exists()?R.data():{};u({name:j.name||t.displayName||"",address:j.address||"",postalCode:j.postalCode||"",country:j.country||"",gender:j.gender||"",billingName:j.billingName||j.name||t.displayName||"",billingAddress:j.billingAddress||j.address||"",billingPostalCode:j.billingPostalCode||j.postalCode||"",billingCountry:j.billingCountry||j.country||""}),m(j.photoURL||t.photoURL||""),T(Array.isArray(j.favorites)?j.favorites:[])}catch{s("Failed to load profile")}finally{I(!1),n(!1)}}}S()},[t]);function C(S){const{name:P,value:R}=S.target;u(j=>({...j,[P]:R}))}function V(){const S={},P=a.name.trim();P?P.length<2&&(S.name="Full name must be at least 2 characters"):S.name="Full name is required";const R=a.address.trim();R&&R.length<5&&(S.address="Address should be at least 5 characters");const j=a.billingName.trim();j&&j.length<2&&(S.billingName="Billing name should be at least 2 characters");const A=a.billingAddress.trim();A&&A.length<5&&(S.billingAddress="Billing address should be at least 5 characters");function se(me,de){const z=me.trim();z&&((z.length<3||z.length>10)&&(S[de]="Postal code should be 3 to 10 characters"),/^[0-9A-Za-z\- ]+$/.test(z)||(S[de]="Postal code can use letters and numbers only"))}se(a.postalCode,"postalCode"),se(a.billingPostalCode,"billingPostalCode");function Me(me,de){const z=me.trim();z&&z.length<2&&(S[de]="Country name should be at least 2 characters")}return Me(a.country,"country"),Me(a.billingCountry,"billingCountry"),x(S),Object.keys(S).length===0}function M(S){return new Promise((P,R)=>{const j=new FileReader;j.onload=()=>P(j.result),j.onerror=R,j.readAsDataURL(S)})}async function k(S){if(S.preventDefault(),s(""),o(!1),!!V())try{let R=f;if(c){if(!c.type.startsWith("image/")){s("Please upload a valid image file");return}if(c.size>256*1024){s("Image too large (max 256KB)");return}R=await M(c)}const j=qr(Gr,"users",t.uid);await rb(j,{name:a.name,address:a.address,postalCode:a.postalCode,country:a.country,gender:a.gender,billingName:a.billingName,billingAddress:a.billingAddress,billingPostalCode:a.billingPostalCode,billingCountry:a.billingCountry,photoURL:R||null},{merge:!0});const A={};if(a.name&&a.name!==t.displayName&&(A.displayName=a.name),Object.keys(A).length)try{await I1(t,A)}catch{}m(R),o(!0),I(!1)}catch{s("Failed to save profile")}}async function E(S){if(t)try{const P=qr(Gr,"users",t.uid);await ug(P,{favorites:sb(S)}),T(R=>R.filter(j=>j!==S))}catch(P){console.error("Failed to remove favorite",P)}}return t?d.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs(Q.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.16,1,.3,1]},className:"relative",children:[d.jsx(Q.div,{"aria-hidden":"true",className:"pointer-events-none absolute -inset-x-10 -top-10 h-40 bg-gradient-to-r from-love-light/60 via-white to-love-light/60 blur-3xl opacity-60",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.7}}),d.jsx(Q.div,{layout:!0,className:"bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20 relative overflow-hidden",whileHover:{y:-2},transition:{type:"spring",stiffness:260,damping:22},children:e?d.jsx("div",{className:"text-gray-600",children:"Loading..."}):d.jsxs("form",{onSubmit:k,className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx(Q.h2,{className:"text-2xl font-cursive text-love-dark",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4},children:"Personal Details"}),d.jsx(Q.button,{type:"button",onClick:()=>I(S=>!S),className:"px-4 py-2 text-sm font-medium rounded-lg border border-love-red text-love-red hover:bg-love-red hover:text-white transition-colors",whileTap:{scale:.95},whileHover:{translateY:-1},transition:{type:"spring",stiffness:300,damping:20},children:_?"Cancel":"Update Personal Details"})]}),r&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded",children:r}),i&&d.jsx(Q.div,{className:"bg-green-100 text-green-700 p-3 rounded inline-flex items-center gap-2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:280,damping:18},children:d.jsx("span",{children:"Saved"})}),d.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Q.div,{className:"w-20 h-20 rounded-full overflow-hidden bg-love-light border border-love-pink/30 ring-2 ring-love-light/60",whileHover:{scale:1.03,rotate:1.5},transition:{type:"spring",stiffness:260,damping:18},children:f?d.jsx("img",{src:f,alt:"Avatar",className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-semibold text-love-dark",children:a.name||t.displayName||"No name set"}),d.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})]}),_&&d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:S=>{var P;return h(((P=S.target.files)==null?void 0:P[0])||null)},className:"hidden"}),d.jsx(Q.button,{type:"button",onClick:()=>w.current&&w.current.click(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-love-light text-love-dark hover:bg-love-pink/40 transition-colors",whileTap:{scale:.95},children:"Change Photo"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Full Name"}),d.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.name,onChange:C,disabled:!_}),v.name&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:v.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Address"}),d.jsx("input",{type:"text",name:"address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.address,onChange:C,disabled:!_}),v.address&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:v.address})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Postal Code"}),d.jsx("input",{type:"text",name:"postalCode",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.postalCode,onChange:C,disabled:!_}),v.postalCode&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:v.postalCode})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Country"}),d.jsx("input",{type:"text",name:"country",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.country,onChange:C,disabled:!_}),v.country&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:v.country})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Gender"}),d.jsxs("select",{name:"gender",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.gender,onChange:C,disabled:!_,children:[d.jsx("option",{value:"",children:"Select"}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"other",children:"Other"})]})]})]}),d.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h2",{className:"text-2xl font-cursive text-love-dark",children:"Billing Details"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Billing Name"}),d.jsx("input",{type:"text",name:"billingName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.billingName,onChange:C,disabled:!_}),v.billingName&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:v.billingName})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Billing Address"}),d.jsx("input",{type:"text",name:"billingAddress",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.billingAddress,onChange:C,disabled:!_}),v.billingAddress&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:v.billingAddress})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Billing Postal Code"}),d.jsx("input",{type:"text",name:"billingPostalCode",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.billingPostalCode,onChange:C,disabled:!_}),v.billingPostalCode&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:v.billingPostalCode})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Billing Country"}),d.jsx("input",{type:"text",name:"billingCountry",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.billingCountry,onChange:C,disabled:!_}),v.billingCountry&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:v.billingCountry})]})]})]})]}),_&&d.jsx(Q.button,{type:"submit",className:"w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",whileTap:{scale:.97},whileHover:{translateY:-1},children:"Save"})]})})]}),d.jsx(Q.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:[.16,1,.3,1]},children:d.jsxs(Q.div,{layout:!0,className:"bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20 mt-8",children:[d.jsx("h2",{className:"text-2xl font-semibold text-love-dark mb-4",children:"Your Favorites"}),y.length===0?d.jsx("div",{className:"text-gray-600",children:"No favorites yet. Tap the heart on items to save them here."}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:As.filter(S=>y.includes(S.id)).map((S,P)=>d.jsxs(Q.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*P},whileHover:{y:-4,boxShadow:"0 18px 35px rgba(15,23,42,0.16)"},className:"border border-love-pink/20 rounded-xl overflow-hidden bg-white shadow-sm flex flex-col",children:[d.jsx(Q.img,{src:S.image,alt:S.name,className:"w-full h-40 object-cover",whileHover:{scale:1.03},transition:{type:"spring",stiffness:260,damping:22}}),d.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[d.jsx("div",{className:"text-xs text-love-red font-medium mb-1 uppercase tracking-wider",children:S.category}),d.jsx("div",{className:"font-semibold text-gray-800",children:S.name}),d.jsxs("div",{className:"text-love-dark font-bold mt-2 mb-4",children:["$",S.price.toFixed(2)]}),d.jsx(Q.button,{type:"button",onClick:()=>E(S.id),className:"mt-auto inline-flex items-center justify-center px-3 py-2 rounded-lg text-xs font-medium border border-gray-300 text-gray-700 hover:border-love-red hover:text-love-red transition-colors",whileTap:{scale:.95},children:"Remove from favorites"})]})]},S.id))})]})})]}):null}function e5(){const[t,e]=N.useState({name:"",email:"",message:""}),[n,r]=N.useState(!1),[s,i]=N.useState(!1);function o(u){const{name:c,value:h}=u.target;e(f=>({...f,[c]:h}))}async function a(u){u.preventDefault(),i(!0),r(!1),await new Promise(c=>setTimeout(c,600)),i(!1),r(!0)}return d.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-3",children:"Contact Us"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Wed love to hear from you. Choose the way that suits you best."}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20",children:[n&&d.jsx("div",{className:"mb-4 bg-green-100 text-green-700 px-4 py-2 rounded",children:"Message sent. Thank you!"}),d.jsxs("form",{onSubmit:a,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:t.name,onChange:o})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:t.email,onChange:o})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),d.jsx("textarea",{name:"message",required:!0,rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:t.message,onChange:o})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:s?"Sending...":"Send Message"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsx("h2",{className:"text-lg font-semibold text-love-dark mb-3",children:"Instant contact"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Reach us quickly using your favourite app."}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("a",{href:"https://wa.me/15551234567",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between px-4 py-3 rounded-xl border border-green-500 text-green-600 hover:bg-green-50 transition-colors",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-green-500 text-white",children:d.jsx(H4,{className:"h-4 w-4"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"WhatsApp"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Tap to open chat"})]})]})}),d.jsx("a",{href:"https://instagram.com/lovecraft_gifts",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between px-4 py-3 rounded-xl border border-pink-500 text-pink-600 hover:bg-pink-50 transition-colors",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-pink-500 text-white",children:d.jsx(hb,{className:"h-4 w-4"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Instagram DM"}),d.jsx("div",{className:"text-xs text-gray-500",children:"@lovecraft_gifts"})]})]})}),d.jsx("button",{className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-blue-500 text-blue-600 hover:bg-blue-50 transition-colors",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white",children:d.jsx(W4,{className:"h-4 w-4"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Live chat (coming soon)"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Chat with our support team"})]})]})})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsx("h2",{className:"text-lg font-semibold text-love-dark mb-3",children:"More ways to reach us"}),d.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[d.jsxs("a",{href:"mailto:support@lovecraft.com",className:"flex items-center space-x-3 hover:text-love-red transition-colors",children:[d.jsx(z4,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"support@lovecraft.com"})]}),d.jsxs("a",{href:"tel:+15551234567",className:"flex items-center space-x-3 hover:text-love-red transition-colors",children:[d.jsx(G4,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"+1 (555) 123-4567"})]})]})]})]})]})]})})}const xw=[{id:1,question:"How long will my Valentine's gift take to arrive?",answer:"Most Valentine's orders are prepared within 2448 hours and arrive in 35 business days with standard shipping. Express options are available at checkout for lastminute surprises."},{id:2,question:"Can I personalize my gift with names or a custom message?",answer:"Yes. Many of our gifts support custom engraving, names and personal messages. Look for the Personalize it options on the product page and add your details before checkout."},{id:3,question:"What if my partner is in another city or country?",answer:"We ship to most regions worldwide. Simply enter their address at checkout, and we'll show available delivery times and costs for their location."},{id:4,question:"Do you include the price inside the gift box?",answer:"Never. Our packages are romanceready with no price tags inside the box, so your partner only sees the love, not the receipt."},{id:5,question:"Can I track my order in real time?",answer:"Once your order ships, you receive an email with a live tracking link so you can follow your gift's journey from our studio to their doorstep."}];function t5(){var r;const[t,e]=N.useState(((r=xw[0])==null?void 0:r.id)??null);function n(s){e(i=>i===s?null:s)}return d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-10",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(B4,{className:"h-7 w-7"})}),d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-2",children:"Frequently Asked Questions"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Answers to the most common questions about gifting, delivery and making this Valentine's unforgettable."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,2fr)_minmax(0,1.2fr)] gap-8 items-start",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-love-pink/20 divide-y divide-gray-100",children:xw.map(s=>{const i=s.id===t;return d.jsxs("button",{type:"button",onClick:()=>n(s.id),className:`w-full text-left px-5 sm:px-6 py-4 sm:py-5 focus:outline-none transition-colors ${i?"bg-love-light/40":"bg-white hover:bg-love-light/20"}`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm uppercase tracking-wider text-love-red mb-1 hidden sm:block",children:s.id<10?`0${s.id}`:s.id}),d.jsx("h2",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:s.question})]}),d.jsx(Q.div,{initial:!1,animate:{rotate:i?180:0},transition:{duration:.2},className:"flex-shrink-0 mt-1 text-love-red",children:d.jsx(L4,{className:"h-5 w-5"})})]}),d.jsx(OS,{initial:!1,children:i&&d.jsx(Q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.jsx("p",{className:"mt-3 text-sm text-gray-600 leading-relaxed",children:s.answer})})})]},s.id)})}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-love-pink/20 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-love-dark mb-3",children:"Still can't find your answer?"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Our team is happy to help you choose the right gift, track an order, or create something uniquely romantic."}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(db,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"Ask us for personalized gift recommendations for your partner."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(pb,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"Get live help if you're unsure your gift will arrive in time."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hg,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"Learn about returns, exchanges and our happiness guarantee."})]})]}),d.jsx("a",{href:"mailto:support@lovecraft.com?subject=FAQ%20question",className:"inline-flex items-center justify-center mt-5 w-full px-4 py-3 rounded-xl bg-love-red text-white text-sm font-medium shadow-lg hover:bg-red-700 transition-colors",children:"Send us your question"})]})})]})]})})}function n5(){const[t,e]=N.useState(null),[n,r]=N.useState(null),[s,i]=N.useState("dance"),[o,a]=N.useState(!1),[u,c]=N.useState(!1),[h,f]=N.useState(!1),m=N.useRef(null),y=N.useRef(null),T=N.useRef(null);function _(w,C){const V=w.target.files&&w.target.files[0];if(!V)return;const M=new FileReader;M.onload=k=>{const E=k.target&&k.target.result;C(typeof E=="string"?E:null)},M.readAsDataURL(V)}async function I(){if(!t||!n){alert("Please upload both faces first");return}c(!0),a(!1),setTimeout(()=>{c(!1),a(!0)},800)}async function v(){if(!t||!n){alert("Please upload both faces first");return}if(!o){alert("Please create the video first");return}if(typeof window>"u")return;const w=T.current;if(!w)return;const C=w.getContext("2d");if(!C)return;if(typeof MediaRecorder>"u"||typeof w.captureStream!="function"){alert("Video download is not supported in this browser");return}f(!0);const V=w.captureStream(30),M=[],k=new MediaRecorder(V,{mimeType:"video/webm"});k.ondataavailable=W=>{W.data&&W.data.size>0&&M.push(W.data)};const E=new Promise(W=>{k.onstop=()=>{const O=new Blob(M,{type:"video/webm"}),H=URL.createObjectURL(O),q=document.createElement("a");q.href=H,q.download="love-video.webm",document.body.appendChild(q),q.click(),q.remove(),URL.revokeObjectURL(H),W()}}),S=new Image,P=new Image;S.src=t,P.src=n;function R(W){return new Promise((O,H)=>{if(W.complete&&W.naturalWidth){O();return}W.onload=()=>O(),W.onerror=()=>H(new Error("Failed to load image"))})}try{await Promise.all([R(S),R(P)])}catch{alert("Failed to load images for video"),f(!1),V.getTracks().forEach(W=>W.stop());return}const j=w.width,A=w.height,se=30,me=se*4;let de=0;function z(){const W=de/se,O=C.createLinearGradient(0,0,j,A);s==="dance"?(O.addColorStop(0,"#fee2e2"),O.addColorStop(1,"#f97373")):s==="hearts"?(O.addColorStop(0,"#ffe4e6"),O.addColorStop(1,"#fb7185")):(O.addColorStop(0,"#e0e7ff"),O.addColorStop(1,"#f9a8d4")),C.fillStyle=O,C.fillRect(0,0,j,A);const q=A/2,ee=j*.3,ie=j*.7,Se=Math.min(j,A)*.16;let Qe=ee,wt=ie,dr=q,xn=q,Kt=1,_t=1,ds=0,ni=0;if(s==="dance"){const Be=Math.sin(W*Math.PI*2);dr=q+Be*-20,xn=q+Be*20,ds=Be*-.25,ni=Be*.25}else if(s==="hearts"){const Be=Math.sin(W*Math.PI*2);dr=q+Be*-25,xn=q+Be*25,Qe=ee+Be*-j*.03,wt=ie+Be*j*.03}else if(s==="zoom"){const Be=Math.sin(W*Math.PI*2),hr=1+.08*Be;Kt=hr,_t=hr,dr=q+Be*-10,xn=q+Math.sin(W*Math.PI*2+Math.PI)*10}function ri(Be,hr,dl,gd,hl){const wn=Se*gd;C.save(),C.translate(hr,dl),C.rotate(hl),C.beginPath(),C.arc(0,0,wn,0,Math.PI*2),C.closePath(),C.clip(),C.drawImage(Be,-wn,-wn,wn*2,wn*2),C.restore(),C.save(),C.translate(hr,dl),C.beginPath(),C.arc(0,0,wn+8,0,Math.PI*2),C.strokeStyle="rgba(255,255,255,0.9)",C.lineWidth=6,C.stroke(),C.restore()}ri(S,Qe,dr,Kt,ds),ri(P,wt,xn,_t,ni),C.font="bold 32px system-ui",C.fillStyle="rgba(255,255,255,0.95)",C.textAlign="center",s==="dance"?C.fillText("Dance of Love",j/2,A-40):s==="hearts"?C.fillText("Love Vibes",j/2,A-40):C.fillText("Zoom in Love",j/2,A-40),de+=1,de<me?requestAnimationFrame(z):(k.stop(),V.getTracks().forEach(Be=>Be.stop()))}k.start(),z(),await E,f(!1)}const x=s==="dance"?"from-pink-100 to-red-200":s==="hearts"?"from-rose-100 to-pink-200":"from-indigo-100 to-pink-100";return d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-6",children:"Create a Funny Love Video"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Upload two faces and generate a short, looping fun scene."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-love-pink/20",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add your faces (optional)"})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{type:"button",onClick:()=>m.current&&m.current.click(),className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-xs font-medium text-gray-700 hover:border-love-red hover:text-love-red transition-colors",children:"Upload you"}),d.jsx("input",{ref:m,type:"file",accept:"image/*",className:"hidden",onChange:w=>_(w,e)}),t&&d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:t,alt:"You",className:"w-16 h-16 rounded-full object-cover border border-love-pink/50"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{type:"button",onClick:()=>y.current&&y.current.click(),className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-xs font-medium text-gray-700 hover:border-love-red hover:text-love-red transition-colors",children:"Upload partner"}),d.jsx("input",{ref:y,type:"file",accept:"image/*",className:"hidden",onChange:w=>_(w,r)}),n&&d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:n,alt:"Partner",className:"w-16 h-16 rounded-full object-cover border border-love-pink/50"})})]})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Funny video type"})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{type:"button",onClick:()=>i("dance"),className:`px-3 py-2 rounded-full text-xs font-medium border transition-colors ${s==="dance"?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-200 hover:border-love-red/60"}`,children:"Dance"}),d.jsx("button",{type:"button",onClick:()=>i("hearts"),className:`px-3 py-2 rounded-full text-xs font-medium border transition-colors ${s==="hearts"?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-200 hover:border-love-red/60"}`,children:"Hearts"}),d.jsx("button",{type:"button",onClick:()=>i("zoom"),className:`px-3 py-2 rounded-full text-xs font-medium border transition-colors ${s==="zoom"?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-200 hover:border-love-red/60"}`,children:"Zoom"})]})]}),d.jsx("button",{type:"button",onClick:I,className:"w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg disabled:opacity-60 disabled:cursor-not-allowed",disabled:u,children:u?"Creating...":"Create video"})]})}),d.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-6 rounded-2xl shadow-lg border border-love-pink/20 flex items-center justify-center",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsx("h2",{className:"text-3xl font-cursive text-love-dark mb-4 text-center",children:"Preview"}),d.jsxs("div",{className:`relative w-full aspect-video rounded-2xl overflow-hidden shadow-lg bg-gradient-to-br ${x}`,children:[!o&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-700 px-6",children:[d.jsx("div",{className:"text-5xl mb-3",children:""}),d.jsxs("p",{className:"text-sm",children:["Upload two faces and click ",d.jsx("span",{className:"font-semibold",children:"Create video"})," to see them in a fun scene."]})]}),o&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"relative w-full h-full",children:[t&&d.jsx(Q.img,{src:t,alt:"You video",className:"absolute w-24 h-24 md:w-28 md:h-28 rounded-full object-cover border-4 border-white shadow-lg",initial:{x:-80,y:0,rotate:0},animate:s==="dance"?{y:[-10,10,-10],rotate:[-8,8,-8]}:s==="hearts"?{y:[0,-20,0],x:[-20,0,20]}:{scale:[1,1.1,1],y:[-6,6,-6]},transition:{duration:1.6,repeat:1/0,repeatType:"reverse"},style:{left:"18%",top:"50%",transform:"translate(-50%, -50%)"}}),n&&d.jsx(Q.img,{src:n,alt:"Partner video",className:"absolute w-24 h-24 md:w-28 md:h-28 rounded-full object-cover border-4 border-white shadow-lg",initial:{x:80,y:0,rotate:0},animate:s==="dance"?{y:[10,-10,10],rotate:[8,-8,8]}:s==="hearts"?{y:[-10,10,-10],x:[20,0,-20]}:{scale:[1.1,1,1.1],y:[6,-6,6]},transition:{duration:1.6,repeat:1/0,repeatType:"reverse"},style:{right:"18%",top:"50%",transform:"translate(50%, -50%)"}}),s==="dance"&&d.jsxs(Q.div,{className:"absolute inset-x-0 bottom-8 flex items-center justify-center text-3xl",animate:{scale:[1,1.2,1]},transition:{duration:1.4,repeat:1/0,repeatType:"reverse"},children:[d.jsx("span",{className:"mx-1",children:""}),d.jsx("span",{className:"mx-1",children:""}),d.jsx("span",{className:"mx-1",children:""})]}),s==="hearts"&&d.jsxs(d.Fragment,{children:[d.jsx(Q.div,{className:"absolute left-6 bottom-6 text-4xl",animate:{y:[0,-12,0]},transition:{duration:1.8,repeat:1/0,repeatType:"reverse"},children:""}),d.jsx(Q.div,{className:"absolute right-6 top-6 text-4xl",animate:{y:[-8,8,-8]},transition:{duration:1.8,repeat:1/0,repeatType:"reverse"},children:""})]}),s==="zoom"&&d.jsx(Q.div,{className:"absolute inset-0 flex items-center justify-center text-4xl text-white/90",animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:""})]})})]}),o&&d.jsx("div",{className:"mt-4 flex justify-center",children:d.jsxs("button",{type:"button",onClick:v,disabled:h,className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-love-red text-white font-medium shadow-md hover:bg-red-700 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[d.jsx(cb,{className:"h-5 w-5"}),d.jsx("span",{children:h?"Preparing video...":"Download video"})]})})]})})]})]}),d.jsx("canvas",{ref:T,width:640,height:360,className:"hidden"})]})}function r5(){return d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-10",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(Q4,{className:"h-7 w-7"})}),d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-2",children:"Returns & Exchanges"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"If something isn't quite perfect with your LoveCraft order, we'll help you make it right with a simple, friendly returns process."})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-love-pink/20 p-6 sm:p-8 space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-love-dark mb-2",children:"Return window"}),d.jsxs("p",{className:"text-sm text-gray-600",children:["You can request a return or exchange within ",d.jsx("span",{className:"font-semibold",children:"14 days"})," of delivery for most nonpersonalized items, as long as they are unused and in their original packaging."]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 text-love-dark font-semibold",children:[d.jsx(hg,{className:"h-5 w-5 text-love-red"}),d.jsx("span",{children:"Eligible items"})]}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[d.jsx("li",{children:"Standard gifts in new, unused condition"}),d.jsx("li",{children:"Items damaged in transit (with photo proof)"}),d.jsx("li",{children:"Wrong item received compared to your order"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 text-love-dark font-semibold",children:[d.jsx(Y4,{className:"h-5 w-5 text-love-red"}),d.jsx("span",{children:"Not usually returnable"})]}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[d.jsx("li",{children:"Fully personalized items with names, dates or custom messages"}),d.jsx("li",{children:"Digital products or instant downloads"}),d.jsx("li",{children:"Items clearly used or damaged after delivery"})]})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-love-dark mb-2",children:"How to request a return"}),d.jsxs("ol",{className:"text-sm text-gray-600 space-y-2 list-decimal list-inside",children:[d.jsx("li",{children:"Have your order number and the email used at checkout ready."}),d.jsxs("li",{children:["Contact our support team via the"," ",d.jsx("a",{href:"/contact",className:"text-love-red hover:underline",children:"contact page"})," ","or email ",d.jsx("span",{className:"font-mono text-gray-700",children:"support@lovecraft.com"}),"."]}),d.jsx("li",{children:"Share a short description and, if applicable, photos of the issue."}),d.jsx("li",{children:"We'll reply with simple instructions and the next steps for your case."})]})]}),d.jsx("div",{className:"border-t border-love-pink/20 pt-4 text-xs text-gray-500",children:d.jsx("p",{children:"Note: This is a demo store returns policy for Valentine's gifting scenarios. In a real store, always review the detailed legal policy at checkout."})})]})]})})}function s5(){const t=[...Array(15)].map((e,n)=>({id:n,left:`${Math.random()*100}%`,animationDuration:`${Math.random()*10+10}s`,delay:`${Math.random()*5}s`,scale:Math.random()*.5+.5}));return d.jsx("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:t.map(e=>d.jsx(Q.div,{initial:{y:"110vh",opacity:0},animate:{y:"-10vh",opacity:[0,.8,0],x:[0,Math.random()*100-50,0]},transition:{duration:parseFloat(e.animationDuration),repeat:1/0,delay:parseFloat(e.delay),ease:"linear"},style:{left:e.left,position:"absolute"},children:d.jsx($t,{className:"text-love-pink/30 fill-current",style:{width:`${e.scale*40}px`,height:`${e.scale*40}px`}})},e.id))})}function i5(){const t=N.useMemo(()=>{const e=new Set(As.map(n=>n.category));return Array.from(e).sort()},[]);return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("h1",{className:"text-3xl sm:text-4xl font-cursive text-love-dark",children:"Browse by Category"}),d.jsx("p",{className:"mt-2 text-gray-600 text-sm sm:text-base",children:"Pick a category to see gifts tailored to that theme."})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 sm:gap-6",children:t.map(e=>d.jsxs(oe,{to:`/products?category=${encodeURIComponent(e)}`,className:"group bg-white border border-love-pink/20 rounded-xl p-3 sm:p-4 shadow-sm hover:shadow-md transition-all flex flex-col items-center justify-center text-center",children:[d.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-love-light flex items-center justify-center mb-2 group-hover:bg-love-red/10",children:d.jsx("span",{className:"text-lg sm:text-xl text-love-red",children:""})}),d.jsx("div",{className:"text-sm sm:text-base font-medium text-love-dark group-hover:text-love-red",children:e})]},e))})]})}function ww({children:t}){const{currentUser:e}=vn();return e?t:d.jsx(NC,{to:"/login"})}function o5(){return d.jsx(R4,{children:d.jsx(j4,{children:d.jsxs("div",{className:"min-h-screen bg-love-light/10 flex flex-col relative",children:[d.jsx(s5,{}),d.jsx(y3,{}),d.jsx("main",{className:"flex-grow",children:d.jsxs(jC,{children:[d.jsx(et,{path:"/",element:d.jsx(_3,{})}),d.jsx(et,{path:"/products",element:d.jsx(P3,{})}),d.jsx(et,{path:"/products/:id",element:d.jsx(C3,{})}),d.jsx(et,{path:"/categories",element:d.jsx(i5,{})}),d.jsx(et,{path:"/cart",element:d.jsx(A3,{})}),d.jsx(et,{path:"/checkout",element:d.jsx(R3,{})}),d.jsx(et,{path:"/order-success",element:d.jsx(K3,{})}),d.jsx(et,{path:"/login",element:d.jsx(Q3,{})}),d.jsx(et,{path:"/signup",element:d.jsx(Y3,{})}),d.jsx(et,{path:"/reset-password",element:d.jsx(X3,{})}),d.jsx(et,{path:"/contact",element:d.jsx(e5,{})}),d.jsx(et,{path:"/faq",element:d.jsx(t5,{})}),d.jsx(et,{path:"/wish",element:d.jsx(n5,{})}),d.jsx(et,{path:"/returns",element:d.jsx(r5,{})}),d.jsx(et,{path:"/admin",element:d.jsx(ww,{children:d.jsx(J3,{})})}),d.jsx(et,{path:"/profile",element:d.jsx(ww,{children:d.jsx(Z3,{})})})]})}),d.jsx(x3,{})]})})})}Mh.createRoot(document.getElementById("root")).render(d.jsx(Qr.StrictMode,{children:d.jsx(BC,{children:d.jsx(o5,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
