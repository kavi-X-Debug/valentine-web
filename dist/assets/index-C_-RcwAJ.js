function ub(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function cb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x_={exports:{}},Tc={},__={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),db=Symbol.for("react.portal"),hb=Symbol.for("react.fragment"),fb=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),vb=Symbol.for("react.suspense"),xb=Symbol.for("react.memo"),_b=Symbol.for("react.lazy"),jy=Symbol.iterator;function wb(t){return t===null||typeof t!="object"?null:(t=jy&&t[jy]||t["@@iterator"],typeof t=="function"?t:null)}var w_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,T_={};function no(t,e,n){this.props=t,this.context=e,this.refs=T_,this.updater=n||w_}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S_(){}S_.prototype=no.prototype;function pp(t,e,n){this.props=t,this.context=e,this.refs=T_,this.updater=n||w_}var mp=pp.prototype=new S_;mp.constructor=pp;E_(mp,no.prototype);mp.isPureReactComponent=!0;var Dy=Array.isArray,I_=Object.prototype.hasOwnProperty,gp={current:null},b_={key:!0,ref:!0,__self:!0,__source:!0};function P_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)I_.call(e,r)&&!b_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ba,type:t,key:i,ref:o,props:s,_owner:gp.current}}function Eb(t,e){return{$$typeof:Ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ba}function Tb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vy=/\/+/g;function jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tb(""+t.key):e.toString(36)}function tu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ba:case db:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+jd(o,0):r,Dy(s)?(n="",t!=null&&(n=t.replace(Vy,"$&/")+"/"),tu(s,e,n,"",function(c){return c})):s!=null&&(yp(s)&&(s=Eb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Dy(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+jd(i,a);o+=tu(i,e,n,u,s)}else if(u=wb(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+jd(i,a++),o+=tu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cl(t,e,n){if(t==null)return t;var r=[],s=0;return tu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Sb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},nu={transition:null},Ib={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:nu,ReactCurrentOwner:gp};function C_(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Cl,forEach:function(t,e,n){Cl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cl(t,function(){e++}),e},toArray:function(t){return Cl(t,function(e){return e})||[]},only:function(t){if(!yp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=no;ae.Fragment=hb;ae.Profiler=pb;ae.PureComponent=pp;ae.StrictMode=fb;ae.Suspense=vb;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ib;ae.act=C_;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=gp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)I_.call(e,u)&&!b_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ba,type:t.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:gb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mb,_context:t},t.Consumer=t};ae.createElement=P_;ae.createFactory=function(t){var e=P_.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:yb,render:t}};ae.isValidElement=yp;ae.lazy=function(t){return{$$typeof:_b,_payload:{_status:-1,_result:t},_init:Sb}};ae.memo=function(t,e){return{$$typeof:xb,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=nu.transition;nu.transition={};try{t()}finally{nu.transition=e}};ae.unstable_act=C_;ae.useCallback=function(t,e){return Pt.current.useCallback(t,e)};ae.useContext=function(t){return Pt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Pt.current.useEffect(t,e)};ae.useId=function(){return Pt.current.useId()};ae.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Pt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};ae.useRef=function(t){return Pt.current.useRef(t)};ae.useState=function(t){return Pt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Pt.current.useTransition()};ae.version="18.3.1";__.exports=ae;var j=__.exports;const Qr=cb(j),bb=ub({__proto__:null,default:Qr},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=j,Cb=Symbol.for("react.element"),kb=Symbol.for("react.fragment"),Ab=Object.prototype.hasOwnProperty,Rb=Pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nb={key:!0,ref:!0,__self:!0,__source:!0};function k_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ab.call(e,r)&&!Nb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Cb,type:t,key:i,ref:o,props:s,_owner:Rb.current}}Tc.Fragment=kb;Tc.jsx=k_;Tc.jsxs=k_;x_.exports=Tc;var d=x_.exports,Vh={},A_={exports:{}},Wt={},R_={exports:{}},N_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,H){var K=z.length;z.push(H);e:for(;0<K;){var M=K-1>>>1,W=z[M];if(0<s(W,H))z[M]=H,z[K]=W,K=M;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],K=z.pop();if(K!==H){z[0]=K;e:for(var M=0,W=z.length,J=W>>>1;M<J;){var ce=2*(M+1)-1,se=z[ce],_e=ce+1,_t=z[_e];if(0>s(se,K))_e<W&&0>s(_t,se)?(z[M]=_t,z[_e]=K,M=_e):(z[M]=se,z[ce]=K,M=ce);else if(_e<W&&0>s(_t,K))z[M]=_t,z[_e]=K,M=_e;else break e}}return H}function s(z,H){var K=z.sortIndex-H.sortIndex;return K!==0?K:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,m=3,v=!1,w=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=z)r(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(c)}}function k(z){if(T=!1,_(z),!w)if(n(u)!==null)w=!0,ge(V);else{var H=n(c);H!==null&&he(k,H.startTime-z)}}function V(z,H){w=!1,T&&(T=!1,y(E),E=-1),v=!0;var K=m;try{for(_(H),f=n(u);f!==null&&(!(f.expirationTime>H)||z&&!R());){var M=f.callback;if(typeof M=="function"){f.callback=null,m=f.priorityLevel;var W=M(f.expirationTime<=H);H=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(u)&&r(u),_(H)}else r(u);f=n(u)}if(f!==null)var J=!0;else{var ce=n(c);ce!==null&&he(k,ce.startTime-H),J=!1}return J}finally{f=null,m=K,v=!1}}var L=!1,P=null,E=-1,I=5,C=-1;function R(){return!(t.unstable_now()-C<I)}function N(){if(P!==null){var z=t.unstable_now();C=z;var H=!0;try{H=P(!0,z)}finally{H?A():(L=!1,P=null)}}else L=!1}var A;if(typeof x=="function")A=function(){x(N)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Oe=ie.port2;ie.port1.onmessage=N,A=function(){Oe.postMessage(null)}}else A=function(){b(N,0)};function ge(z){P=z,L||(L=!0,A())}function he(z,H){E=b(function(){z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,ge(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var K=m;m=H;try{return z()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=m;m=z;try{return H()}finally{m=K}},t.unstable_scheduleCallback=function(z,H,K){var M=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?M+K:M):K=M,z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,z={id:h++,callback:H,priorityLevel:z,startTime:K,expirationTime:W,sortIndex:-1},K>M?(z.sortIndex=K,e(c,z),n(u)===null&&z===n(c)&&(T?(y(E),E=-1):T=!0,he(k,K-M))):(z.sortIndex=W,e(u,z),w||v||(w=!0,ge(V))),z},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(z){var H=m;return function(){var K=m;m=H;try{return z.apply(this,arguments)}finally{m=K}}}})(N_);R_.exports=N_;var jb=R_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=j,$t=jb;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j_=new Set,ha={};function qs(t,e){Oi(t,e),Oi(t+"Capture",e)}function Oi(t,e){for(ha[t]=e,t=0;t<e.length;t++)j_.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=Object.prototype.hasOwnProperty,Vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,My={},Oy={};function Mb(t){return Mh.call(Oy,t)?!0:Mh.call(My,t)?!1:Vb.test(t)?Oy[t]=!0:(My[t]=!0,!1)}function Ob(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lb(t,e,n,r){if(e===null||typeof e>"u"||Ob(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var vp=/[\-:]([a-z])/g;function xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vp,xp);ot[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vp,xp);ot[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vp,xp);ot[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function _p(t,e,n,r){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lb(e,n,s,r)&&(n=null),r||s===null?Mb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),di=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),D_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Fh=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),M_=Symbol.for("react.offscreen"),Ly=Symbol.iterator;function bo(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Dd;function Oo(t){if(Dd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dd=e&&e[1]||""}return`
`+Dd+t}var Vd=!1;function Md(t,e){if(!t||Vd)return"";Vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Vd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oo(t):""}function Fb(t){switch(t.tag){case 5:return Oo(t.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return t=Md(t.type,!1),t;case 11:return t=Md(t.type.render,!1),t;case 1:return t=Md(t.type,!0),t;default:return""}}function Uh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hi:return"Fragment";case di:return"Portal";case Oh:return"Profiler";case wp:return"StrictMode";case Lh:return"Suspense";case Fh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V_:return(t.displayName||"Context")+".Consumer";case D_:return(t._context.displayName||"Context")+".Provider";case Ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tp:return e=t.displayName||null,e!==null?e:Uh(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return Uh(t(e))}catch{}}return null}function Ub(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uh(e);case 8:return e===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bb(t){var e=O_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Al(t){t._valueTracker||(t._valueTracker=Bb(t))}function L_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bh(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F_(t,e){e=e.checked,e!=null&&_p(t,"checked",e,!1)}function zh(t,e){F_(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$h(t,e.type,n):e.hasOwnProperty("defaultValue")&&$h(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $h(t,e,n){(e!=="number"||Iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lo=Array.isArray;function Pi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function By(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Lo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function U_(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,z_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zb=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(t){zb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Go[e]=Go[t]})});function $_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Go.hasOwnProperty(t)&&Go[t]?(""+e).trim():e+"px"}function H_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $b=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qh(t,e){if(e){if($b[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=null;function Sp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qh=null,Ci=null,ki=null;function $y(t){if(t=Ha(t)){if(typeof Qh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Cc(e),Qh(t.stateNode,t.type,e))}}function W_(t){Ci?ki?ki.push(t):ki=[t]:Ci=t}function q_(){if(Ci){var t=Ci,e=ki;if(ki=Ci=null,$y(t),e)for(t=0;t<e.length;t++)$y(e[t])}}function G_(t,e){return t(e)}function K_(){}var Od=!1;function Q_(t,e,n){if(Od)return t(e,n);Od=!0;try{return G_(t,e,n)}finally{Od=!1,(Ci!==null||ki!==null)&&(K_(),q_())}}function pa(t,e){var n=t.stateNode;if(n===null)return null;var r=Cc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Yh=!1;if(Jn)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Yh=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Yh=!1}function Hb(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ko=!1,bu=null,Pu=!1,Xh=null,Wb={onError:function(t){Ko=!0,bu=t}};function qb(t,e,n,r,s,i,o,a,u){Ko=!1,bu=null,Hb.apply(Wb,arguments)}function Gb(t,e,n,r,s,i,o,a,u){if(qb.apply(this,arguments),Ko){if(Ko){var c=bu;Ko=!1,bu=null}else throw Error(B(198));Pu||(Pu=!0,Xh=c)}}function Gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hy(t){if(Gs(t)!==t)throw Error(B(188))}function Kb(t){var e=t.alternate;if(!e){if(e=Gs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Hy(s),t;if(i===r)return Hy(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function X_(t){return t=Kb(t),t!==null?J_(t):null}function J_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J_(t);if(e!==null)return e;t=t.sibling}return null}var Z_=$t.unstable_scheduleCallback,Wy=$t.unstable_cancelCallback,Qb=$t.unstable_shouldYield,Yb=$t.unstable_requestPaint,Fe=$t.unstable_now,Xb=$t.unstable_getCurrentPriorityLevel,Ip=$t.unstable_ImmediatePriority,ew=$t.unstable_UserBlockingPriority,Cu=$t.unstable_NormalPriority,Jb=$t.unstable_LowPriority,tw=$t.unstable_IdlePriority,Sc=null,Sn=null;function Zb(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Sc,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:nP,eP=Math.log,tP=Math.LN2;function nP(t){return t>>>=0,t===0?32:31-(eP(t)/tP|0)|0}var Nl=64,jl=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Fo(a):(i&=o,i!==0&&(r=Fo(i)))}else o=n&~s,o!==0?r=Fo(o):i!==0&&(r=Fo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),s=1<<n,r|=t[n],e&=~s;return r}function rP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=rP(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Jh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nw(){var t=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),t}function Ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function iP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function bp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ye=0;function rw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sw,Pp,iw,ow,aw,Zh=!1,Dl=[],jr=null,Dr=null,Vr=null,ma=new Map,ga=new Map,Sr=[],oP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qy(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ma.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(e.pointerId)}}function Co(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ha(e),e!==null&&Pp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aP(t,e,n,r,s){switch(e){case"focusin":return jr=Co(jr,t,e,n,r,s),!0;case"dragenter":return Dr=Co(Dr,t,e,n,r,s),!0;case"mouseover":return Vr=Co(Vr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ma.set(i,Co(ma.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ga.set(i,Co(ga.get(i)||null,t,e,n,r,s)),!0}return!1}function lw(t){var e=Ts(t.target);if(e!==null){var n=Gs(e);if(n!==null){if(e=n.tag,e===13){if(e=Y_(n),e!==null){t.blockedOn=e,aw(t.priority,function(){iw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ef(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kh=r,n.target.dispatchEvent(r),Kh=null}else return e=Ha(n),e!==null&&Pp(e),t.blockedOn=n,!1;e.shift()}return!0}function Gy(t,e,n){ru(t)&&n.delete(e)}function lP(){Zh=!1,jr!==null&&ru(jr)&&(jr=null),Dr!==null&&ru(Dr)&&(Dr=null),Vr!==null&&ru(Vr)&&(Vr=null),ma.forEach(Gy),ga.forEach(Gy)}function ko(t,e){t.blockedOn===e&&(t.blockedOn=null,Zh||(Zh=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,lP)))}function ya(t){function e(s){return ko(s,t)}if(0<Dl.length){ko(Dl[0],t);for(var n=1;n<Dl.length;n++){var r=Dl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jr!==null&&ko(jr,t),Dr!==null&&ko(Dr,t),Vr!==null&&ko(Vr,t),ma.forEach(e),ga.forEach(e),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)lw(n),n.blockedOn===null&&Sr.shift()}var Ai=ar.ReactCurrentBatchConfig,Au=!0;function uP(t,e,n,r){var s=ye,i=Ai.transition;Ai.transition=null;try{ye=1,Cp(t,e,n,r)}finally{ye=s,Ai.transition=i}}function cP(t,e,n,r){var s=ye,i=Ai.transition;Ai.transition=null;try{ye=4,Cp(t,e,n,r)}finally{ye=s,Ai.transition=i}}function Cp(t,e,n,r){if(Au){var s=ef(t,e,n,r);if(s===null)Kd(t,e,r,Ru,n),qy(t,r);else if(aP(s,t,e,n,r))r.stopPropagation();else if(qy(t,r),e&4&&-1<oP.indexOf(t)){for(;s!==null;){var i=Ha(s);if(i!==null&&sw(i),i=ef(t,e,n,r),i===null&&Kd(t,e,r,Ru,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Kd(t,e,r,null,n)}}var Ru=null;function ef(t,e,n,r){if(Ru=null,t=Sp(r),t=Ts(t),t!==null)if(e=Gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ru=t,null}function uw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xb()){case Ip:return 1;case ew:return 4;case Cu:case Jb:return 16;case tw:return 536870912;default:return 16}default:return 16}}var kr=null,kp=null,su=null;function cw(){if(su)return su;var t,e=kp,n=e.length,r,s="value"in kr?kr.value:kr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return su=s.slice(t,1<r?1-r:void 0)}function iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vl(){return!0}function Ky(){return!1}function qt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vl:Ky,this.isPropagationStopped=Ky,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ap=qt(ro),$a=Ne({},ro,{view:0,detail:0}),dP=qt($a),Fd,Ud,Ao,Ic=Ne({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(Fd=t.screenX-Ao.screenX,Ud=t.screenY-Ao.screenY):Ud=Fd=0,Ao=t),Fd)},movementY:function(t){return"movementY"in t?t.movementY:Ud}}),Qy=qt(Ic),hP=Ne({},Ic,{dataTransfer:0}),fP=qt(hP),pP=Ne({},$a,{relatedTarget:0}),Bd=qt(pP),mP=Ne({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),gP=qt(mP),yP=Ne({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vP=qt(yP),xP=Ne({},ro,{data:0}),Yy=qt(xP),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EP[t])?!!e[t]:!1}function Rp(){return TP}var SP=Ne({},$a,{key:function(t){if(t.key){var e=_P[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(t){return t.type==="keypress"?iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IP=qt(SP),bP=Ne({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=qt(bP),PP=Ne({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),CP=qt(PP),kP=Ne({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),AP=qt(kP),RP=Ne({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NP=qt(RP),jP=[9,13,27,32],Np=Jn&&"CompositionEvent"in window,Qo=null;Jn&&"documentMode"in document&&(Qo=document.documentMode);var DP=Jn&&"TextEvent"in window&&!Qo,dw=Jn&&(!Np||Qo&&8<Qo&&11>=Qo),Jy=" ",Zy=!1;function hw(t,e){switch(t){case"keyup":return jP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fi=!1;function VP(t,e){switch(t){case"compositionend":return fw(e);case"keypress":return e.which!==32?null:(Zy=!0,Jy);case"textInput":return t=e.data,t===Jy&&Zy?null:t;default:return null}}function MP(t,e){if(fi)return t==="compositionend"||!Np&&hw(t,e)?(t=cw(),su=kp=kr=null,fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dw&&e.locale!=="ko"?null:e.data;default:return null}}var OP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OP[t.type]:e==="textarea"}function pw(t,e,n,r){W_(r),e=Nu(e,"onChange"),0<e.length&&(n=new Ap("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yo=null,va=null;function LP(t){Iw(t,0)}function bc(t){var e=gi(t);if(L_(e))return t}function FP(t,e){if(t==="change")return e}var mw=!1;if(Jn){var zd;if(Jn){var $d="oninput"in document;if(!$d){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),$d=typeof tv.oninput=="function"}zd=$d}else zd=!1;mw=zd&&(!document.documentMode||9<document.documentMode)}function nv(){Yo&&(Yo.detachEvent("onpropertychange",gw),va=Yo=null)}function gw(t){if(t.propertyName==="value"&&bc(va)){var e=[];pw(e,va,t,Sp(t)),Q_(LP,e)}}function UP(t,e,n){t==="focusin"?(nv(),Yo=e,va=n,Yo.attachEvent("onpropertychange",gw)):t==="focusout"&&nv()}function BP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bc(va)}function zP(t,e){if(t==="click")return bc(e)}function $P(t,e){if(t==="input"||t==="change")return bc(e)}function HP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:HP;function xa(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mh.call(e,s)||!yn(t[s],e[s]))return!1}return!0}function rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sv(t,e){var n=rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rv(n)}}function yw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vw(){for(var t=window,e=Iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Iu(t.document)}return e}function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WP(t){var e=vw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yw(n.ownerDocument.documentElement,n)){if(r!==null&&jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=sv(n,i);var o=sv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qP=Jn&&"documentMode"in document&&11>=document.documentMode,pi=null,tf=null,Xo=null,nf=!1;function iv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nf||pi==null||pi!==Iu(r)||(r=pi,"selectionStart"in r&&jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xo&&xa(Xo,r)||(Xo=r,r=Nu(tf,"onSelect"),0<r.length&&(e=new Ap("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pi)))}function Ml(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mi={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},Hd={},xw={};Jn&&(xw=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Pc(t){if(Hd[t])return Hd[t];if(!mi[t])return t;var e=mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xw)return Hd[t]=e[n];return t}var _w=Pc("animationend"),ww=Pc("animationiteration"),Ew=Pc("animationstart"),Tw=Pc("transitionend"),Sw=new Map,ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){Sw.set(t,e),qs(e,[t])}for(var Wd=0;Wd<ov.length;Wd++){var qd=ov[Wd],GP=qd.toLowerCase(),KP=qd[0].toUpperCase()+qd.slice(1);is(GP,"on"+KP)}is(_w,"onAnimationEnd");is(ww,"onAnimationIteration");is(Ew,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(Tw,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Gb(r,e,void 0,t),t.currentTarget=null}function Iw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;av(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;av(s,a,c),i=u}}}if(Pu)throw t=Xh,Pu=!1,Xh=null,t}function Ie(t,e){var n=e[lf];n===void 0&&(n=e[lf]=new Set);var r=t+"__bubble";n.has(r)||(bw(e,t,2,!1),n.add(r))}function Gd(t,e,n){var r=0;e&&(r|=4),bw(n,t,r,e)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function _a(t){if(!t[Ol]){t[Ol]=!0,j_.forEach(function(n){n!=="selectionchange"&&(QP.has(n)||Gd(n,!1,t),Gd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ol]||(e[Ol]=!0,Gd("selectionchange",!1,e))}}function bw(t,e,n,r){switch(uw(e)){case 1:var s=uP;break;case 4:s=cP;break;default:s=Cp}n=s.bind(null,e,n,t),s=void 0,!Yh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Kd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Q_(function(){var c=i,h=Sp(n),f=[];e:{var m=Sw.get(t);if(m!==void 0){var v=Ap,w=t;switch(t){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":v=IP;break;case"focusin":w="focus",v=Bd;break;case"focusout":w="blur",v=Bd;break;case"beforeblur":case"afterblur":v=Bd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=CP;break;case _w:case ww:case Ew:v=gP;break;case Tw:v=AP;break;case"scroll":v=dP;break;case"wheel":v=NP;break;case"copy":case"cut":case"paste":v=vP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Xy}var T=(e&4)!==0,b=!T&&t==="scroll",y=T?m!==null?m+"Capture":null:m;T=[];for(var x=c,_;x!==null;){_=x;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,y!==null&&(k=pa(x,y),k!=null&&T.push(wa(x,k,_)))),b)break;x=x.return}0<T.length&&(m=new v(m,w,null,n,h),f.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Kh&&(w=n.relatedTarget||n.fromElement)&&(Ts(w)||w[Zn]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?Ts(w):null,w!==null&&(b=Gs(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(T=Qy,k="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(T=Xy,k="onPointerLeave",y="onPointerEnter",x="pointer"),b=v==null?m:gi(v),_=w==null?m:gi(w),m=new T(k,x+"leave",v,n,h),m.target=b,m.relatedTarget=_,k=null,Ts(h)===c&&(T=new T(y,x+"enter",w,n,h),T.target=_,T.relatedTarget=b,k=T),b=k,v&&w)t:{for(T=v,y=w,x=0,_=T;_;_=ai(_))x++;for(_=0,k=y;k;k=ai(k))_++;for(;0<x-_;)T=ai(T),x--;for(;0<_-x;)y=ai(y),_--;for(;x--;){if(T===y||y!==null&&T===y.alternate)break t;T=ai(T),y=ai(y)}T=null}else T=null;v!==null&&lv(f,m,v,T,!1),w!==null&&b!==null&&lv(f,b,w,T,!0)}}e:{if(m=c?gi(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var V=FP;else if(ev(m))if(mw)V=$P;else{V=BP;var L=UP}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=zP);if(V&&(V=V(t,c))){pw(f,V,n,h);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&$h(m,"number",m.value)}switch(L=c?gi(c):window,t){case"focusin":(ev(L)||L.contentEditable==="true")&&(pi=L,tf=c,Xo=null);break;case"focusout":Xo=tf=pi=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,iv(f,n,h);break;case"selectionchange":if(qP)break;case"keydown":case"keyup":iv(f,n,h)}var P;if(Np)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else fi?hw(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(dw&&n.locale!=="ko"&&(fi||E!=="onCompositionStart"?E==="onCompositionEnd"&&fi&&(P=cw()):(kr=h,kp="value"in kr?kr.value:kr.textContent,fi=!0)),L=Nu(c,E),0<L.length&&(E=new Yy(E,t,null,n,h),f.push({event:E,listeners:L}),P?E.data=P:(P=fw(n),P!==null&&(E.data=P)))),(P=DP?VP(t,n):MP(t,n))&&(c=Nu(c,"onBeforeInput"),0<c.length&&(h=new Yy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=P))}Iw(f,e)})}function wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pa(t,n),i!=null&&r.unshift(wa(t,i,s)),i=pa(t,e),i!=null&&r.push(wa(t,i,s))),t=t.return}return r}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=pa(n,i),u!=null&&o.unshift(wa(n,u,a))):s||(u=pa(n,i),u!=null&&o.push(wa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YP=/\r\n?/g,XP=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(YP,`
`).replace(XP,"")}function Ll(t,e,n){if(e=uv(e),uv(t)!==e&&n)throw Error(B(425))}function ju(){}var rf=null,sf=null;function of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var af=typeof setTimeout=="function"?setTimeout:void 0,JP=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,ZP=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(t){return cv.resolve(null).then(t).catch(eC)}:af;function eC(t){setTimeout(function(){throw t})}function Qd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ya(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var so=Math.random().toString(36).slice(2),Tn="__reactFiber$"+so,Ea="__reactProps$"+so,Zn="__reactContainer$"+so,lf="__reactEvents$"+so,tC="__reactListeners$"+so,nC="__reactHandles$"+so;function Ts(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dv(t);t!==null;){if(n=t[Tn])return n;t=dv(t)}return e}t=n,n=t.parentNode}return null}function Ha(t){return t=t[Tn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Cc(t){return t[Ea]||null}var uf=[],yi=-1;function os(t){return{current:t}}function be(t){0>yi||(t.current=uf[yi],uf[yi]=null,yi--)}function Ee(t,e){yi++,uf[yi]=t.current,t.current=e}var Xr={},vt=os(Xr),Nt=os(!1),Ds=Xr;function Li(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jt(t){return t=t.childContextTypes,t!=null}function Du(){be(Nt),be(vt)}function hv(t,e,n){if(vt.current!==Xr)throw Error(B(168));Ee(vt,e),Ee(Nt,n)}function Pw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,Ub(t)||"Unknown",s));return Ne({},n,r)}function Vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Ds=vt.current,Ee(vt,t),Ee(Nt,Nt.current),!0}function fv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Pw(t,e,Ds),r.__reactInternalMemoizedMergedChildContext=t,be(Nt),be(vt),Ee(vt,t)):be(Nt),Ee(Nt,n)}var Bn=null,kc=!1,Yd=!1;function Cw(t){Bn===null?Bn=[t]:Bn.push(t)}function rC(t){kc=!0,Cw(t)}function as(){if(!Yd&&Bn!==null){Yd=!0;var t=0,e=ye;try{var n=Bn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,kc=!1}catch(s){throw Bn!==null&&(Bn=Bn.slice(t+1)),Z_(Ip,as),s}finally{ye=e,Yd=!1}}return null}var vi=[],xi=0,Mu=null,Ou=0,Yt=[],Xt=0,Vs=null,$n=1,Hn="";function ys(t,e){vi[xi++]=Ou,vi[xi++]=Mu,Mu=t,Ou=e}function kw(t,e,n){Yt[Xt++]=$n,Yt[Xt++]=Hn,Yt[Xt++]=Vs,Vs=t;var r=$n;t=Hn;var s=32-fn(r)-1;r&=~(1<<s),n+=1;var i=32-fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,$n=1<<32-fn(e)+s|n<<s|r,Hn=i+t}else $n=1<<i|n<<s|r,Hn=t}function Dp(t){t.return!==null&&(ys(t,1),kw(t,1,0))}function Vp(t){for(;t===Mu;)Mu=vi[--xi],vi[xi]=null,Ou=vi[--xi],vi[xi]=null;for(;t===Vs;)Vs=Yt[--Xt],Yt[Xt]=null,Hn=Yt[--Xt],Yt[Xt]=null,$n=Yt[--Xt],Yt[Xt]=null}var zt=null,Ut=null,Pe=!1,dn=null;function Aw(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,Ut=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:$n,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,Ut=null,!0):!1;default:return!1}}function cf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function df(t){if(Pe){var e=Ut;if(e){var n=e;if(!pv(t,e)){if(cf(t))throw Error(B(418));e=Mr(n.nextSibling);var r=zt;e&&pv(t,e)?Aw(r,n):(t.flags=t.flags&-4097|2,Pe=!1,zt=t)}}else{if(cf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Pe=!1,zt=t}}}function mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function Fl(t){if(t!==zt)return!1;if(!Pe)return mv(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!of(t.type,t.memoizedProps)),e&&(e=Ut)){if(cf(t))throw Rw(),Error(B(418));for(;e;)Aw(t,e),e=Mr(e.nextSibling)}if(mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ut=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=zt?Mr(t.stateNode.nextSibling):null;return!0}function Rw(){for(var t=Ut;t;)t=Mr(t.nextSibling)}function Fi(){Ut=zt=null,Pe=!1}function Mp(t){dn===null?dn=[t]:dn.push(t)}var sC=ar.ReactCurrentBatchConfig;function Ro(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ul(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gv(t){var e=t._init;return e(t._payload)}function Nw(t){function e(y,x){if(t){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Ur(y,x),y.index=0,y.sibling=null,y}function i(y,x,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,_,k){return x===null||x.tag!==6?(x=rh(_,y.mode,k),x.return=y,x):(x=s(x,_),x.return=y,x)}function u(y,x,_,k){var V=_.type;return V===hi?h(y,x,_.props.children,k,_.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_r&&gv(V)===x.type)?(k=s(x,_.props),k.ref=Ro(y,x,_),k.return=y,k):(k=hu(_.type,_.key,_.props,null,y.mode,k),k.ref=Ro(y,x,_),k.return=y,k)}function c(y,x,_,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=sh(_,y.mode,k),x.return=y,x):(x=s(x,_.children||[]),x.return=y,x)}function h(y,x,_,k,V){return x===null||x.tag!==7?(x=Rs(_,y.mode,k,V),x.return=y,x):(x=s(x,_),x.return=y,x)}function f(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=rh(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kl:return _=hu(x.type,x.key,x.props,null,y.mode,_),_.ref=Ro(y,null,x),_.return=y,_;case di:return x=sh(x,y.mode,_),x.return=y,x;case _r:var k=x._init;return f(y,k(x._payload),_)}if(Lo(x)||bo(x))return x=Rs(x,y.mode,_,null),x.return=y,x;Ul(y,x)}return null}function m(y,x,_,k){var V=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:a(y,x,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:return _.key===V?u(y,x,_,k):null;case di:return _.key===V?c(y,x,_,k):null;case _r:return V=_._init,m(y,x,V(_._payload),k)}if(Lo(_)||bo(_))return V!==null?null:h(y,x,_,k,null);Ul(y,_)}return null}function v(y,x,_,k,V){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(_)||null,a(x,y,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case kl:return y=y.get(k.key===null?_:k.key)||null,u(x,y,k,V);case di:return y=y.get(k.key===null?_:k.key)||null,c(x,y,k,V);case _r:var L=k._init;return v(y,x,_,L(k._payload),V)}if(Lo(k)||bo(k))return y=y.get(_)||null,h(x,y,k,V,null);Ul(x,k)}return null}function w(y,x,_,k){for(var V=null,L=null,P=x,E=x=0,I=null;P!==null&&E<_.length;E++){P.index>E?(I=P,P=null):I=P.sibling;var C=m(y,P,_[E],k);if(C===null){P===null&&(P=I);break}t&&P&&C.alternate===null&&e(y,P),x=i(C,x,E),L===null?V=C:L.sibling=C,L=C,P=I}if(E===_.length)return n(y,P),Pe&&ys(y,E),V;if(P===null){for(;E<_.length;E++)P=f(y,_[E],k),P!==null&&(x=i(P,x,E),L===null?V=P:L.sibling=P,L=P);return Pe&&ys(y,E),V}for(P=r(y,P);E<_.length;E++)I=v(P,y,E,_[E],k),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?E:I.key),x=i(I,x,E),L===null?V=I:L.sibling=I,L=I);return t&&P.forEach(function(R){return e(y,R)}),Pe&&ys(y,E),V}function T(y,x,_,k){var V=bo(_);if(typeof V!="function")throw Error(B(150));if(_=V.call(_),_==null)throw Error(B(151));for(var L=V=null,P=x,E=x=0,I=null,C=_.next();P!==null&&!C.done;E++,C=_.next()){P.index>E?(I=P,P=null):I=P.sibling;var R=m(y,P,C.value,k);if(R===null){P===null&&(P=I);break}t&&P&&R.alternate===null&&e(y,P),x=i(R,x,E),L===null?V=R:L.sibling=R,L=R,P=I}if(C.done)return n(y,P),Pe&&ys(y,E),V;if(P===null){for(;!C.done;E++,C=_.next())C=f(y,C.value,k),C!==null&&(x=i(C,x,E),L===null?V=C:L.sibling=C,L=C);return Pe&&ys(y,E),V}for(P=r(y,P);!C.done;E++,C=_.next())C=v(P,y,E,C.value,k),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?E:C.key),x=i(C,x,E),L===null?V=C:L.sibling=C,L=C);return t&&P.forEach(function(N){return e(y,N)}),Pe&&ys(y,E),V}function b(y,x,_,k){if(typeof _=="object"&&_!==null&&_.type===hi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:e:{for(var V=_.key,L=x;L!==null;){if(L.key===V){if(V=_.type,V===hi){if(L.tag===7){n(y,L.sibling),x=s(L,_.props.children),x.return=y,y=x;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_r&&gv(V)===L.type){n(y,L.sibling),x=s(L,_.props),x.ref=Ro(y,L,_),x.return=y,y=x;break e}n(y,L);break}else e(y,L);L=L.sibling}_.type===hi?(x=Rs(_.props.children,y.mode,k,_.key),x.return=y,y=x):(k=hu(_.type,_.key,_.props,null,y.mode,k),k.ref=Ro(y,x,_),k.return=y,y=k)}return o(y);case di:e:{for(L=_.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(y,x.sibling),x=s(x,_.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=sh(_,y.mode,k),x.return=y,y=x}return o(y);case _r:return L=_._init,b(y,x,L(_._payload),k)}if(Lo(_))return w(y,x,_,k);if(bo(_))return T(y,x,_,k);Ul(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,_),x.return=y,y=x):(n(y,x),x=rh(_,y.mode,k),x.return=y,y=x),o(y)):n(y,x)}return b}var Ui=Nw(!0),jw=Nw(!1),Lu=os(null),Fu=null,_i=null,Op=null;function Lp(){Op=_i=Fu=null}function Fp(t){var e=Lu.current;be(Lu),t._currentValue=e}function hf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ri(t,e){Fu=t,Op=_i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(Op!==t)if(t={context:t,memoizedValue:e,next:null},_i===null){if(Fu===null)throw Error(B(308));_i=t,Fu.dependencies={lanes:0,firstContext:t}}else _i=_i.next=t;return e}var Ss=null;function Up(t){Ss===null?Ss=[t]:Ss.push(t)}function Dw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Up(e)):(n.next=s.next,s.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function Bp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,er(t,n)}return s=r.interleaved,s===null?(e.next=e,Up(r)):(e.next=s.next,s.next=e),r.interleaved=e,er(t,n)}function ou(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bp(t,n)}}function yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uu(t,e,n,r){var s=t.updateQueue;wr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(m=e,v=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){f=w.call(v,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,m=typeof w=="function"?w.call(v,f,m):w,m==null)break e;f=Ne({},f,m);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,u=f):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Os|=o,t.lanes=o,t.memoizedState=f}}function vv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Wa={},In=os(Wa),Ta=os(Wa),Sa=os(Wa);function Is(t){if(t===Wa)throw Error(B(174));return t}function zp(t,e){switch(Ee(Sa,e),Ee(Ta,t),Ee(In,Wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wh(e,t)}be(In),Ee(In,e)}function Bi(){be(In),be(Ta),be(Sa)}function Mw(t){Is(Sa.current);var e=Is(In.current),n=Wh(e,t.type);e!==n&&(Ee(Ta,t),Ee(In,n))}function $p(t){Ta.current===t&&(be(In),be(Ta))}var ke=os(0);function Bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xd=[];function Hp(){for(var t=0;t<Xd.length;t++)Xd[t]._workInProgressVersionPrimary=null;Xd.length=0}var au=ar.ReactCurrentDispatcher,Jd=ar.ReactCurrentBatchConfig,Ms=0,Re=null,qe=null,Xe=null,zu=!1,Jo=!1,Ia=0,iC=0;function dt(){throw Error(B(321))}function Wp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function qp(t,e,n,r,s,i){if(Ms=i,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,au.current=t===null||t.memoizedState===null?uC:cC,t=n(r,s),Jo){i=0;do{if(Jo=!1,Ia=0,25<=i)throw Error(B(301));i+=1,Xe=qe=null,e.updateQueue=null,au.current=dC,t=n(r,s)}while(Jo)}if(au.current=$u,e=qe!==null&&qe.next!==null,Ms=0,Xe=qe=Re=null,zu=!1,e)throw Error(B(300));return t}function Gp(){var t=Ia!==0;return Ia=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Re.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function rn(){if(qe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Xe===null?Re.memoizedState:Xe.next;if(e!==null)Xe=e,qe=t;else{if(t===null)throw Error(B(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Xe===null?Re.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function ba(t,e){return typeof e=="function"?e(t):e}function Zd(t){var e=rn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=qe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((Ms&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Re.lanes|=h,Os|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,yn(r,e.memoizedState)||(Rt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Re.lanes|=i,Os|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eh(t){var e=rn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yn(i,e.memoizedState)||(Rt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ow(){}function Lw(t,e){var n=Re,r=rn(),s=e(),i=!yn(r.memoizedState,s);if(i&&(r.memoizedState=s,Rt=!0),r=r.queue,Kp(Bw.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Pa(9,Uw.bind(null,n,r,s,e),void 0,null),Je===null)throw Error(B(349));Ms&30||Fw(n,e,s)}return s}function Fw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Uw(t,e,n,r){e.value=n,e.getSnapshot=r,zw(e)&&$w(t)}function Bw(t,e,n){return n(function(){zw(e)&&$w(t)})}function zw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function $w(t){var e=er(t,1);e!==null&&pn(e,t,1,-1)}function xv(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},e.queue=t,t=t.dispatch=lC.bind(null,Re,t),[e.memoizedState,t]}function Pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hw(){return rn().memoizedState}function lu(t,e,n,r){var s=En();Re.flags|=t,s.memoizedState=Pa(1|e,n,void 0,r===void 0?null:r)}function Ac(t,e,n,r){var s=rn();r=r===void 0?null:r;var i=void 0;if(qe!==null){var o=qe.memoizedState;if(i=o.destroy,r!==null&&Wp(r,o.deps)){s.memoizedState=Pa(e,n,i,r);return}}Re.flags|=t,s.memoizedState=Pa(1|e,n,i,r)}function _v(t,e){return lu(8390656,8,t,e)}function Kp(t,e){return Ac(2048,8,t,e)}function Ww(t,e){return Ac(4,2,t,e)}function qw(t,e){return Ac(4,4,t,e)}function Gw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kw(t,e,n){return n=n!=null?n.concat([t]):null,Ac(4,4,Gw.bind(null,e,t),n)}function Qp(){}function Qw(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Yw(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xw(t,e,n){return Ms&21?(yn(n,e)||(n=nw(),Re.lanes|=n,Os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=n)}function oC(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Jd.transition;Jd.transition={};try{t(!1),e()}finally{ye=n,Jd.transition=r}}function Jw(){return rn().memoizedState}function aC(t,e,n){var r=Fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zw(t))eE(e,n);else if(n=Dw(t,e,n,r),n!==null){var s=bt();pn(n,t,r,s),tE(n,e,r)}}function lC(t,e,n){var r=Fr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zw(t))eE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,yn(a,o)){var u=e.interleaved;u===null?(s.next=s,Up(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Dw(t,e,s,r),n!==null&&(s=bt(),pn(n,t,r,s),tE(n,e,r))}}function Zw(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function eE(t,e){Jo=zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bp(t,n)}}var $u={readContext:nn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},uC={readContext:nn,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:_v,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lu(4194308,4,Gw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lu(4194308,4,t,e)},useInsertionEffect:function(t,e){return lu(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aC.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:xv,useDebugValue:Qp,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=xv(!1),e=t[0];return t=oC.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,s=En();if(Pe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Je===null)throw Error(B(349));Ms&30||Fw(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,_v(Bw.bind(null,r,i,t),[t]),r.flags|=2048,Pa(9,Uw.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=En(),e=Je.identifierPrefix;if(Pe){var n=Hn,r=$n;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ia++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cC={readContext:nn,useCallback:Qw,useContext:nn,useEffect:Kp,useImperativeHandle:Kw,useInsertionEffect:Ww,useLayoutEffect:qw,useMemo:Yw,useReducer:Zd,useRef:Hw,useState:function(){return Zd(ba)},useDebugValue:Qp,useDeferredValue:function(t){var e=rn();return Xw(e,qe.memoizedState,t)},useTransition:function(){var t=Zd(ba)[0],e=rn().memoizedState;return[t,e]},useMutableSource:Ow,useSyncExternalStore:Lw,useId:Jw,unstable_isNewReconciler:!1},dC={readContext:nn,useCallback:Qw,useContext:nn,useEffect:Kp,useImperativeHandle:Kw,useInsertionEffect:Ww,useLayoutEffect:qw,useMemo:Yw,useReducer:eh,useRef:Hw,useState:function(){return eh(ba)},useDebugValue:Qp,useDeferredValue:function(t){var e=rn();return qe===null?e.memoizedState=t:Xw(e,qe.memoizedState,t)},useTransition:function(){var t=eh(ba)[0],e=rn().memoizedState;return[t,e]},useMutableSource:Ow,useSyncExternalStore:Lw,useId:Jw,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ff(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rc={isMounted:function(t){return(t=t._reactInternals)?Gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),s=Fr(t),i=Qn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Or(t,i,s),e!==null&&(pn(e,t,s,r),ou(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),s=Fr(t),i=Qn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Or(t,i,s),e!==null&&(pn(e,t,s,r),ou(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=Fr(t),s=Qn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Or(t,s,r),e!==null&&(pn(e,t,r,n),ou(e,t,r))}};function wv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xa(n,r)||!xa(s,i):!0}function nE(t,e,n){var r=!1,s=Xr,i=e.contextType;return typeof i=="object"&&i!==null?i=nn(i):(s=jt(e)?Ds:vt.current,r=e.contextTypes,i=(r=r!=null)?Li(t,s):Xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rc.enqueueReplaceState(e,e.state,null)}function pf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Bp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nn(i):(i=jt(e)?Ds:vt.current,s.context=Li(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ff(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Rc.enqueueReplaceState(s,s.state,null),Uu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zi(t,e){try{var n="",r=e;do n+=Fb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function th(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hC=typeof WeakMap=="function"?WeakMap:Map;function rE(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wu||(Wu=!0,If=r),mf(t,e)},n}function sE(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){mf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mf(t,e),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=bC.bind(null,t,e,n),e.then(t,t))}function Sv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,Or(n,e,1))),n.lanes|=1),t)}var fC=ar.ReactCurrentOwner,Rt=!1;function It(t,e,n,r){e.child=t===null?jw(e,null,n,r):Ui(e,t.child,n,r)}function bv(t,e,n,r,s){n=n.render;var i=e.ref;return Ri(e,s),r=qp(t,e,n,r,i,s),n=Gp(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Pe&&n&&Dp(e),e.flags|=1,It(t,e,r,s),e.child)}function Pv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!rm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iE(t,e,i,r,s)):(t=hu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xa,n(o,r)&&t.ref===e.ref)return tr(t,e,s)}return e.flags|=1,t=Ur(i,r),t.ref=e.ref,t.return=e,e.child=t}function iE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xa(i,r)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,tr(t,e,s)}return gf(t,e,n,r,s)}function oE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ei,Ft),Ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Ei,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ee(Ei,Ft),Ft|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ee(Ei,Ft),Ft|=r;return It(t,e,s,n),e.child}function aE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gf(t,e,n,r,s){var i=jt(n)?Ds:vt.current;return i=Li(e,i),Ri(e,s),n=qp(t,e,n,r,i,s),r=Gp(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Pe&&r&&Dp(e),e.flags|=1,It(t,e,n,s),e.child)}function Cv(t,e,n,r,s){if(jt(n)){var i=!0;Vu(e)}else i=!1;if(Ri(e,s),e.stateNode===null)uu(t,e),nE(e,n,r),pf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nn(c):(c=jt(n)?Ds:vt.current,c=Li(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ev(e,o,r,c),wr=!1;var m=e.memoizedState;o.state=m,Uu(e,r,o,s),u=e.memoizedState,a!==r||m!==u||Nt.current||wr?(typeof h=="function"&&(ff(e,n,h,r),u=e.memoizedState),(a=wr||wv(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:un(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=nn(u):(u=jt(n)?Ds:vt.current,u=Li(e,u));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Ev(e,o,r,u),wr=!1,m=e.memoizedState,o.state=m,Uu(e,r,o,s);var w=e.memoizedState;a!==f||m!==w||Nt.current||wr?(typeof v=="function"&&(ff(e,n,v,r),w=e.memoizedState),(c=wr||wv(e,n,c,r,m,w,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return yf(t,e,n,r,i,s)}function yf(t,e,n,r,s,i){aE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&fv(e,n,!1),tr(t,e,i);r=e.stateNode,fC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ui(e,t.child,null,i),e.child=Ui(e,null,a,i)):It(t,e,a,i),e.memoizedState=r.state,s&&fv(e,n,!0),e.child}function lE(t){var e=t.stateNode;e.pendingContext?hv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hv(t,e.context,!1),zp(t,e.containerInfo)}function kv(t,e,n,r,s){return Fi(),Mp(s),e.flags|=256,It(t,e,n,r),e.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function uE(t,e,n){var r=e.pendingProps,s=ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ee(ke,s&1),t===null)return df(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dc(o,r,0,null),t=Rs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xf(n),e.memoizedState=vf,t):Yp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return pC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ur(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ur(a,i):(i=Rs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=vf,r}return i=t.child,t=i.sibling,r=Ur(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yp(t,e){return e=Dc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bl(t,e,n,r){return r!==null&&Mp(r),Ui(e,t.child,null,n),t=Yp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=th(Error(B(422))),Bl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Dc({mode:"visible",children:r.children},s,0,null),i=Rs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ui(e,t.child,null,o),e.child.memoizedState=xf(o),e.memoizedState=vf,i);if(!(e.mode&1))return Bl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=th(i,r,void 0),Bl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Rt||a){if(r=Je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(t,s),pn(r,t,s,-1))}return nm(),r=th(Error(B(421))),Bl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=PC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ut=Mr(s.nextSibling),zt=e,Pe=!0,dn=null,t!==null&&(Yt[Xt++]=$n,Yt[Xt++]=Hn,Yt[Xt++]=Vs,$n=t.id,Hn=t.overflow,Vs=e),e=Yp(e,r.children),e.flags|=4096,e)}function Av(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hf(t.return,e,n)}function nh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(It(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Av(t,n,e);else if(t.tag===19)Av(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Bu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nh(e,!0,n,null,i);break;case"together":nh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mC(t,e,n){switch(e.tag){case 3:lE(e),Fi();break;case 5:Mw(e);break;case 1:jt(e.type)&&Vu(e);break;case 4:zp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ee(Lu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?uE(t,e,n):(Ee(ke,ke.current&1),t=tr(t,e,n),t!==null?t.sibling:null);Ee(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,oE(t,e,n)}return tr(t,e,n)}var dE,_f,hE,fE;dE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_f=function(){};hE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Is(In.current);var i=null;switch(n){case"input":s=Bh(t,s),r=Bh(t,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=Hh(t,s),r=Hh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ju)}qh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ha.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ha.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ie("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fE=function(t,e,n,r){n!==r&&(e.flags|=4)};function No(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gC(t,e,n){var r=e.pendingProps;switch(Vp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return jt(e.type)&&Du(),ht(e),null;case 3:return r=e.stateNode,Bi(),be(Nt),be(vt),Hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Cf(dn),dn=null))),_f(t,e),ht(e),null;case 5:$p(e);var s=Is(Sa.current);if(n=e.type,t!==null&&e.stateNode!=null)hE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return ht(e),null}if(t=Is(In.current),Fl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tn]=e,r[Ea]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Uo.length;s++)Ie(Uo[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Fy(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":By(r,i),Ie("invalid",r)}qh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ll(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ll(r.textContent,a,t),s=["children",""+a]):ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Al(r),Uy(r,i,!0);break;case"textarea":Al(r),zy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ju)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[Ea]=r,dE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gh(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Uo.length;s++)Ie(Uo[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":Fy(t,r),s=Bh(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":By(t,r),s=Hh(t,r),Ie("invalid",t);break;default:s=r}qh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?H_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&z_(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&fa(t,u):typeof u=="number"&&fa(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ha.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ie("scroll",t):u!=null&&_p(t,i,u,o))}switch(n){case"input":Al(t),Uy(t,r,!1);break;case"textarea":Al(t),zy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)fE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Is(Sa.current),Is(In.current),Fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(i=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:Ll(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ll(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return ht(e),null;case 13:if(be(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Ut!==null&&e.mode&1&&!(e.flags&128))Rw(),Fi(),e.flags|=98560,i=!1;else if(i=Fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Tn]=e}else Fi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),i=!1}else dn!==null&&(Cf(dn),dn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Ke===0&&(Ke=3):nm())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return Bi(),_f(t,e),t===null&&_a(e.stateNode.containerInfo),ht(e),null;case 10:return Fp(e.type._context),ht(e),null;case 17:return jt(e.type)&&Du(),ht(e),null;case 19:if(be(ke),i=e.memoizedState,i===null)return ht(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)No(i,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bu(t),o!==null){for(e.flags|=128,No(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(ke,ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&Fe()>$i&&(e.flags|=128,r=!0,No(i,!1),e.lanes=4194304)}else{if(!r)if(t=Bu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),No(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return ht(e),null}else 2*Fe()-i.renderingStartTime>$i&&n!==1073741824&&(e.flags|=128,r=!0,No(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fe(),e.sibling=null,n=ke.current,Ee(ke,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return tm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function yC(t,e){switch(Vp(e),e.tag){case 1:return jt(e.type)&&Du(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bi(),be(Nt),be(vt),Hp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $p(e),null;case 13:if(be(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(ke),null;case 4:return Bi(),null;case 10:return Fp(e.type._context),null;case 22:case 23:return tm(),null;case 24:return null;default:return null}}var zl=!1,gt=!1,vC=typeof WeakSet=="function"?WeakSet:Set,q=null;function wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function wf(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var Rv=!1;function xC(t,e){if(rf=Au,t=vw(),jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++h===r&&(u=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(sf={focusedElem:t,selectionRange:n},Au=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,b=w.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?T:un(e.type,T),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){Ve(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return w=Rv,Rv=!1,w}function Zo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&wf(e,n,i)}s=s.next}while(s!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ef(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pE(t){var e=t.alternate;e!==null&&(t.alternate=null,pE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Ea],delete e[lf],delete e[tC],delete e[nC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mE(t){return t.tag===5||t.tag===3||t.tag===4}function Nv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ju));else if(r!==4&&(t=t.child,t!==null))for(Tf(t,e,n),t=t.sibling;t!==null;)Tf(t,e,n),t=t.sibling}function Sf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sf(t,e,n),t=t.sibling;t!==null;)Sf(t,e,n),t=t.sibling}var tt=null,cn=!1;function gr(t,e,n){for(n=n.child;n!==null;)gE(t,e,n),n=n.sibling}function gE(t,e,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:gt||wi(n,e);case 6:var r=tt,s=cn;tt=null,gr(t,e,n),tt=r,cn=s,tt!==null&&(cn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(cn?(t=tt,n=n.stateNode,t.nodeType===8?Qd(t.parentNode,n):t.nodeType===1&&Qd(t,n),ya(t)):Qd(tt,n.stateNode));break;case 4:r=tt,s=cn,tt=n.stateNode.containerInfo,cn=!0,gr(t,e,n),tt=r,cn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wf(n,e,o),s=s.next}while(s!==r)}gr(t,e,n);break;case 1:if(!gt&&(wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,gr(t,e,n),gt=r):gr(t,e,n);break;default:gr(t,e,n)}}function jv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vC),e.forEach(function(r){var s=CC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,cn=!1;break e;case 3:tt=a.stateNode.containerInfo,cn=!0;break e;case 4:tt=a.stateNode.containerInfo,cn=!0;break e}a=a.return}if(tt===null)throw Error(B(160));gE(i,o,s),tt=null,cn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ve(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yE(e,t),e=e.sibling}function yE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),wn(t),r&4){try{Zo(3,t,t.return),Nc(3,t)}catch(T){Ve(t,t.return,T)}try{Zo(5,t,t.return)}catch(T){Ve(t,t.return,T)}}break;case 1:ln(e,t),wn(t),r&512&&n!==null&&wi(n,n.return);break;case 5:if(ln(e,t),wn(t),r&512&&n!==null&&wi(n,n.return),t.flags&32){var s=t.stateNode;try{fa(s,"")}catch(T){Ve(t,t.return,T)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&F_(s,i),Gh(a,o);var c=Gh(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?H_(s,f):h==="dangerouslySetInnerHTML"?z_(s,f):h==="children"?fa(s,f):_p(s,h,f,c)}switch(a){case"input":zh(s,i);break;case"textarea":U_(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Pi(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Pi(s,!!i.multiple,i.defaultValue,!0):Pi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ea]=i}catch(T){Ve(t,t.return,T)}}break;case 6:if(ln(e,t),wn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(T){Ve(t,t.return,T)}}break;case 3:if(ln(e,t),wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(e.containerInfo)}catch(T){Ve(t,t.return,T)}break;case 4:ln(e,t),wn(t);break;case 13:ln(e,t),wn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zp=Fe())),r&4&&jv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(c=gt)||h,ln(e,t),gt=c):ln(e,t),wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(f=q=h;q!==null;){switch(m=q,v=m.child,m.tag){case 0:case 11:case 14:case 15:Zo(4,m,m.return);break;case 1:wi(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){Ve(r,n,T)}}break;case 5:wi(m,m.return);break;case 22:if(m.memoizedState!==null){Vv(f);continue}}v!==null?(v.return=m,q=v):Vv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=$_("display",o))}catch(T){Ve(t,t.return,T)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){Ve(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(e,t),wn(t),r&4&&jv(t);break;case 21:break;default:ln(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fa(s,""),r.flags&=-33);var i=Nv(t);Sf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Nv(t);Tf(t,a,o);break;default:throw Error(B(161))}}catch(u){Ve(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _C(t,e,n){q=t,vE(t)}function vE(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||zl;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||gt;a=zl;var c=gt;if(zl=o,(gt=u)&&!c)for(q=s;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?Mv(s):u!==null?(u.return=o,q=u):Mv(s);for(;i!==null;)q=i,vE(i),i=i.sibling;q=s,zl=a,gt=c}Dv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):Dv(t)}}function Dv(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}gt||e.flags&512&&Ef(e)}catch(m){Ve(e,e.return,m)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Vv(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Mv(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(u){Ve(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ve(e,s,u)}}var i=e.return;try{Ef(e)}catch(u){Ve(e,i,u)}break;case 5:var o=e.return;try{Ef(e)}catch(u){Ve(e,o,u)}}}catch(u){Ve(e,e.return,u)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var wC=Math.ceil,Hu=ar.ReactCurrentDispatcher,Xp=ar.ReactCurrentOwner,en=ar.ReactCurrentBatchConfig,fe=0,Je=null,We=null,st=0,Ft=0,Ei=os(0),Ke=0,Ca=null,Os=0,jc=0,Jp=0,ea=null,kt=null,Zp=0,$i=1/0,Un=null,Wu=!1,If=null,Lr=null,$l=!1,Ar=null,qu=0,ta=0,bf=null,cu=-1,du=0;function bt(){return fe&6?Fe():cu!==-1?cu:cu=Fe()}function Fr(t){return t.mode&1?fe&2&&st!==0?st&-st:sC.transition!==null?(du===0&&(du=nw()),du):(t=ye,t!==0||(t=window.event,t=t===void 0?16:uw(t.type)),t):1}function pn(t,e,n,r){if(50<ta)throw ta=0,bf=null,Error(B(185));za(t,n,r),(!(fe&2)||t!==Je)&&(t===Je&&(!(fe&2)&&(jc|=n),Ke===4&&Ir(t,st)),Dt(t,r),n===1&&fe===0&&!(e.mode&1)&&($i=Fe()+500,kc&&as()))}function Dt(t,e){var n=t.callbackNode;sP(t,e);var r=ku(t,t===Je?st:0);if(r===0)n!==null&&Wy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wy(n),e===1)t.tag===0?rC(Ov.bind(null,t)):Cw(Ov.bind(null,t)),ZP(function(){!(fe&6)&&as()}),n=null;else{switch(rw(r)){case 1:n=Ip;break;case 4:n=ew;break;case 16:n=Cu;break;case 536870912:n=tw;break;default:n=Cu}n=bE(n,xE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xE(t,e){if(cu=-1,du=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(Ni()&&t.callbackNode!==n)return null;var r=ku(t,t===Je?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gu(t,r);else{e=r;var s=fe;fe|=2;var i=wE();(Je!==t||st!==e)&&(Un=null,$i=Fe()+500,As(t,e));do try{SC();break}catch(a){_E(t,a)}while(!0);Lp(),Hu.current=i,fe=s,We!==null?e=0:(Je=null,st=0,e=Ke)}if(e!==0){if(e===2&&(s=Jh(t),s!==0&&(r=s,e=Pf(t,s))),e===1)throw n=Ca,As(t,0),Ir(t,r),Dt(t,Fe()),n;if(e===6)Ir(t,r);else{if(s=t.current.alternate,!(r&30)&&!EC(s)&&(e=Gu(t,r),e===2&&(i=Jh(t),i!==0&&(r=i,e=Pf(t,i))),e===1))throw n=Ca,As(t,0),Ir(t,r),Dt(t,Fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:vs(t,kt,Un);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=Zp+500-Fe(),10<e)){if(ku(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=af(vs.bind(null,t,kt,Un),e);break}vs(t,kt,Un);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wC(r/1960))-r,10<r){t.timeoutHandle=af(vs.bind(null,t,kt,Un),r);break}vs(t,kt,Un);break;case 5:vs(t,kt,Un);break;default:throw Error(B(329))}}}return Dt(t,Fe()),t.callbackNode===n?xE.bind(null,t):null}function Pf(t,e){var n=ea;return t.current.memoizedState.isDehydrated&&(As(t,e).flags|=256),t=Gu(t,e),t!==2&&(e=kt,kt=n,e!==null&&Cf(e)),t}function Cf(t){kt===null?kt=t:kt.push.apply(kt,t)}function EC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~Jp,e&=~jc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function Ov(t){if(fe&6)throw Error(B(327));Ni();var e=ku(t,0);if(!(e&1))return Dt(t,Fe()),null;var n=Gu(t,e);if(t.tag!==0&&n===2){var r=Jh(t);r!==0&&(e=r,n=Pf(t,r))}if(n===1)throw n=Ca,As(t,0),Ir(t,e),Dt(t,Fe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vs(t,kt,Un),Dt(t,Fe()),null}function em(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&($i=Fe()+500,kc&&as())}}function Ls(t){Ar!==null&&Ar.tag===0&&!(fe&6)&&Ni();var e=fe;fe|=1;var n=en.transition,r=ye;try{if(en.transition=null,ye=1,t)return t()}finally{ye=r,en.transition=n,fe=e,!(fe&6)&&as()}}function tm(){Ft=Ei.current,be(Ei)}function As(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JP(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Du();break;case 3:Bi(),be(Nt),be(vt),Hp();break;case 5:$p(r);break;case 4:Bi();break;case 13:be(ke);break;case 19:be(ke);break;case 10:Fp(r.type._context);break;case 22:case 23:tm()}n=n.return}if(Je=t,We=t=Ur(t.current,null),st=Ft=e,Ke=0,Ca=null,Jp=jc=Os=0,kt=ea=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ss=null}return t}function _E(t,e){do{var n=We;try{if(Lp(),au.current=$u,zu){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zu=!1}if(Ms=0,Xe=qe=Re=null,Jo=!1,Ia=0,Xp.current=null,n===null||n.return===null){Ke=1,Ca=e,We=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=st,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Sv(o);if(v!==null){v.flags&=-257,Iv(v,o,a,i,e),v.mode&1&&Tv(i,c,e),e=v,u=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(u),e.updateQueue=T}else w.add(u);break e}else{if(!(e&1)){Tv(i,c,e),nm();break e}u=Error(B(426))}}else if(Pe&&a.mode&1){var b=Sv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Iv(b,o,a,i,e),Mp(zi(u,a));break e}}i=u=zi(u,a),Ke!==4&&(Ke=2),ea===null?ea=[i]:ea.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=rE(i,u,e);yv(i,y);break e;case 1:a=u;var x=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Lr===null||!Lr.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=sE(i,a,e);yv(i,k);break e}}i=i.return}while(i!==null)}TE(n)}catch(V){e=V,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function wE(){var t=Hu.current;return Hu.current=$u,t===null?$u:t}function nm(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||!(Os&268435455)&&!(jc&268435455)||Ir(Je,st)}function Gu(t,e){var n=fe;fe|=2;var r=wE();(Je!==t||st!==e)&&(Un=null,As(t,e));do try{TC();break}catch(s){_E(t,s)}while(!0);if(Lp(),fe=n,Hu.current=r,We!==null)throw Error(B(261));return Je=null,st=0,Ke}function TC(){for(;We!==null;)EE(We)}function SC(){for(;We!==null&&!Qb();)EE(We)}function EE(t){var e=IE(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?TE(t):We=e,Xp.current=null}function TE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yC(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,We=null;return}}else if(n=gC(n,e,Ft),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Ke===0&&(Ke=5)}function vs(t,e,n){var r=ye,s=en.transition;try{en.transition=null,ye=1,IC(t,e,n,r)}finally{en.transition=s,ye=r}return null}function IC(t,e,n,r){do Ni();while(Ar!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(iP(t,i),t===Je&&(We=Je=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,bE(Cu,function(){return Ni(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=en.transition,en.transition=null;var o=ye;ye=1;var a=fe;fe|=4,Xp.current=null,xC(t,n),yE(n,t),WP(sf),Au=!!rf,sf=rf=null,t.current=n,_C(n),Yb(),fe=a,ye=o,en.transition=i}else t.current=n;if($l&&($l=!1,Ar=t,qu=s),i=t.pendingLanes,i===0&&(Lr=null),Zb(n.stateNode),Dt(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wu)throw Wu=!1,t=If,If=null,t;return qu&1&&t.tag!==0&&Ni(),i=t.pendingLanes,i&1?t===bf?ta++:(ta=0,bf=t):ta=0,as(),null}function Ni(){if(Ar!==null){var t=rw(qu),e=en.transition,n=ye;try{if(en.transition=null,ye=16>t?16:t,Ar===null)var r=!1;else{if(t=Ar,Ar=null,qu=0,fe&6)throw Error(B(331));var s=fe;for(fe|=4,q=t.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:Zo(8,h,i)}var f=h.child;if(f!==null)f.return=h,q=f;else for(;q!==null;){h=q;var m=h.sibling,v=h.return;if(pE(h),h===c){q=null;break}if(m!==null){m.return=v,q=m;break}q=v}}}var w=i.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var b=T.sibling;T.sibling=null,T=b}while(T!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,q=y;break e}q=i.return}}var x=t.current;for(q=x;q!==null;){o=q;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,q=_;else e:for(o=x;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nc(9,a)}}catch(V){Ve(a,a.return,V)}if(a===o){q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,q=k;break e}q=a.return}}if(fe=s,as(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Sc,t)}catch{}r=!0}return r}finally{ye=n,en.transition=e}}return!1}function Lv(t,e,n){e=zi(n,e),e=rE(t,e,1),t=Or(t,e,1),e=bt(),t!==null&&(za(t,1,e),Dt(t,e))}function Ve(t,e,n){if(t.tag===3)Lv(t,t,n);else for(;e!==null;){if(e.tag===3){Lv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){t=zi(n,t),t=sE(e,t,1),e=Or(e,t,1),t=bt(),e!==null&&(za(e,1,t),Dt(e,t));break}}e=e.return}}function bC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(st&n)===n&&(Ke===4||Ke===3&&(st&130023424)===st&&500>Fe()-Zp?As(t,0):Jp|=n),Dt(t,e)}function SE(t,e){e===0&&(t.mode&1?(e=jl,jl<<=1,!(jl&130023424)&&(jl=4194304)):e=1);var n=bt();t=er(t,e),t!==null&&(za(t,e,n),Dt(t,n))}function PC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SE(t,n)}function CC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),SE(t,n)}var IE;IE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rt=!1,mC(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Pe&&e.flags&1048576&&kw(e,Ou,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uu(t,e),t=e.pendingProps;var s=Li(e,vt.current);Ri(e,n),s=qp(null,e,r,t,s,n);var i=Gp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(i=!0,Vu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bp(e),s.updater=Rc,e.stateNode=s,s._reactInternals=e,pf(e,r,t,n),e=yf(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&Dp(e),It(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=AC(r),t=un(r,t),s){case 0:e=gf(null,e,r,t,n);break e;case 1:e=Cv(null,e,r,t,n);break e;case 11:e=bv(null,e,r,t,n);break e;case 14:e=Pv(null,e,r,un(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:un(r,s),gf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:un(r,s),Cv(t,e,r,s,n);case 3:e:{if(lE(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Vw(t,e),Uu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zi(Error(B(423)),e),e=kv(t,e,r,n,s);break e}else if(r!==s){s=zi(Error(B(424)),e),e=kv(t,e,r,n,s);break e}else for(Ut=Mr(e.stateNode.containerInfo.firstChild),zt=e,Pe=!0,dn=null,n=jw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),r===s){e=tr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return Mw(e),t===null&&df(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,of(r,s)?o=null:i!==null&&of(r,i)&&(e.flags|=32),aE(t,e),It(t,e,o,n),e.child;case 6:return t===null&&df(e),null;case 13:return uE(t,e,n);case 4:return zp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ui(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:un(r,s),bv(t,e,r,s,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ee(Lu,r._currentValue),r._currentValue=o,i!==null)if(yn(i.value,o)){if(i.children===s.children&&!Nt.current){e=tr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Qn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),hf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}It(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ri(e,n),s=nn(s),r=r(s),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,s=un(r,e.pendingProps),s=un(r.type,s),Pv(t,e,r,s,n);case 15:return iE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:un(r,s),uu(t,e),e.tag=1,jt(r)?(t=!0,Vu(e)):t=!1,Ri(e,n),nE(e,r,s),pf(e,r,s,n),yf(null,e,r,!0,t,n);case 19:return cE(t,e,n);case 22:return oE(t,e,n)}throw Error(B(156,e.tag))};function bE(t,e){return Z_(t,e)}function kC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,r){return new kC(t,e,n,r)}function rm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AC(t){if(typeof t=="function")return rm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ep)return 11;if(t===Tp)return 14}return 2}function Ur(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")rm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hi:return Rs(n.children,s,i,e);case wp:o=8,s|=8;break;case Oh:return t=Jt(12,n,e,s|2),t.elementType=Oh,t.lanes=i,t;case Lh:return t=Jt(13,n,e,s),t.elementType=Lh,t.lanes=i,t;case Fh:return t=Jt(19,n,e,s),t.elementType=Fh,t.lanes=i,t;case M_:return Dc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D_:o=10;break e;case V_:o=9;break e;case Ep:o=11;break e;case Tp:o=14;break e;case _r:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Jt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Rs(t,e,n,r){return t=Jt(7,t,r,e),t.lanes=n,t}function Dc(t,e,n,r){return t=Jt(22,t,r,e),t.elementType=M_,t.lanes=n,t.stateNode={isHidden:!1},t}function rh(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function sh(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sm(t,e,n,r,s,i,o,a,u){return t=new RC(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Jt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(i),t}function NC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PE(t){if(!t)return Xr;t=t._reactInternals;e:{if(Gs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(jt(n))return Pw(t,n,e)}return e}function CE(t,e,n,r,s,i,o,a,u){return t=sm(n,r,!0,t,s,i,o,a,u),t.context=PE(null),n=t.current,r=bt(),s=Fr(n),i=Qn(r,s),i.callback=e??null,Or(n,i,s),t.current.lanes=s,za(t,s,r),Dt(t,r),t}function Vc(t,e,n,r){var s=e.current,i=bt(),o=Fr(s);return n=PE(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Or(s,e,o),t!==null&&(pn(t,s,o,i),ou(t,s,o)),o}function Ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function im(t,e){Fv(t,e),(t=t.alternate)&&Fv(t,e)}function jC(){return null}var kE=typeof reportError=="function"?reportError:function(t){console.error(t)};function om(t){this._internalRoot=t}Mc.prototype.render=om.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Vc(t,e,null,null)};Mc.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ls(function(){Vc(null,t,null,null)}),e[Zn]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ow();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sr.length&&e!==0&&e<Sr[n].priority;n++);Sr.splice(n,0,t),n===0&&lw(t)}};function am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uv(){}function DC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ku(o);i.call(c)}}var o=CE(e,r,t,0,null,!1,!1,"",Uv);return t._reactRootContainer=o,t[Zn]=o.current,_a(t.nodeType===8?t.parentNode:t),Ls(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ku(u);a.call(c)}}var u=sm(t,0,!1,null,null,!1,!1,"",Uv);return t._reactRootContainer=u,t[Zn]=u.current,_a(t.nodeType===8?t.parentNode:t),Ls(function(){Vc(e,u,n,r)}),u}function Lc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Ku(o);a.call(u)}}Vc(e,o,t,s)}else o=DC(n,e,t,s,r);return Ku(o)}sw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fo(e.pendingLanes);n!==0&&(bp(e,n|1),Dt(e,Fe()),!(fe&6)&&($i=Fe()+500,as()))}break;case 13:Ls(function(){var r=er(t,1);if(r!==null){var s=bt();pn(r,t,1,s)}}),im(t,1)}};Pp=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=bt();pn(e,t,134217728,n)}im(t,134217728)}};iw=function(t){if(t.tag===13){var e=Fr(t),n=er(t,e);if(n!==null){var r=bt();pn(n,t,e,r)}im(t,e)}};ow=function(){return ye};aw=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Qh=function(t,e,n){switch(e){case"input":if(zh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Cc(r);if(!s)throw Error(B(90));L_(r),zh(r,s)}}}break;case"textarea":U_(t,n);break;case"select":e=n.value,e!=null&&Pi(t,!!n.multiple,e,!1)}};G_=em;K_=Ls;var VC={usingClientEntryPoint:!1,Events:[Ha,gi,Cc,W_,q_,em]},jo={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MC={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X_(t),t===null?null:t.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||jC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Sc=Hl.inject(MC),Sn=Hl}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(e))throw Error(B(200));return NC(t,e,null,n)};Wt.createRoot=function(t,e){if(!am(t))throw Error(B(299));var n=!1,r="",s=kE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sm(t,1,!1,null,null,n,!1,r,s),t[Zn]=e.current,_a(t.nodeType===8?t.parentNode:t),new om(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=X_(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return Ls(t)};Wt.hydrate=function(t,e,n){if(!Oc(e))throw Error(B(200));return Lc(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!am(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CE(e,null,t,1,n??null,s,!1,i,o),t[Zn]=e.current,_a(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Mc(e)};Wt.render=function(t,e,n){if(!Oc(e))throw Error(B(200));return Lc(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!Oc(t))throw Error(B(40));return t._reactRootContainer?(Ls(function(){Lc(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};Wt.unstable_batchedUpdates=em;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Lc(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function AE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AE)}catch(t){console.error(t)}}AE(),A_.exports=Wt;var OC=A_.exports,Bv=OC;Vh.createRoot=Bv.createRoot,Vh.hydrateRoot=Bv.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}var Rr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rr||(Rr={}));const zv="popstate";function LC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return kf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Qu(s)}return UC(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FC(){return Math.random().toString(36).substr(2,8)}function $v(t,e){return{usr:t.state,key:t.key,idx:e}}function kf(t,e,n,r){return n===void 0&&(n=null),ka({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?io(e):e,{state:n,key:e&&e.key||r||FC()})}function Qu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function UC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Rr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(ka({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Rr.Pop;let b=h(),y=b==null?null:b-c;c=b,u&&u({action:a,location:T.location,delta:y})}function m(b,y){a=Rr.Push;let x=kf(T.location,b,y);c=h()+1;let _=$v(x,c),k=T.createHref(x);try{o.pushState(_,"",k)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(k)}i&&u&&u({action:a,location:T.location,delta:1})}function v(b,y){a=Rr.Replace;let x=kf(T.location,b,y);c=h();let _=$v(x,c),k=T.createHref(x);o.replaceState(_,"",k),i&&u&&u({action:a,location:T.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Qu(b);return x=x.replace(/ $/,"%20"),Be(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let T={get action(){return a},get location(){return t(s,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(zv,f),u=b,()=>{s.removeEventListener(zv,f),u=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:v,go(b){return o.go(b)}};return T}var Hv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hv||(Hv={}));function BC(t,e,n){return n===void 0&&(n="/"),zC(t,e,n)}function zC(t,e,n,r){let s=typeof e=="string"?io(e):e,i=um(s.pathname||"/",n);if(i==null)return null;let o=RE(t);$C(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=tk(i);a=JC(o[u],c)}return a}function RE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Be(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Br([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),RE(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:YC(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of NE(i.path))s(i,o,u)}),e}function NE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=NE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function $C(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HC=/^:[\w-]+$/,WC=3,qC=2,GC=1,KC=10,QC=-2,Wv=t=>t==="*";function YC(t,e){let n=t.split("/"),r=n.length;return n.some(Wv)&&(r+=QC),e&&(r+=qC),n.filter(s=>!Wv(s)).reduce((s,i)=>s+(HC.test(i)?WC:i===""?GC:KC),r)}function XC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=ZC({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Br([i,f.pathname]),pathnameBase:ok(Br([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Br([i,f.pathnameBase]))}return o}function ZC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ek(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let T=a[f]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[f];return v&&!w?c[m]=void 0:c[m]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function ek(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function tk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function um(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rk=t=>nk.test(t);function sk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?io(t):t,i;if(n)if(rk(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),lm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=qv(n.substring(1),"/"):i=qv(n,e)}else i=e;return{pathname:i,search:ak(r),hash:lk(s)}}function qv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ih(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ik(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cm(t,e){let n=ik(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=io(t):(s=ka({},t),Be(!s.pathname||!s.pathname.includes("?"),ih("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),ih("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),ih("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=sk(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Br=t=>t.join("/").replace(/\/\/+/g,"/"),ok=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ak=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jE=["post","put","patch","delete"];new Set(jE);const ck=["get",...jE];new Set(ck);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}const hm=j.createContext(null),dk=j.createContext(null),ls=j.createContext(null),Fc=j.createContext(null),lr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),DE=j.createContext(null);function hk(t,e){let{relative:n}=e===void 0?{}:e;oo()||Be(!1);let{basename:r,navigator:s}=j.useContext(ls),{hash:i,pathname:o,search:a}=ME(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Br([r,o])),s.createHref({pathname:u,search:a,hash:i})}function oo(){return j.useContext(Fc)!=null}function Ks(){return oo()||Be(!1),j.useContext(Fc).location}function VE(t){j.useContext(ls).static||j.useLayoutEffect(t)}function ur(){let{isDataRoute:t}=j.useContext(lr);return t?bk():fk()}function fk(){oo()||Be(!1);let t=j.useContext(hm),{basename:e,future:n,navigator:r}=j.useContext(ls),{matches:s}=j.useContext(lr),{pathname:i}=Ks(),o=JSON.stringify(cm(s,n.v7_relativeSplatPath)),a=j.useRef(!1);return VE(()=>{a.current=!0}),j.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=dm(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Br([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function pk(){let{matches:t}=j.useContext(lr),e=t[t.length-1];return e?e.params:{}}function ME(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(ls),{matches:s}=j.useContext(lr),{pathname:i}=Ks(),o=JSON.stringify(cm(s,r.v7_relativeSplatPath));return j.useMemo(()=>dm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function mk(t,e){return gk(t,e)}function gk(t,e,n,r){oo()||Be(!1);let{navigator:s}=j.useContext(ls),{matches:i}=j.useContext(lr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ks(),h;if(e){var f;let b=typeof e=="string"?io(e):e;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Be(!1),h=b}else h=c;let m=h.pathname||"/",v=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=BC(t,{pathname:v}),T=wk(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Br([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Br([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&T?j.createElement(Fc.Provider,{value:{location:Aa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Rr.Pop}},T):T}function yk(){let t=Ik(),e=uk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,null)}const vk=j.createElement(yk,null);class xk extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(lr.Provider,{value:this.props.routeContext},j.createElement(DE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _k(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(hm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(lr.Provider,{value:e},r)}function wk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Be(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:v}=n,w=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let v,w=!1,T=null,b=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,T=f.route.errorElement||vk,u&&(c<0&&m===0?(Pk("route-fallback"),w=!0,b=null):c===m&&(w=!0,b=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,m+1)),x=()=>{let _;return v?_=T:w?_=b:f.route.Component?_=j.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,j.createElement(_k,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(xk,{location:n.location,revalidation:n.revalidation,component:T,error:v,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var OE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OE||{}),LE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(LE||{});function Ek(t){let e=j.useContext(hm);return e||Be(!1),e}function Tk(t){let e=j.useContext(dk);return e||Be(!1),e}function Sk(t){let e=j.useContext(lr);return e||Be(!1),e}function FE(t){let e=Sk(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function Ik(){var t;let e=j.useContext(DE),n=Tk(),r=FE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bk(){let{router:t}=Ek(OE.UseNavigateStable),e=FE(LE.UseNavigateStable),n=j.useRef(!1);return VE(()=>{n.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Aa({fromRouteId:e},i)))},[t,e])}const Gv={};function Pk(t,e,n){Gv[t]||(Gv[t]=!0)}function Ck(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function kk(t){let{to:e,replace:n,state:r,relative:s}=t;oo()||Be(!1);let{future:i,static:o}=j.useContext(ls),{matches:a}=j.useContext(lr),{pathname:u}=Ks(),c=ur(),h=dm(e,cm(a,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(h);return j.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function et(t){Be(!1)}function Ak(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Rr.Pop,navigator:i,static:o=!1,future:a}=t;oo()&&Be(!1);let u=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:i,static:o,future:Aa({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=io(r));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:w="default"}=r,T=j.useMemo(()=>{let b=um(h,u);return b==null?null:{location:{pathname:b,search:f,hash:m,state:v,key:w},navigationType:s}},[u,h,f,m,v,w,s]);return T==null?null:j.createElement(ls.Provider,{value:c},j.createElement(Fc.Provider,{children:n,value:T}))}function Rk(t){let{children:e,location:n}=t;return mk(Af(e),n)}new Promise(()=>{});function Af(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Af(r.props.children,i));return}r.type!==et&&Be(!1),!r.props.index||!r.props.children||Be(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Af(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function Nk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function jk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dk(t,e){return t.button===0&&(!e||e==="_self")&&!jk(t)}function Nf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Vk(t,e){let n=Nf(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Mk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ok="6";try{window.__reactRouterVersion=Ok}catch{}const Lk="startTransition",Kv=bb[Lk];function Fk(t){let{basename:e,children:n,future:r,window:s}=t,i=j.useRef();i.current==null&&(i.current=LC({window:s,v5Compat:!0}));let o=i.current,[a,u]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=j.useCallback(f=>{c&&Kv?Kv(()=>u(f)):u(f)},[u,c]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.useEffect(()=>Ck(r),[r]),j.createElement(Ak,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Uk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=j.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f}=e,m=Nk(e,Mk),{basename:v}=j.useContext(ls),w,T=!1;if(typeof c=="string"&&Bk.test(c)&&(w=c,Uk))try{let _=new URL(window.location.href),k=c.startsWith("//")?new URL(_.protocol+c):new URL(c),V=um(k.pathname,v);k.origin===_.origin&&V!=null?c=V+k.search+k.hash:T=!0}catch{}let b=hk(c,{relative:s}),y=zk(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:s,viewTransition:f});function x(_){r&&r(_),_.defaultPrevented||y(_)}return j.createElement("a",Rf({},m,{href:w||b,onClick:T||i?r:x,ref:n,target:u}))});var Qv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qv||(Qv={}));var Yv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yv||(Yv={}));function zk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,u=ur(),c=Ks(),h=ME(t,{relative:o});return j.useCallback(f=>{if(Dk(f,n)){f.preventDefault();let m=r!==void 0?r:Qu(c)===Qu(h);u(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,h,r,s,n,t,i,o,a])}function $k(t){let e=j.useRef(Nf(t)),n=j.useRef(!1),r=Ks(),s=j.useMemo(()=>Vk(r.search,n.current?null:e.current),[r.search]),i=ur(),o=j.useCallback((a,u)=>{const c=Nf(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,u)},[i,s]);return[s,o]}var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Hk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,v=c&63;u||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Wk;const m=i<<2|a>>4;if(r.push(m),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qk=function(t){const e=UE(t);return BE.encodeByteArray(e,!0)},Yu=function(t){return qk(t).replace(/\./g,"")},zE=function(t){try{return BE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=()=>Gk().__FIREBASE_DEFAULTS__,Qk=()=>{if(typeof process>"u"||typeof Xv>"u")return;const t=Xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zE(t[1]);return e&&JSON.parse(e)},Uc=()=>{try{return Kk()||Qk()||Yk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$E=t=>{var e,n;return(n=(e=Uc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HE=t=>{const e=$E(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WE=()=>{var t;return(t=Uc())===null||t===void 0?void 0:t.config},qE=t=>{var e;return(e=Uc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yu(JSON.stringify(n)),Yu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Zk(){var t;const e=(t=Uc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sA(){return!Zk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aA,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?lA(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vn(s,a,r)}}function lA(t,e){return t.replace(uA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const uA=/\{\$([^}]+)}/g;function cA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Jv(i)&&Jv(o)){if(!Hi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Jv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function zo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dA(t,e){const n=new hA(t,e);return n.subscribe.bind(n)}class hA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=oh),s.error===void 0&&(s.error=oh),s.complete===void 0&&(s.complete=oh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gA(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mA(t){return t===xs?void 0:t}function gA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const vA={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},xA=ue.INFO,_A={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},wA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_A[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fm{constructor(e){this.name=e,this._logLevel=xA,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const EA=(t,e)=>e.some(n=>t instanceof n);let Zv,e0;function TA(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SA(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,jf=new WeakMap,QE=new WeakMap,ah=new WeakMap,pm=new WeakMap;function IA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,t)}).catch(()=>{}),pm.set(e,t),e}function bA(t){if(jf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});jf.set(t,e)}let Df={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PA(t){Df=t(Df)}function CA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lh(this),e,...n);return QE.set(r,e.sort?e.sort():[e]),zr(r)}:SA().includes(t)?function(...e){return t.apply(lh(this),e),zr(KE.get(this))}:function(...e){return zr(t.apply(lh(this),e))}}function kA(t){return typeof t=="function"?CA(t):(t instanceof IDBTransaction&&bA(t),EA(t,TA())?new Proxy(t,Df):t)}function zr(t){if(t instanceof IDBRequest)return IA(t);if(ah.has(t))return ah.get(t);const e=kA(t);return e!==t&&(ah.set(t,e),pm.set(e,t)),e}const lh=t=>pm.get(t);function AA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zr(o.result),u.oldVersion,u.newVersion,zr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const RA=["get","getKey","getAll","getAllKeys","count"],NA=["put","add","delete","clear"],uh=new Map;function t0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uh.get(e))return uh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=NA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RA.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return uh.set(e,i),i}PA(t=>({...t,get:(e,n,r)=>t0(e,n)||t.get(e,n,r),has:(e,n)=>!!t0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",n0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new fm("@firebase/app"),VA="@firebase/app-compat",MA="@firebase/analytics-compat",OA="@firebase/analytics",LA="@firebase/app-check-compat",FA="@firebase/app-check",UA="@firebase/auth",BA="@firebase/auth-compat",zA="@firebase/database",$A="@firebase/data-connect",HA="@firebase/database-compat",WA="@firebase/functions",qA="@firebase/functions-compat",GA="@firebase/installations",KA="@firebase/installations-compat",QA="@firebase/messaging",YA="@firebase/messaging-compat",XA="@firebase/performance",JA="@firebase/performance-compat",ZA="@firebase/remote-config",e2="@firebase/remote-config-compat",t2="@firebase/storage",n2="@firebase/storage-compat",r2="@firebase/firestore",s2="@firebase/vertexai-preview",i2="@firebase/firestore-compat",o2="firebase",a2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",l2={[Vf]:"fire-core",[VA]:"fire-core-compat",[OA]:"fire-analytics",[MA]:"fire-analytics-compat",[FA]:"fire-app-check",[LA]:"fire-app-check-compat",[UA]:"fire-auth",[BA]:"fire-auth-compat",[zA]:"fire-rtdb",[$A]:"fire-data-connect",[HA]:"fire-rtdb-compat",[WA]:"fire-fn",[qA]:"fire-fn-compat",[GA]:"fire-iid",[KA]:"fire-iid-compat",[QA]:"fire-fcm",[YA]:"fire-fcm-compat",[XA]:"fire-perf",[JA]:"fire-perf-compat",[ZA]:"fire-rc",[e2]:"fire-rc-compat",[t2]:"fire-gcs",[n2]:"fire-gcs-compat",[r2]:"fire-fst",[i2]:"fire-fst-compat",[s2]:"fire-vertex","fire-js":"fire-js",[o2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,u2=new Map,Of=new Map;function r0(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(Of.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,t);for(const n of Xu.values())r0(n,t);for(const n of u2.values())r0(n,t);return!0}function Bc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zt(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new qa("app","Firebase",c2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=a2;function YE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $r.create("bad-app-name",{appName:String(s)});if(n||(n=WE()),!n)throw $r.create("no-options");const i=Xu.get(s);if(i){if(Hi(n,i.options)&&Hi(r,i.config))return i;throw $r.create("duplicate-app",{appName:s})}const o=new yA(s);for(const u of Of.values())o.addComponent(u);const a=new d2(n,r,o);return Xu.set(s,a),a}function mm(t=Mf){const e=Xu.get(t);if(!e&&t===Mf&&WE())return YE();if(!e)throw $r.create("no-app",{appName:t});return e}function bn(t,e,n){var r;let s=(r=l2[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}Fs(new Jr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebase-heartbeat-database",f2=1,Ra="firebase-heartbeat-store";let ch=null;function XE(){return ch||(ch=AA(h2,f2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw $r.create("idb-open",{originalErrorMessage:t.message})})),ch}async function p2(t){try{const n=(await XE()).transaction(Ra),r=await n.objectStore(Ra).get(JE(t));return await n.done,r}catch(e){if(e instanceof Vn)nr.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function s0(t,e){try{const r=(await XE()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,JE(t)),await r.done}catch(n){if(n instanceof Vn)nr.warn(n.message);else{const r=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function JE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=1024,g2=30*24*60*60*1e3;class y2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=i0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=g2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i0(),{heartbeatsToSend:r,unsentEntries:s}=v2(this._heartbeatsCache.heartbeats),i=Yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return nr.warn(n),""}}}function i0(){return new Date().toISOString().substring(0,10)}function v2(t,e=m2){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),o0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o0(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){Fs(new Jr("platform-logger",e=>new jA(e),"PRIVATE")),Fs(new Jr("heartbeat",e=>new y2(e),"PRIVATE")),bn(Vf,n0,t),bn(Vf,n0,"esm2017"),bn("fire-js","")}_2("");var w2="firebase",E2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(w2,E2,"app");function gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T2=ZE,eT=new qa("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new fm("@firebase/auth");function S2(t,...e){Ju.logLevel<=ue.WARN&&Ju.warn(`Auth (${Qs}): ${t}`,...e)}function fu(t,...e){Ju.logLevel<=ue.ERROR&&Ju.error(`Auth (${Qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,...e){throw vm(t,...e)}function mn(t,...e){return vm(t,...e)}function ym(t,e,n){const r=Object.assign(Object.assign({},T2()),{[e]:n});return new qa("auth","Firebase",r).create(e,{appName:t.name})}function Pn(t){return ym(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sn(t,"argument-error"),ym(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eT.create(t,...e)}function Z(t,e,...n){if(!t)throw vm(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fu(e),new Error(e)}function rr(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tT(){return a0()==="http:"||a0()==="https:"}function a0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tT()||tA()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=Jk()||nA()}get(){return b2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Ka(3e4,6e4);function Mn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function on(t,e,n,r,s={}){return rT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ga(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return eA()||(c.referrerPolicy="no-referrer"),nT.fetch()(sT(t,t.config.apiHost,n,a),c)})}async function rT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},C2),e);try{const s=new R2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Wl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Wl(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ym(t,h,c);sn(t,h)}}catch(s){if(s instanceof Vn)throw s;sn(t,"network-request-failed",{message:String(s)})}}async function Qa(t,e,n,r,s={}){const i=await on(t,e,n,r,s);return"mfaPendingCredential"in i&&sn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function sT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?xm(t.config,s):`${t.config.apiScheme}://${s}`}function A2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),k2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mn(t,e,r);return s.customData._tokenResponse=n,s}function l0(t){return t!==void 0&&t.enterprise!==void 0}class N2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function j2(t,e){return on(t,"GET","/v2/recaptchaConfig",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t,e){return on(t,"POST","/v1/accounts:delete",e)}async function iT(t,e){return on(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V2(t,e=!1){const n=Me(t),r=await n.getIdToken(e),s=_m(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:na(dh(s.auth_time)),issuedAtTime:na(dh(s.iat)),expirationTime:na(dh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function dh(t){return Number(t)*1e3}function _m(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fu("JWT malformed, contained fewer than 3 sections"),null;try{const s=zE(n);return s?JSON.parse(s):(fu("Failed to decode base64 JWT payload"),null)}catch(s){return fu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function u0(t){const e=_m(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&M2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Us(t,iT(n,{idToken:r}));Z(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?oT(i.providerUserInfo):[],a=F2(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Lf(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function L2(t){const e=Me(t);await ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oT(t){return t.map(e=>{var{providerId:n}=e,r=gm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e){const n=await rT(t,{},async()=>{const r=Ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=sT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B2(t,e){return on(t,"POST","/v2/accounts:revokeToken",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=u0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await U2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ji;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ji,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Us(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V2(this,e)}reload(){return L2(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ec(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(Pn(this.auth));const e=await this.getIdToken();return await Us(this,D2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:k,isAnonymous:V,providerData:L,stsTokenManager:P}=n;Z(_&&P,e,"internal-error");const E=ji.fromJSON(this.name,P);Z(typeof _=="string",e,"internal-error"),yr(f,e.name),yr(m,e.name),Z(typeof k=="boolean",e,"internal-error"),Z(typeof V=="boolean",e,"internal-error"),yr(v,e.name),yr(w,e.name),yr(T,e.name),yr(b,e.name),yr(y,e.name),yr(x,e.name);const I=new qn({uid:_,auth:e,email:m,emailVerified:k,displayName:f,isAnonymous:V,photoURL:w,phoneNumber:v,tenantId:T,stsTokenManager:E,createdAt:y,lastLoginAt:x});return L&&Array.isArray(L)&&(I.providerData=L.map(C=>Object.assign({},C))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new ji;s.updateFromServerResponse(n);const i=new qn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ec(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ji;a.updateFromIdToken(r);const u=new qn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Lf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function Gn(t){rr(t instanceof Function,"Expected a class definition");let e=c0.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,c0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aT.type="NONE";const d0=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t,e,n){return`firebase:${t}:${e}:${n}`}class Di{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=pu(this.userKey,s.apiKey,i),this.fullPersistenceKey=pu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Di(Gn(d0),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Gn(d0);const o=pu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=qn._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Di(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Di(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(pT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||cT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lT(t=xt()){return/firefox\//i.test(t)}function uT(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cT(t=xt()){return/crios\//i.test(t)}function dT(t=xt()){return/iemobile/i.test(t)}function hT(t=xt()){return/android/i.test(t)}function fT(t=xt()){return/blackberry/i.test(t)}function pT(t=xt()){return/webos/i.test(t)}function wm(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z2(t=xt()){var e;return wm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $2(){return rA()&&document.documentMode===10}function mT(t=xt()){return wm(t)||hT(t)||pT(t)||fT(t)||/windows phone/i.test(t)||dT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e=[]){let n;switch(t){case"Browser":n=h0(xt());break;case"Worker":n=`${h0(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e={}){return on(t,"GET","/v2/passwordPolicy",Mn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=6;class G2{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new H2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Di.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iT(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(Pn(this));const n=e?Me(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(Pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(Pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W2(this),n=new G2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gn(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Di.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&S2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cr(t){return Me(t)}class f0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q2(t){zc=t}function yT(t){return zc.loadJS(t)}function Y2(){return zc.recaptchaEnterpriseScript}function X2(){return zc.gapiScript}function J2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Z2="recaptcha-enterprise",eR="NO_RECAPTCHA";class tR{constructor(e){this.type=Z2,this.auth=cr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{j2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new N2(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;l0(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(eR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&l0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Y2();u.length!==0&&(u+=a),yT(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function p0(t,e,n,r=!1){const s=new tR(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tc(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await p0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await p0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e){const n=Bc(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Hi(i,e??{}))return s;sn(s,"already-initialized")}return n.initialize({options:e})}function rR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sR(t,e,n){const r=cr(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=vT(e),{host:o,port:a}=iR(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),oR()}function vT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iR(t){const e=vT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:m0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:m0(o)}}}function m0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function aR(t,e){return on(t,"POST","/v1/accounts:update",e)}async function lR(t,e){return on(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e){return Qa(t,"POST","/v1/accounts:signInWithPassword",Mn(t,e))}async function cR(t,e){return on(t,"POST","/v1/accounts:sendOobCode",Mn(t,e))}async function dR(t,e){return cR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",Mn(t,e))}async function fR(t,e){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Em{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Na(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Na(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tc(e,n,"signInWithPassword",uR);case"emailLink":return hR(e,{email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tc(e,r,"signUpPassword",lR);case"emailLink":return fR(e,{idToken:n,email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e){return Qa(t,"POST","/v1/accounts:signInWithIdp",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="http://localhost";class Bs extends Em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=gm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Bs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vi(e,n)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ga(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gR(t){const e=Bo(zo(t)).link,n=e?Bo(zo(e)).deep_link_id:null,r=Bo(zo(t)).deep_link_id;return(r?Bo(zo(r)).link:null)||r||n||e||t}class Tm{constructor(e){var n,r,s,i,o,a;const u=Bo(zo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=mR((s=u.mode)!==null&&s!==void 0?s:null);Z(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=gR(e);try{return new Tm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.providerId=Ys.PROVIDER_ID}static credential(e,n){return Na._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tm.parseLink(n);return Z(r,"argument-error"),Na._fromEmailAndCode(e,r.code,r.tenantId)}}Ys.PROVIDER_ID="password";Ys.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ys.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Sm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ya{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zn.credential(n,r)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ya{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ya{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t,e){return Qa(t,"POST","/v1/accounts:signUp",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await qn._fromIdTokenResponse(e,r,s),o=g0(r);return new zs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=g0(r);return new zs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function g0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Vn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nc(e,n,r,s)}}function xT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?nc._fromErrorAndOperation(t,i,e,r):i})}async function vR(t,e,n=!1){const r=await Us(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t,e,n=!1){const{auth:r}=t;if(Zt(r.app))return Promise.reject(Pn(r));const s="reauthenticate";try{const i=await Us(t,xT(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=_m(i.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),zs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(t,e,n=!1){if(Zt(t.app))return Promise.reject(Pn(t));const r="signIn",s=await xT(t,r,e),i=await zs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function xR(t,e){return wT(cr(t),e)}async function _R(t,e){return _T(Me(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(t){const e=cr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wR(t,e,n){const r=cr(t);await tc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",dR)}async function ER(t,e,n){if(Zt(t.app))return Promise.reject(Pn(t));const r=cr(t),o=await tc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yR).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ET(t),u}),a=await zs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function TR(t,e,n){return Zt(t.app)?Promise.reject(Pn(t)):xR(Me(t),Ys.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ET(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(t,e){return on(t,"POST","/v1/accounts:createAuthUri",Mn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(t,e){const n=tT()?Zu():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await SR(Me(t),r);return s||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(t,e){return on(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Me(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Us(r,bR(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function PR(t,e){const n=Me(t);return Zt(n.auth.app)?Promise.reject(Pn(n.auth)):CR(n,e)}async function CR(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e);const o=await Us(t,aR(r,i));await t._updateTokensIfNecessary(o,!0)}function kR(t,e,n,r){return Me(t).onIdTokenChanged(e,n,r)}function AR(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function RR(t,e,n,r){return Me(t).onAuthStateChanged(e,n,r)}function NR(t){return Me(t).signOut()}const rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rc,"1"),this.storage.removeItem(rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1e3,DR=10;class IT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,DR):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const VR=IT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bT.type="SESSION";const PT=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $c(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await MR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Im("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function LR(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function FR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BR(){return CT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebaseLocalStorageDb",zR=1,sc="firebaseLocalStorage",AT="fbase_key";class Xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hc(t,e){return t.transaction([sc],e?"readwrite":"readonly").objectStore(sc)}function $R(){const t=indexedDB.deleteDatabase(kT);return new Xa(t).toPromise()}function Ff(){const t=indexedDB.open(kT,zR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sc,{keyPath:AT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sc)?e(r):(r.close(),await $R(),e(await Ff()))})})}async function y0(t,e,n){const r=Hc(t,!0).put({[AT]:e,value:n});return new Xa(r).toPromise()}async function HR(t,e){const n=Hc(t,!1).get(e),r=await new Xa(n).toPromise();return r===void 0?null:r.value}function v0(t,e){const n=Hc(t,!0).delete(e);return new Xa(n).toPromise()}const WR=800,qR=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ff(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(BR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ff();return await y0(e,rc,"1"),await v0(e,rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hc(s,!1).getAll();return new Xa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const GR=RT;new Ka(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e){return e?Gn(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends Em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KR(t){return wT(t.auth,new bm(t),t.bypassAuthState)}function QR(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),_T(n,new bm(t),t.bypassAuthState)}async function YR(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),vR(n,new bm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return YR;case"reauthViaPopup":case"reauthViaRedirect":return QR;default:sn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Ka(2e3,1e4);async function JR(t,e,n){if(Zt(t.app))return Promise.reject(mn(t,"operation-not-supported-in-this-environment"));const r=cr(t);I2(t,e,Sm);const s=NT(r,n);return new bs(r,"signInViaPopup",e,s).executeNotNull()}class bs extends jT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XR.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="pendingRedirect",mu=new Map;class eN extends jT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mu.get(this.auth._key());if(!e){try{const r=await tN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mu.set(this.auth._key(),e)}return this.bypassAuthState||mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tN(t,e){const n=sN(e),r=rN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function nN(t,e){mu.set(t._key(),e)}function rN(t){return Gn(t._redirectPersistence)}function sN(t){return pu(ZR,t.config.apiKey,t.name)}async function iN(t,e,n=!1){if(Zt(t.app))return Promise.reject(Pn(t));const r=cr(t),s=NT(r,e),o=await new eN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=10*60*1e3;class aN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oN&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e={}){return on(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^https?/;async function hN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uN(t);for(const n of e)try{if(fN(n))return}catch{}sn(t,"unauthorized-domain")}function fN(t){const e=Zu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dN.test(n))return!1;if(cN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Ka(3e4,6e4);function _0(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mN(t){return new Promise((e,n)=>{var r,s,i;function o(){_0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_0(),n(mn(t,"network-request-failed"))},timeout:pN.get()})}if(!((s=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Cn().gapi)===null||i===void 0)&&i.load)o();else{const a=J2("iframefcb");return Cn()[a]=()=>{gapi.load?o():n(mn(t,"network-request-failed"))},yT(`${X2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw gu=null,e})}let gu=null;function gN(t){return gu=gu||mN(t),gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Ka(5e3,15e3),vN="__/auth/iframe",xN="emulator/auth/iframe",_N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EN(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xm(e,xN):`https://${t.config.authDomain}/${vN}`,r={apiKey:e.apiKey,appName:t.name,v:Qs},s=wN.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ga(r).slice(1)}`}async function TN(t){const e=await gN(t),n=Cn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:EN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_N,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=mn(t,"network-request-failed"),a=Cn().setTimeout(()=>{i(o)},yN.get());function u(){Cn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IN=500,bN=600,PN="_blank",CN="http://localhost";class w0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kN(t,e,n,r=IN,s=bN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},SN),{width:r.toString(),height:s.toString(),top:i,left:o}),c=xt().toLowerCase();n&&(a=cT(c)?PN:n),lT(c)&&(e=e||CN,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[v,w])=>`${m}${v}=${w},`,"");if(z2(c)&&a!=="_self")return AN(e||"",a),new w0(null);const f=window.open(e||"",a,h);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new w0(f)}function AN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="__/auth/handler",NN="emulator/auth/handler",jN=encodeURIComponent("fac");async function E0(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qs,eventId:s};if(e instanceof Sm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ya){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${jN}=${encodeURIComponent(u)}`:"";return`${DN(t)}?${Ga(a).slice(1)}${c}`}function DN({config:t}){return t.emulator?xm(t,NN):`https://${t.authDomain}/${RN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="webStorageSupport";class VN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=iN,this._overrideRedirectResult=nN}async _openPopup(e,n,r,s){var i;rr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await E0(e,n,r,Zu(),s);return kN(e,o,Im())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await E0(e,n,r,Zu(),s);return LR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TN(e),r=new aN(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hh,{type:hh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[hh];o!==void 0&&n(!!o),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||uT()||wm()}}const MN=VN;var T0="@firebase/auth",S0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FN(t){Fs(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(t)},c=new K2(r,s,i,u);return rR(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new Jr("auth-internal",e=>{const n=cr(e.getProvider("auth").getImmediate());return(r=>new ON(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(T0,S0,LN(t)),bn(T0,S0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=5*60,BN=qE("authIdTokenMaxAge")||UN;let I0=null;const zN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BN)return;const s=n==null?void 0:n.token;I0!==s&&(I0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $N(t=mm()){const e=Bc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nR(t,{popupRedirectResolver:MN,persistence:[GR,VR,PT]}),r=qE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=zN(i.toString());AR(n,o,()=>o(n.currentUser)),kR(n,a=>o(a))}}const s=$E("auth");return s&&sR(n,`http://${s}`),n}function HN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",HN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FN("Browser");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,VT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,E){function I(){}I.prototype=E.prototype,P.D=E.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(C,R,N){for(var A=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)A[ie-2]=arguments[ie];return E.prototype[R].apply(C,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)C[R]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(R=0;16>R;++R)C[R]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=P.g[0],I=P.g[1],R=P.g[2];var N=P.g[3],A=E+(N^I&(R^N))+C[0]+3614090360&4294967295;E=I+(A<<7&4294967295|A>>>25),A=N+(R^E&(I^R))+C[1]+3905402710&4294967295,N=E+(A<<12&4294967295|A>>>20),A=R+(I^N&(E^I))+C[2]+606105819&4294967295,R=N+(A<<17&4294967295|A>>>15),A=I+(E^R&(N^E))+C[3]+3250441966&4294967295,I=R+(A<<22&4294967295|A>>>10),A=E+(N^I&(R^N))+C[4]+4118548399&4294967295,E=I+(A<<7&4294967295|A>>>25),A=N+(R^E&(I^R))+C[5]+1200080426&4294967295,N=E+(A<<12&4294967295|A>>>20),A=R+(I^N&(E^I))+C[6]+2821735955&4294967295,R=N+(A<<17&4294967295|A>>>15),A=I+(E^R&(N^E))+C[7]+4249261313&4294967295,I=R+(A<<22&4294967295|A>>>10),A=E+(N^I&(R^N))+C[8]+1770035416&4294967295,E=I+(A<<7&4294967295|A>>>25),A=N+(R^E&(I^R))+C[9]+2336552879&4294967295,N=E+(A<<12&4294967295|A>>>20),A=R+(I^N&(E^I))+C[10]+4294925233&4294967295,R=N+(A<<17&4294967295|A>>>15),A=I+(E^R&(N^E))+C[11]+2304563134&4294967295,I=R+(A<<22&4294967295|A>>>10),A=E+(N^I&(R^N))+C[12]+1804603682&4294967295,E=I+(A<<7&4294967295|A>>>25),A=N+(R^E&(I^R))+C[13]+4254626195&4294967295,N=E+(A<<12&4294967295|A>>>20),A=R+(I^N&(E^I))+C[14]+2792965006&4294967295,R=N+(A<<17&4294967295|A>>>15),A=I+(E^R&(N^E))+C[15]+1236535329&4294967295,I=R+(A<<22&4294967295|A>>>10),A=E+(R^N&(I^R))+C[1]+4129170786&4294967295,E=I+(A<<5&4294967295|A>>>27),A=N+(I^R&(E^I))+C[6]+3225465664&4294967295,N=E+(A<<9&4294967295|A>>>23),A=R+(E^I&(N^E))+C[11]+643717713&4294967295,R=N+(A<<14&4294967295|A>>>18),A=I+(N^E&(R^N))+C[0]+3921069994&4294967295,I=R+(A<<20&4294967295|A>>>12),A=E+(R^N&(I^R))+C[5]+3593408605&4294967295,E=I+(A<<5&4294967295|A>>>27),A=N+(I^R&(E^I))+C[10]+38016083&4294967295,N=E+(A<<9&4294967295|A>>>23),A=R+(E^I&(N^E))+C[15]+3634488961&4294967295,R=N+(A<<14&4294967295|A>>>18),A=I+(N^E&(R^N))+C[4]+3889429448&4294967295,I=R+(A<<20&4294967295|A>>>12),A=E+(R^N&(I^R))+C[9]+568446438&4294967295,E=I+(A<<5&4294967295|A>>>27),A=N+(I^R&(E^I))+C[14]+3275163606&4294967295,N=E+(A<<9&4294967295|A>>>23),A=R+(E^I&(N^E))+C[3]+4107603335&4294967295,R=N+(A<<14&4294967295|A>>>18),A=I+(N^E&(R^N))+C[8]+1163531501&4294967295,I=R+(A<<20&4294967295|A>>>12),A=E+(R^N&(I^R))+C[13]+2850285829&4294967295,E=I+(A<<5&4294967295|A>>>27),A=N+(I^R&(E^I))+C[2]+4243563512&4294967295,N=E+(A<<9&4294967295|A>>>23),A=R+(E^I&(N^E))+C[7]+1735328473&4294967295,R=N+(A<<14&4294967295|A>>>18),A=I+(N^E&(R^N))+C[12]+2368359562&4294967295,I=R+(A<<20&4294967295|A>>>12),A=E+(I^R^N)+C[5]+4294588738&4294967295,E=I+(A<<4&4294967295|A>>>28),A=N+(E^I^R)+C[8]+2272392833&4294967295,N=E+(A<<11&4294967295|A>>>21),A=R+(N^E^I)+C[11]+1839030562&4294967295,R=N+(A<<16&4294967295|A>>>16),A=I+(R^N^E)+C[14]+4259657740&4294967295,I=R+(A<<23&4294967295|A>>>9),A=E+(I^R^N)+C[1]+2763975236&4294967295,E=I+(A<<4&4294967295|A>>>28),A=N+(E^I^R)+C[4]+1272893353&4294967295,N=E+(A<<11&4294967295|A>>>21),A=R+(N^E^I)+C[7]+4139469664&4294967295,R=N+(A<<16&4294967295|A>>>16),A=I+(R^N^E)+C[10]+3200236656&4294967295,I=R+(A<<23&4294967295|A>>>9),A=E+(I^R^N)+C[13]+681279174&4294967295,E=I+(A<<4&4294967295|A>>>28),A=N+(E^I^R)+C[0]+3936430074&4294967295,N=E+(A<<11&4294967295|A>>>21),A=R+(N^E^I)+C[3]+3572445317&4294967295,R=N+(A<<16&4294967295|A>>>16),A=I+(R^N^E)+C[6]+76029189&4294967295,I=R+(A<<23&4294967295|A>>>9),A=E+(I^R^N)+C[9]+3654602809&4294967295,E=I+(A<<4&4294967295|A>>>28),A=N+(E^I^R)+C[12]+3873151461&4294967295,N=E+(A<<11&4294967295|A>>>21),A=R+(N^E^I)+C[15]+530742520&4294967295,R=N+(A<<16&4294967295|A>>>16),A=I+(R^N^E)+C[2]+3299628645&4294967295,I=R+(A<<23&4294967295|A>>>9),A=E+(R^(I|~N))+C[0]+4096336452&4294967295,E=I+(A<<6&4294967295|A>>>26),A=N+(I^(E|~R))+C[7]+1126891415&4294967295,N=E+(A<<10&4294967295|A>>>22),A=R+(E^(N|~I))+C[14]+2878612391&4294967295,R=N+(A<<15&4294967295|A>>>17),A=I+(N^(R|~E))+C[5]+4237533241&4294967295,I=R+(A<<21&4294967295|A>>>11),A=E+(R^(I|~N))+C[12]+1700485571&4294967295,E=I+(A<<6&4294967295|A>>>26),A=N+(I^(E|~R))+C[3]+2399980690&4294967295,N=E+(A<<10&4294967295|A>>>22),A=R+(E^(N|~I))+C[10]+4293915773&4294967295,R=N+(A<<15&4294967295|A>>>17),A=I+(N^(R|~E))+C[1]+2240044497&4294967295,I=R+(A<<21&4294967295|A>>>11),A=E+(R^(I|~N))+C[8]+1873313359&4294967295,E=I+(A<<6&4294967295|A>>>26),A=N+(I^(E|~R))+C[15]+4264355552&4294967295,N=E+(A<<10&4294967295|A>>>22),A=R+(E^(N|~I))+C[6]+2734768916&4294967295,R=N+(A<<15&4294967295|A>>>17),A=I+(N^(R|~E))+C[13]+1309151649&4294967295,I=R+(A<<21&4294967295|A>>>11),A=E+(R^(I|~N))+C[4]+4149444226&4294967295,E=I+(A<<6&4294967295|A>>>26),A=N+(I^(E|~R))+C[11]+3174756917&4294967295,N=E+(A<<10&4294967295|A>>>22),A=R+(E^(N|~I))+C[2]+718787259&4294967295,R=N+(A<<15&4294967295|A>>>17),A=I+(N^(R|~E))+C[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+N&4294967295}r.prototype.u=function(P,E){E===void 0&&(E=P.length);for(var I=E-this.blockSize,C=this.B,R=this.h,N=0;N<E;){if(R==0)for(;N<=I;)s(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<E;)if(C[R++]=P.charCodeAt(N++),R==this.blockSize){s(this,C),R=0;break}}else for(;N<E;)if(C[R++]=P[N++],R==this.blockSize){s(this,C),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;var I=8*this.o;for(E=P.length-8;E<P.length;++E)P[E]=I&255,I/=256;for(this.u(P),P=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)P[I++]=this.g[E]>>>C&255;return P};function i(P,E){var I=a;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=E(P)}function o(P,E){this.h=E;for(var I=[],C=!0,R=P.length-1;0<=R;R--){var N=P[R]|0;C&&N==E||(I[R]=N,C=!1)}this.g=I}var a={};function u(P){return-128<=P&&128>P?i(P,function(E){return new o([E|0],0>E?-1:0)}):new o([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return b(c(-P));for(var E=[],I=1,C=0;P>=I;C++)E[C]=P/I|0,I*=4294967296;return new o(E,0)}function h(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return b(h(P.substring(1),E));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),C=f,R=0;R<P.length;R+=8){var N=Math.min(8,P.length-R),A=parseInt(P.substring(R,R+N),E);8>N?(N=c(Math.pow(E,N)),C=C.j(N).add(c(A))):(C=C.j(I),C=C.add(c(A)))}return C}var f=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(T(this))return-b(this).m();for(var P=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);P+=(0<=C?C:4294967296+C)*E,E*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(T(this))return"-"+b(this).toString(P);for(var E=c(Math.pow(P,6)),I=this,C="";;){var R=k(I,E).g;I=y(I,R.j(E));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=R,w(I))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function T(P){return P.h==-1}t.l=function(P){return P=y(this,P),T(P)?-1:w(P)?0:1};function b(P){for(var E=P.g.length,I=[],C=0;C<E;C++)I[C]=~P.g[C];return new o(I,~P.h).add(m)}t.abs=function(){return T(this)?b(this):this},t.add=function(P){for(var E=Math.max(this.g.length,P.g.length),I=[],C=0,R=0;R<=E;R++){var N=C+(this.i(R)&65535)+(P.i(R)&65535),A=(N>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);C=A>>>16,N&=65535,A&=65535,I[R]=A<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function y(P,E){return P.add(b(E))}t.j=function(P){if(w(this)||w(P))return f;if(T(this))return T(P)?b(this).j(b(P)):b(b(this).j(P));if(T(P))return b(this.j(b(P)));if(0>this.l(v)&&0>P.l(v))return c(this.m()*P.m());for(var E=this.g.length+P.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<P.g.length;R++){var N=this.i(C)>>>16,A=this.i(C)&65535,ie=P.i(R)>>>16,Oe=P.i(R)&65535;I[2*C+2*R]+=A*Oe,x(I,2*C+2*R),I[2*C+2*R+1]+=N*Oe,x(I,2*C+2*R+1),I[2*C+2*R+1]+=A*ie,x(I,2*C+2*R+1),I[2*C+2*R+2]+=N*ie,x(I,2*C+2*R+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new o(I,0)};function x(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function _(P,E){this.g=P,this.h=E}function k(P,E){if(w(E))throw Error("division by zero");if(w(P))return new _(f,f);if(T(P))return E=k(b(P),E),new _(b(E.g),b(E.h));if(T(E))return E=k(P,b(E)),new _(b(E.g),E.h);if(30<P.g.length){if(T(P)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var I=m,C=E;0>=C.l(P);)I=V(I),C=V(C);var R=L(I,1),N=L(C,1);for(C=L(C,2),I=L(I,2);!w(C);){var A=N.add(C);0>=A.l(P)&&(R=R.add(I),N=A),C=L(C,1),I=L(I,1)}return E=y(P,R.j(E)),new _(R,E)}for(R=f;0<=P.l(E);){for(I=Math.max(1,Math.floor(P.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=c(I),A=N.j(E);T(A)||0<A.l(P);)I-=C,N=c(I),A=N.j(E);w(N)&&(N=m),R=R.add(N),P=y(P,A)}return new _(R,P)}t.A=function(P){return k(this,P).h},t.and=function(P){for(var E=Math.max(this.g.length,P.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&P.i(C);return new o(I,this.h&P.h)},t.or=function(P){for(var E=Math.max(this.g.length,P.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|P.i(C);return new o(I,this.h|P.h)},t.xor=function(P){for(var E=Math.max(this.g.length,P.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^P.i(C);return new o(I,this.h^P.h)};function V(P){for(var E=P.g.length+1,I=[],C=0;C<E;C++)I[C]=P.i(C)<<1|P.i(C-1)>>>31;return new o(I,P.h)}function L(P,E){var I=E>>5;E%=32;for(var C=P.g.length-I,R=[],N=0;N<C;N++)R[N]=0<E?P.i(N+I)>>>E|P.i(N+I+1)<<32-E:P.i(N+I);return new o(R,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ns=o}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MT,$o,OT,yu,Uf,LT,FT,UT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,g){return l==Array.prototype||l==Object.prototype||(l[p]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ql=="object"&&ql];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var g=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var D=l[S];if(!(D in g))break e;g=g[D]}l=l[l.length-1],S=g[l],p=p(S),p!=S&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}function i(l,p){l instanceof String&&(l+="");var g=0,S=!1,D={next:function(){if(!S&&g<l.length){var O=g++;return{value:p(O,l[O]),done:!1}}return S=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(l){return l||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function c(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function h(l,p,g){return l.call.apply(l.bind,arguments)}function f(l,p,g){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,S),l.apply(p,D)}}return function(){return l.apply(p,arguments)}}function m(l,p,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function v(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function w(l,p){function g(){}g.prototype=p.prototype,l.aa=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(S,D,O){for(var $=Array(arguments.length-2),we=2;we<arguments.length;we++)$[we-2]=arguments[we];return p.prototype[D].apply(S,$)}}function T(l){const p=l.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=l[S];return g}return[]}function b(l,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(u(S)){const D=l.length||0,O=S.length||0;l.length=D+O;for(let $=0;$<O;$++)l[D+$]=S[$]}else l.push(S)}}class y{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(l){return/^[\s\xa0]*$/.test(l)}function _(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var V=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function L(l,p,g){for(const S in l)p.call(g,l[S],S,l)}function P(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function E(l){const p={};for(const g in l)p[g]=l[g];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,p){let g,S;for(let D=1;D<arguments.length;D++){S=arguments[D];for(g in S)l[g]=S[g];for(let O=0;O<I.length;O++)g=I[O],Object.prototype.hasOwnProperty.call(S,g)&&(l[g]=S[g])}}function R(l){var p=1;l=l.split(":");const g=[];for(;0<p&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function N(l){a.setTimeout(()=>{throw l},0)}function A(){var l=H;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ie{constructor(){this.h=this.g=null}add(p,g){const S=Oe.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var Oe=new y(()=>new ge,l=>l.reset());class ge{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let he,z=!1,H=new ie,K=()=>{const l=a.Promise.resolve(void 0);he=()=>{l.then(M)}};var M=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){N(g)}var p=Oe;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}z=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return l}();function se(l,p){if(J.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(V){e:{try{k(p.nodeName);var D=!0;break e}catch{}D=!1}D||(p=null)}}else g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:_e[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&se.aa.h.call(this)}}w(se,J);var _e={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),dr=0;function xn(l,p,g,S,D){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=D,this.key=++dr,this.da=this.fa=!1}function Gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function wt(l){this.src=l,this.g={},this.h=0}wt.prototype.add=function(l,p,g,S,D){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var $=ti(l,p,S,D);return-1<$?(p=l[$],g||(p.fa=!1)):(p=new xn(p,this.src,O,!!S,D),p.fa=g,l.push(p)),p};function ds(l,p){var g=p.type;if(g in l.g){var S=l.g[g],D=Array.prototype.indexOf.call(S,p,void 0),O;(O=0<=D)&&Array.prototype.splice.call(S,D,1),O&&(Gt(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function ti(l,p,g,S){for(var D=0;D<l.length;++D){var O=l[D];if(!O.da&&O.listener==p&&O.capture==!!g&&O.ha==S)return D}return-1}var ni="closure_lm_"+(1e6*Math.random()|0),ze={};function hr(l,p,g,S,D){if(Array.isArray(p)){for(var O=0;O<p.length;O++)hr(l,p[O],g,S,D);return null}return g=Og(g),l&&l[_t]?l.K(p,g,c(S)?!!S.capture:!1,D):cl(l,p,g,!1,S,D)}function cl(l,p,g,S,D,O){if(!p)throw Error("Invalid event type");var $=c(D)?!!D.capture:!!D,we=md(l);if(we||(l[ni]=we=new wt(l)),g=we.add(p,g,S,$,O),g.proxy)return g;if(S=pd(),g.proxy=S,S.src=l,S.listener=g,l.addEventListener)ce||(D=$),D===void 0&&(D=!1),l.addEventListener(p.toString(),S,D);else if(l.attachEvent)l.attachEvent(Mg(p.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function pd(){function l(g){return p.call(l.src,l.listener,g)}const p=MI;return l}function dl(l,p,g,S,D){if(Array.isArray(p))for(var O=0;O<p.length;O++)dl(l,p[O],g,S,D);else S=c(S)?!!S.capture:!!S,g=Og(g),l&&l[_t]?(l=l.i,p=String(p).toString(),p in l.g&&(O=l.g[p],g=ti(O,g,S,D),-1<g&&(Gt(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete l.g[p],l.h--)))):l&&(l=md(l))&&(p=l.g[p.toString()],l=-1,p&&(l=ti(p,g,S,D)),(g=-1<l?p[l]:null)&&_n(g))}function _n(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[_t])ds(p.i,l);else{var g=l.type,S=l.proxy;p.removeEventListener?p.removeEventListener(g,S,l.capture):p.detachEvent?p.detachEvent(Mg(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=md(p))?(ds(g,l),g.h==0&&(g.src=null,p[ni]=null)):Gt(l)}}}function Mg(l){return l in ze?ze[l]:ze[l]="on"+l}function MI(l,p){if(l.da)l=!0;else{p=new se(p,this);var g=l.listener,S=l.ha||l.src;l.fa&&_n(l),l=g.call(S,p)}return l}function md(l){return l=l[ni],l instanceof wt?l:null}var gd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Og(l){return typeof l=="function"?l:(l[gd]||(l[gd]=function(p){return l.handleEvent(p)}),l[gd])}function lt(){W.call(this),this.i=new wt(this),this.M=this,this.F=null}w(lt,W),lt.prototype[_t]=!0,lt.prototype.removeEventListener=function(l,p,g,S){dl(this,l,p,g,S)};function Et(l,p){var g,S=l.F;if(S)for(g=[];S;S=S.F)g.push(S);if(l=l.M,S=p.type||p,typeof p=="string")p=new J(p,l);else if(p instanceof J)p.target=p.target||l;else{var D=p;p=new J(S,l),C(p,D)}if(D=!0,g)for(var O=g.length-1;0<=O;O--){var $=p.g=g[O];D=hl($,S,!0,p)&&D}if($=p.g=l,D=hl($,S,!0,p)&&D,D=hl($,S,!1,p)&&D,g)for(O=0;O<g.length;O++)$=p.g=g[O],D=hl($,S,!1,p)&&D}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var g=l.g[p],S=0;S<g.length;S++)Gt(g[S]);delete l.g[p],l.h--}}this.F=null},lt.prototype.K=function(l,p,g,S){return this.i.add(String(l),p,!1,g,S)},lt.prototype.L=function(l,p,g,S){return this.i.add(String(l),p,!0,g,S)};function hl(l,p,g,S){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var D=!0,O=0;O<p.length;++O){var $=p[O];if($&&!$.da&&$.capture==g){var we=$.listener,Ze=$.ha||$.src;$.fa&&ds(l.i,$),D=we.call(Ze,S)!==!1&&D}}return D&&!S.defaultPrevented}function Lg(l,p,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function Fg(l){l.g=Lg(()=>{l.g=null,l.i&&(l.i=!1,Fg(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class OI extends W{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Fg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(l){W.call(this),this.h=l,this.g={}}w(fo,W);var Ug=[];function Bg(l){L(l.g,function(p,g){this.g.hasOwnProperty(g)&&_n(p)},l),l.g={}}fo.prototype.N=function(){fo.aa.N.call(this),Bg(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yd=a.JSON.stringify,LI=a.JSON.parse,FI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function vd(){}vd.prototype.h=null;function zg(l){return l.h||(l.h=l.i())}function $g(){}var po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xd(){J.call(this,"d")}w(xd,J);function _d(){J.call(this,"c")}w(_d,J);var hs={},Hg=null;function fl(){return Hg=Hg||new lt}hs.La="serverreachability";function Wg(l){J.call(this,hs.La,l)}w(Wg,J);function mo(l){const p=fl();Et(p,new Wg(p))}hs.STAT_EVENT="statevent";function qg(l,p){J.call(this,hs.STAT_EVENT,l),this.stat=p}w(qg,J);function Tt(l){const p=fl();Et(p,new qg(p,l))}hs.Ma="timingevent";function Gg(l,p){J.call(this,hs.Ma,l),this.size=p}w(Gg,J);function go(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function yo(){this.g=!0}yo.prototype.xa=function(){this.g=!1};function UI(l,p,g,S,D,O){l.info(function(){if(l.g)if(O)for(var $="",we=O.split("&"),Ze=0;Ze<we.length;Ze++){var pe=we[Ze].split("=");if(1<pe.length){var ut=pe[0];pe=pe[1];var ct=ut.split("_");$=2<=ct.length&&ct[1]=="type"?$+(ut+"="+pe+"&"):$+(ut+"=redacted&")}}else $=null;else $=O;return"XMLHTTP REQ ("+S+") [attempt "+D+"]: "+p+`
`+g+`
`+$})}function BI(l,p,g,S,D,O,$){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+D+"]: "+p+`
`+g+`
`+O+" "+$})}function ri(l,p,g,S){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+$I(l,g)+(S?" "+S:"")})}function zI(l,p){l.info(function(){return"TIMEOUT: "+p})}yo.prototype.info=function(){};function $I(l,p){if(!l.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var S=g[l];if(!(2>S.length)){var D=S[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var $=1;$<D.length;$++)D[$]=""}}}}return yd(g)}catch{return p}}var pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wd;function ml(){}w(ml,vd),ml.prototype.g=function(){return new XMLHttpRequest},ml.prototype.i=function(){return{}},wd=new ml;function fr(l,p,g,S){this.j=l,this.i=p,this.l=g,this.R=S||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qg}function Qg(){this.i=null,this.g="",this.h=!1}var Yg={},Ed={};function Td(l,p,g){l.L=1,l.v=xl(Ln(p)),l.m=g,l.P=!0,Xg(l,null)}function Xg(l,p){l.F=Date.now(),gl(l),l.A=Ln(l.v);var g=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),dy(g.i,"t",S),l.C=0,g=l.j.J,l.h=new Qg,l.g=ky(l.j,g?p:null,!l.m),0<l.O&&(l.M=new OI(m(l.Y,l,l.g),l.O)),p=l.U,g=l.g,S=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(Ug[0]=D.toString()),D=Ug);for(var O=0;O<D.length;O++){var $=hr(g,D[O],S||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),mo(),UI(l.i,l.u,l.A,l.l,l.R,l.m)}fr.prototype.ca=function(l){l=l.target;const p=this.M;p&&Fn(l)==3?p.j():this.Y(l)},fr.prototype.Y=function(l){try{if(l==this.g)e:{const ct=Fn(this.g);var p=this.g.Ba();const oi=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||vy(this.g)))){this.J||ct!=4||p==7||(p==8||0>=oi?mo(3):mo(2)),Sd(this);var g=this.g.Z();this.X=g;t:if(Jg(this)){var S=vy(this.g);l="";var D=S.length,O=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),vo(this);var $="";break t}this.h.i=new a.TextDecoder}for(p=0;p<D;p++)this.h.h=!0,l+=this.h.i.decode(S[p],{stream:!(O&&p==D-1)});S.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,BI(this.i,this.u,this.A,this.l,this.R,ct,g),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ze=this.g;if((we=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(we)){var pe=we;break t}}pe=null}if(g=pe)ri(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Id(this,g);else{this.o=!1,this.s=3,Tt(12),fs(this),vo(this);break e}}if(this.P){g=!0;let an;for(;!this.J&&this.C<$.length;)if(an=HI(this,$),an==Ed){ct==4&&(this.s=4,Tt(14),g=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Yg){this.s=4,Tt(15),ri(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else ri(this.i,this.l,an,null),Id(this,an);if(Jg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||$.length!=0||this.h.h||(this.s=1,Tt(16),g=!1),this.o=this.o&&g,!g)ri(this.i,this.l,$,"[Invalid Chunked Response]"),fs(this),vo(this);else if(0<$.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Rd(ut),ut.M=!0,Tt(11))}}else ri(this.i,this.l,$,null),Id(this,$);ct==4&&fs(this),this.o&&!this.J&&(ct==4?Iy(this.j,this):(this.o=!1,gl(this)))}else ab(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),fs(this),vo(this)}}}catch{}finally{}};function Jg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function HI(l,p){var g=l.C,S=p.indexOf(`
`,g);return S==-1?Ed:(g=Number(p.substring(g,S)),isNaN(g)?Yg:(S+=1,S+g>p.length?Ed:(p=p.slice(S,S+g),l.C=S+g,p)))}fr.prototype.cancel=function(){this.J=!0,fs(this)};function gl(l){l.S=Date.now()+l.I,Zg(l,l.I)}function Zg(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=go(m(l.ba,l),p)}function Sd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}fr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(zI(this.i,this.A),this.L!=2&&(mo(),Tt(17)),fs(this),this.s=2,vo(this)):Zg(this,this.S-l)};function vo(l){l.j.G==0||l.J||Iy(l.j,l)}function fs(l){Sd(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Bg(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Id(l,p){try{var g=l.j;if(g.G!=0&&(g.g==l||bd(g.h,l))){if(!l.K&&bd(g.h,l)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var D=S;if(D[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Il(g),Tl(g);else break e;Ad(g),Tt(18)}}else g.za=D[1],0<g.za-g.T&&37500>D[2]&&g.F&&g.v==0&&!g.C&&(g.C=go(m(g.Za,g),6e3));if(1>=ny(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ms(g,11)}else if((l.K||g.g==l)&&Il(g),!x(p))for(D=g.Da.g.parse(p),p=0;p<D.length;p++){let pe=D[p];if(g.T=pe[0],pe=pe[1],g.G==2)if(pe[0]=="c"){g.K=pe[1],g.ia=pe[2];const ut=pe[3];ut!=null&&(g.la=ut,g.j.info("VER="+g.la));const ct=pe[4];ct!=null&&(g.Aa=ct,g.j.info("SVER="+g.Aa));const oi=pe[5];oi!=null&&typeof oi=="number"&&0<oi&&(S=1.5*oi,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const an=l.g;if(an){const Pl=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var O=S.h;O.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Pd(O,O.h),O.h=null))}if(S.D){const Nd=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Nd&&(S.ya=Nd,Se(S.I,S.D,Nd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var $=l;if(S.qa=Cy(S,S.J?S.ia:null,S.W),$.K){ry(S.h,$);var we=$,Ze=S.L;Ze&&(we.I=Ze),we.B&&(Sd(we),gl(we)),S.g=$}else Ty(S);0<g.i.length&&Sl(g)}else pe[0]!="stop"&&pe[0]!="close"||ms(g,7);else g.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?ms(g,7):kd(g):pe[0]!="noop"&&g.l&&g.l.ta(pe),g.v=0)}}mo(4)}catch{}}var WI=class{constructor(l,p){this.g=l,this.map=p}};function ey(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ty(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ny(l){return l.h?1:l.g?l.g.size:0}function bd(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Pd(l,p){l.g?l.g.add(p):l.h=p}function ry(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}ey.prototype.cancel=function(){if(this.i=sy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function sy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.D);return p}return T(l.i)}function qI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var p=[],g=l.length,S=0;S<g;S++)p.push(l[S]);return p}p=[],g=0;for(S in l)p[g++]=l[S];return p}function GI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var p=[];l=l.length;for(var g=0;g<l;g++)p.push(g);return p}p=[],g=0;for(const S in l)p[g++]=S;return p}}}function iy(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var g=GI(l),S=qI(l),D=S.length,O=0;O<D;O++)p.call(void 0,S[O],g&&g[O],l)}var oy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KI(l,p){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var S=l[g].indexOf("="),D=null;if(0<=S){var O=l[g].substring(0,S);D=l[g].substring(S+1)}else O=l[g];p(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ps(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ps){this.h=l.h,yl(this,l.j),this.o=l.o,this.g=l.g,vl(this,l.s),this.l=l.l;var p=l.i,g=new wo;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),ay(this,g),this.m=l.m}else l&&(p=String(l).match(oy))?(this.h=!1,yl(this,p[1]||"",!0),this.o=xo(p[2]||""),this.g=xo(p[3]||"",!0),vl(this,p[4]),this.l=xo(p[5]||"",!0),ay(this,p[6]||"",!0),this.m=xo(p[7]||"")):(this.h=!1,this.i=new wo(null,this.h))}ps.prototype.toString=function(){var l=[],p=this.j;p&&l.push(_o(p,ly,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(_o(p,ly,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(_o(g,g.charAt(0)=="/"?XI:YI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",_o(g,ZI)),l.join("")};function Ln(l){return new ps(l)}function yl(l,p,g){l.j=g?xo(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function vl(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function ay(l,p,g){p instanceof wo?(l.i=p,eb(l.i,l.h)):(g||(p=_o(p,JI)),l.i=new wo(p,l.h))}function Se(l,p,g){l.i.set(p,g)}function xl(l){return Se(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xo(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function _o(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,QI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function QI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ly=/[#\/\?@]/g,YI=/[#\?:]/g,XI=/[#\?]/g,JI=/[#\?@]/g,ZI=/#/g;function wo(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function pr(l){l.g||(l.g=new Map,l.h=0,l.i&&KI(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=wo.prototype,t.add=function(l,p){pr(this),this.i=null,l=si(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function uy(l,p){pr(l),p=si(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function cy(l,p){return pr(l),p=si(l,p),l.g.has(p)}t.forEach=function(l,p){pr(this),this.g.forEach(function(g,S){g.forEach(function(D){l.call(p,D,S,this)},this)},this)},t.na=function(){pr(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const D=l[S];for(let O=0;O<D.length;O++)g.push(p[S])}return g},t.V=function(l){pr(this);let p=[];if(typeof l=="string")cy(this,l)&&(p=p.concat(this.g.get(si(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)p=p.concat(l[g])}return p},t.set=function(l,p){return pr(this),this.i=null,l=si(this,l),cy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function dy(l,p,g){uy(l,p),0<g.length&&(l.i=null,l.g.set(si(l,p),T(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const O=encodeURIComponent(String(S)),$=this.V(S);for(S=0;S<$.length;S++){var D=O;$[S]!==""&&(D+="="+encodeURIComponent(String($[S]))),l.push(D)}}return this.i=l.join("&")};function si(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function eb(l,p){p&&!l.j&&(pr(l),l.i=null,l.g.forEach(function(g,S){var D=S.toLowerCase();S!=D&&(uy(this,S),dy(this,D,g))},l)),l.j=p}function tb(l,p){const g=new yo;if(a.Image){const S=new Image;S.onload=v(mr,g,"TestLoadImage: loaded",!0,p,S),S.onerror=v(mr,g,"TestLoadImage: error",!1,p,S),S.onabort=v(mr,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=v(mr,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else p(!1)}function nb(l,p){const g=new yo,S=new AbortController,D=setTimeout(()=>{S.abort(),mr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:S.signal}).then(O=>{clearTimeout(D),O.ok?mr(g,"TestPingServer: ok",!0,p):mr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),mr(g,"TestPingServer: error",!1,p)})}function mr(l,p,g,S,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),S(g)}catch{}}function rb(){this.g=new FI}function sb(l,p,g){const S=g||"";try{iy(l,function(D,O){let $=D;c(D)&&($=yd(D)),p.push(S+O+"="+encodeURIComponent($))})}catch(D){throw p.push(S+"type="+encodeURIComponent("_badmap")),D}}function _l(l){this.l=l.Ub||null,this.j=l.eb||!1}w(_l,vd),_l.prototype.g=function(){return new wl(this.l,this.j)},_l.prototype.i=function(l){return function(){return l}}({});function wl(l,p){lt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(wl,lt),t=wl.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,To(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,To(this)),this.g&&(this.readyState=3,To(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function hy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Eo(this):To(this),this.readyState==3&&hy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Eo(this))},t.Qa=function(l){this.g&&(this.response=l,Eo(this))},t.ga=function(){this.g&&Eo(this)};function Eo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,To(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function To(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function fy(l){let p="";return L(l,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function Cd(l,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=fy(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Se(l,p,g))}function De(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(De,lt);var ib=/^https?$/i,ob=["POST","PUT"];t=De.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wd.g(),this.v=this.o?zg(this.o):zg(wd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(O){py(this,O);return}if(l=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var D in S)g.set(D,S[D]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const O of S.keys())g.set(O,S.get(O));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ob,p,void 0))||S||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,$]of g)this.g.setRequestHeader(O,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yy(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){py(this,O)}};function py(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,my(l),El(l)}function my(l){l.A||(l.A=!0,Et(l,"complete"),Et(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Et(this,"complete"),Et(this,"abort"),El(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),El(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gy(this):this.bb())},t.bb=function(){gy(this)};function gy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Fn(l)!=4||l.Z()!=2)){if(l.u&&Fn(l)==4)Lg(l.Ea,0,l);else if(Et(l,"readystatechange"),Fn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=$===0){var D=String(l.D).match(oy)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),S=!ib.test(D?D.toLowerCase():"")}g=S}if(g)Et(l,"complete"),Et(l,"success");else{l.m=6;try{var O=2<Fn(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",my(l)}}finally{El(l)}}}}function El(l,p){if(l.g){yy(l);const g=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Et(l,"ready");try{g.onreadystatechange=S}catch{}}}function yy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Fn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),LI(p)}};function vy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ab(l){const p={};l=(l.g&&2<=Fn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(x(l[S]))continue;var g=R(l[S]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const O=p[D]||[];p[D]=O,O.push(g)}P(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function xy(l){this.Aa=0,this.i=[],this.j=new yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,l),this.cb=So("retryDelaySeedMs",1e4,l),this.Wa=So("forwardChannelMaxRetries",2,l),this.wa=So("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ey(l&&l.concurrentRequestLimit),this.Da=new rb,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xy.prototype,t.la=8,t.G=1,t.connect=function(l,p,g,S){Tt(0),this.W=l,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Cy(this,null,this.W),Sl(this)};function kd(l){if(_y(l),l.G==3){var p=l.U++,g=Ln(l.I);if(Se(g,"SID",l.K),Se(g,"RID",p),Se(g,"TYPE","terminate"),Io(l,g),p=new fr(l,l.j,p),p.L=2,p.v=xl(Ln(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=ky(p.j,null),p.g.ea(p.v)),p.F=Date.now(),gl(p)}Py(l)}function Tl(l){l.g&&(Rd(l),l.g.cancel(),l.g=null)}function _y(l){Tl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Il(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Sl(l){if(!ty(l.h)&&!l.s){l.s=!0;var p=l.Ga;he||K(),z||(he(),z=!0),H.add(p,l),l.B=0}}function lb(l,p){return ny(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=go(m(l.Ga,l,p),by(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new fr(this,this.j,l);let O=this.o;if(this.S&&(O?(O=E(O),C(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Ey(this,D,p),g=Ln(this.I),Se(g,"RID",l),Se(g,"CVER",22),this.D&&Se(g,"X-HTTP-Session-Id",this.D),Io(this,g),O&&(this.O?p="headers="+encodeURIComponent(String(fy(O)))+"&"+p:this.m&&Cd(g,this.m,O)),Pd(this.h,D),this.Ua&&Se(g,"TYPE","init"),this.P?(Se(g,"$req",p),Se(g,"SID","null"),D.T=!0,Td(D,g,null)):Td(D,g,p),this.G=2}}else this.G==3&&(l?wy(this,l):this.i.length==0||ty(this.h)||wy(this))};function wy(l,p){var g;p?g=p.l:g=l.U++;const S=Ln(l.I);Se(S,"SID",l.K),Se(S,"RID",g),Se(S,"AID",l.T),Io(l,S),l.m&&l.o&&Cd(S,l.m,l.o),g=new fr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Ey(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Pd(l.h,g),Td(g,S,p)}function Io(l,p){l.H&&L(l.H,function(g,S){Se(p,S,g)}),l.l&&iy({},function(g,S){Se(p,S,g)})}function Ey(l,p,g){g=Math.min(l.i.length,g);var S=l.l?m(l.l.Na,l.l,l):null;e:{var D=l.i;let O=-1;for(;;){const $=["count="+g];O==-1?0<g?(O=D[0].g,$.push("ofs="+O)):O=0:$.push("ofs="+O);let we=!0;for(let Ze=0;Ze<g;Ze++){let pe=D[Ze].g;const ut=D[Ze].map;if(pe-=O,0>pe)O=Math.max(0,D[Ze].g-100),we=!1;else try{sb(ut,$,"req"+pe+"_")}catch{S&&S(ut)}}if(we){S=$.join("&");break e}}}return l=l.i.splice(0,g),p.D=l,S}function Ty(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;he||K(),z||(he(),z=!0),H.add(p,l),l.v=0}}function Ad(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=go(m(l.Fa,l),by(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Sy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=go(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Tl(this),Sy(this))};function Rd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Sy(l){l.g=new fr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Ln(l.qa);Se(p,"RID","rpc"),Se(p,"SID",l.K),Se(p,"AID",l.T),Se(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Se(p,"TO",l.ja),Se(p,"TYPE","xmlhttp"),Io(l,p),l.m&&l.o&&Cd(p,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=xl(Ln(p)),g.m=null,g.P=!0,Xg(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Tl(this),Ad(this),Tt(19))};function Il(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Iy(l,p){var g=null;if(l.g==p){Il(l),Rd(l),l.g=null;var S=2}else if(bd(l.h,p))g=p.D,ry(l.h,p),S=1;else return;if(l.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var D=l.B;S=fl(),Et(S,new Gg(S,g)),Sl(l)}else Ty(l);else if(D=p.s,D==3||D==0&&0<p.X||!(S==1&&lb(l,p)||S==2&&Ad(l)))switch(g&&0<g.length&&(p=l.h,p.i=p.i.concat(g)),D){case 1:ms(l,5);break;case 4:ms(l,10);break;case 3:ms(l,6);break;default:ms(l,2)}}}function by(l,p){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*p}function ms(l,p){if(l.j.info("Error code "+p),p==2){var g=m(l.fb,l),S=l.Xa;const D=!S;S=new ps(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yl(S,"https"),xl(S),D?tb(S.toString(),g):nb(S.toString(),g)}else Tt(2);l.G=0,l.l&&l.l.sa(p),Py(l),_y(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Py(l){if(l.G=0,l.ka=[],l.l){const p=sy(l.h);(p.length!=0||l.i.length!=0)&&(b(l.ka,p),b(l.ka,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.ra()}}function Cy(l,p,g){var S=g instanceof ps?Ln(g):new ps(g);if(S.g!="")p&&(S.g=p+"."+S.g),vl(S,S.s);else{var D=a.location;S=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;var O=new ps(null);S&&yl(O,S),p&&(O.g=p),D&&vl(O,D),g&&(O.l=g),S=O}return g=l.D,p=l.ya,g&&p&&Se(S,g,p),Se(S,"VER",l.la),Io(l,S),S}function ky(l,p,g){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new De(new _l({eb:g})):new De(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ay(){}t=Ay.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bl(){}bl.prototype.g=function(l,p){return new Ot(l,p)};function Ot(l,p){lt.call(this),this.g=new xy(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!x(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new ii(this)}w(Ot,lt),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){kd(this.g)},Ot.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=yd(l),l=g);p.i.push(new WI(p.Ya++,l)),p.G==3&&Sl(p)},Ot.prototype.N=function(){this.g.l=null,delete this.j,kd(this.g),delete this.g,Ot.aa.N.call(this)};function Ry(l){xd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}w(Ry,xd);function Ny(){_d.call(this),this.status=1}w(Ny,_d);function ii(l){this.g=l}w(ii,Ay),ii.prototype.ua=function(){Et(this.g,"a")},ii.prototype.ta=function(l){Et(this.g,new Ry(l))},ii.prototype.sa=function(l){Et(this.g,new Ny)},ii.prototype.ra=function(){Et(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,UT=function(){return new bl},FT=function(){return fl()},LT=hs,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,yu=pl,Kg.COMPLETE="complete",OT=Kg,$g.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",lt.prototype.listen=lt.prototype.K,$o=$g,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,MT=De}).apply(typeof ql<"u"?ql:typeof self<"u"?self:typeof window<"u"?window:{});const P0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new fm("@firebase/firestore");function Do(){return $s.logLevel}function G(t,...e){if($s.logLevel<=ue.DEBUG){const n=e.map(Pm);$s.debug(`Firestore (${ao}): ${t}`,...n)}}function sr(t,...e){if($s.logLevel<=ue.ERROR){const n=e.map(Pm);$s.error(`Firestore (${ao}): ${t}`,...n)}}function Wi(t,...e){if($s.logLevel<=ue.WARN){const n=e.map(Pm);$s.warn(`Firestore (${ao}): ${t}`,...n)}}function Pm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw sr(e),new Error(e)}function ve(t,e){t||ee()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class qN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GN{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new BT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new mt(e)}}class KN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new KN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ve(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new YN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=JN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function qi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Qe(0,0))}static max(){return new ne(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ce extends ja{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends ja{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return ZN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ce.fromString(e))}static fromName(e){return new Y(Ce.fromString(e).popFirst(5))}static empty(){return new Y(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ce(e.slice()))}}function ej(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Zr(s,Y.empty(),e)}function tj(t){return new Zr(t.readTime,t.key,-1)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(ne.min(),Y.empty(),-1)}static max(){return new Zr(ne.max(),Y.empty(),-1)}}function nj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==rj)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ij(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cm.oe=-1;function Wc(t){return t==null}function ic(t){return t===0&&1/t==-1/0}function oj(t){return typeof t=="number"&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $T(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gl(this.root,e,this.comparator,!0)}}class Gl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nt.RED,this.left=s??nt.EMPTY,this.right=i??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,s,i){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new it(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HT("Invalid base64 string: "+i):i}}(e);return new at(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const aj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(ve(!!t),typeof t=="string"){let e=0;const n=aj.exec(t);if(ve(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Am(t){const e=t.mapValue.fields.__previous_value__;return km(e)?Am(e):e}function Da(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Va{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl={mapValue:{}};function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?km(t)?4:cj(t)?9007199254740991:uj(t)?10:11:ee()}function Nn(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Da(t).isEqual(Da(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=es(s.timestampValue),a=es(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Hs(s.bytesValue).isEqual(Hs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Le(s.geoPointValue.latitude)===Le(i.geoPointValue.latitude)&&Le(s.geoPointValue.longitude)===Le(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Le(s.integerValue)===Le(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Le(s.doubleValue),a=Le(i.doubleValue);return o===a?ic(o)===ic(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qi(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(C0(o)!==C0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Nn(o[u],a[u])))return!1;return!0}(t,e);default:return ee()}}function Ma(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function Gi(t,e){if(t===e)return 0;const n=Ws(t),r=Ws(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Le(i.integerValue||i.doubleValue),u=Le(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return A0(t.timestampValue,e.timestampValue);case 4:return A0(Da(t),Da(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Hs(i),u=Hs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=me(a[c],u[c]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(Le(i.latitude),Le(o.latitude));return a!==0?a:me(Le(i.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,h;const f=i.fields||{},m=o.fields||{},v=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(u=m.value)===null||u===void 0?void 0:u.arrayValue,T=me(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:R0(v,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Kl.mapValue&&o===Kl.mapValue)return 0;if(i===Kl.mapValue)return 1;if(o===Kl.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=me(u[f],h[f]);if(m!==0)return m;const v=Gi(a[u[f]],c[h[f]]);if(v!==0)return v}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function A0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=es(t),r=es(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function R0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Gi(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function Ki(t){return Bf(t)}function Bf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Bf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Bf(n.fields[o])}`;return s+"}"}(t.mapValue):ee()}function zf(t){return!!t&&"integerValue"in t}function Rm(t){return!!t&&"arrayValue"in t}function N0(t){return!!t&&"nullValue"in t}function j0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vu(t){return!!t&&"mapValue"in t}function uj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ra(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ra(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ra(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(n)}setAll(e){let n=rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ra(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];vu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new At(ra(this.value))}}function WT(t){const e=[];return Xs(t.fields,(n,r)=>{const s=new rt([n]);if(vu(r)){const i=WT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,ne.min(),ne.min(),ne.min(),At.empty(),0)}static newFoundDocument(e,n,r,s){return new yt(e,1,n,ne.min(),r,s,0)}static newNoDocument(e,n){return new yt(e,2,n,ne.min(),ne.min(),At.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,ne.min(),ne.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.position=e,this.inclusive=n}}function D0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Gi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function V0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function dj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qT=class{};class Ge extends qT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fj(e,n,r):n==="array-contains"?new gj(e,r):n==="in"?new yj(e,r):n==="not-in"?new vj(e,r):n==="array-contains-any"?new xj(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pj(e,r):new mj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gi(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends qT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jn(e,n)}matches(e){return GT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function GT(t){return t.op==="and"}function KT(t){return hj(t)&&GT(t)}function hj(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function $f(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Ki(t.value);if(KT(t))return t.filters.map(e=>$f(e)).join(",");{const e=t.filters.map(n=>$f(n)).join(",");return`${t.op}(${e})`}}function QT(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&Nn(r.value,s.value)}(t,e):t instanceof jn?function(r,s){return s instanceof jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&QT(o,s.filters[a]),!0):!1}(t,e):void ee()}function YT(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Ki(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(YT).join(" ,")+"}"}(t):"Filter"}class fj extends Ge{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class pj extends Ge{constructor(e,n){super(e,"in",n),this.keys=XT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mj extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=XT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class gj extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rm(n)&&Ma(n.arrayValue,this.value)}}class yj extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ma(this.value.arrayValue,n)}}class vj extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ma(this.value.arrayValue,n)}}class xj extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ma(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function M0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new _j(t,e,n,r,s,i,o)}function Nm(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$f(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ki(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ki(r)).join(",")),e.ue=n}return e.ue}function jm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V0(t.startAt,e.startAt)&&V0(t.endAt,e.endAt)}function Hf(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wj(t,e,n,r,s,i,o,a){return new qc(t,e,n,r,s,i,o,a)}function Dm(t){return new qc(t)}function O0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ej(t){return t.collectionGroup!==null}function sa(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(rt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new ac(i,r))}),n.has(rt.keyField().canonicalString())||e.ce.push(new ac(rt.keyField(),r))}return e.ce}function kn(t){const e=re(t);return e.le||(e.le=Tj(e,sa(t))),e.le}function Tj(t,e){if(t.limitType==="F")return M0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ac(s.field,i)});const n=t.endAt?new oc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oc(t.startAt.position,t.startAt.inclusive):null;return M0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wf(t,e,n){return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gc(t,e){return jm(kn(t),kn(e))&&t.limitType===e.limitType}function JT(t){return`${Nm(kn(t))}|lt:${t.limitType}`}function li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>YT(s)).join(", ")}]`),Wc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ki(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ki(s)).join(",")),`Target(${r})`}(kn(t))}; limitType=${t.limitType})`}function Kc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of sa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=D0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,sa(r),s)||r.endAt&&!function(o,a,u){const c=D0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,sa(r),s))}(t,e)}function Sj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZT(t){return(e,n)=>{let r=!1;for(const s of sa(t)){const i=Ij(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Ij(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Gi(u,c):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new je(Y.comparator);function ir(){return bj}const e1=new je(Y.comparator);function Ho(...t){let e=e1;for(const n of t)e=e.insert(n.key,n);return e}function t1(t){let e=e1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ps(){return ia()}function n1(){return ia()}function ia(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Pj=new je(Y.comparator),Cj=new it(Y.comparator);function le(...t){let e=Cj;for(const n of t)e=e.add(n);return e}const kj=new it(me);function Aj(){return kj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function r1(t){return{integerValue:""+t}}function Rj(t,e){return oj(e)?r1(e):Vm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function Nj(t,e,n){return t instanceof Oa?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&km(i)&&(i=Am(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Qi?i1(t,e):t instanceof Yi?o1(t,e):function(s,i){const o=s1(s,i),a=L0(o)+L0(s.Pe);return zf(o)&&zf(s.Pe)?r1(a):Vm(s.serializer,a)}(t,e)}function jj(t,e,n){return t instanceof Qi?i1(t,e):t instanceof Yi?o1(t,e):n}function s1(t,e){return t instanceof lc?function(r){return zf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Oa extends Qc{}class Qi extends Qc{constructor(e){super(),this.elements=e}}function i1(t,e){const n=a1(e);for(const r of t.elements)n.some(s=>Nn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Yi extends Qc{constructor(e){super(),this.elements=e}}function o1(t,e){let n=a1(e);for(const r of t.elements)n=n.filter(s=>!Nn(s,r));return{arrayValue:{values:n}}}class lc extends Qc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function L0(t){return Le(t.integerValue||t.doubleValue)}function a1(t){return Rm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.field=e,this.transform=n}}function Dj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Qi&&s instanceof Qi||r instanceof Yi&&s instanceof Yi?qi(r.elements,s.elements,Nn):r instanceof lc&&s instanceof lc?Nn(r.Pe,s.Pe):r instanceof Oa&&s instanceof Oa}(t.transform,e.transform)}class Vj{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yc{}function l1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new c1(t.key,gn.none()):new el(t.key,t.data,gn.none());{const n=t.data,r=At.empty();let s=new it(rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new us(t.key,r,new Bt(s.toArray()),gn.none())}}function Mj(t,e,n){t instanceof el?function(s,i,o){const a=s.value.clone(),u=U0(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof us?function(s,i,o){if(!xu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=U0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(u1(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function oa(t,e,n,r){return t instanceof el?function(i,o,a,u){if(!xu(i.precondition,o))return a;const c=i.value.clone(),h=B0(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(i,o,a,u){if(!xu(i.precondition,o))return a;const c=B0(i.fieldTransforms,u,o),h=o.data;return h.setAll(u1(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return xu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Oj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=s1(r.transform,s||null);i!=null&&(n===null&&(n=At.empty()),n.set(r.field,i))}return n||null}function F0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qi(r,s,(i,o)=>Dj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class el extends Yc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class us extends Yc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function u1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function U0(t,e,n){const r=new Map;ve(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,jj(o,a,n[s]))}return r}function B0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Nj(i,o,e))}return r}class c1 extends Yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lj extends Yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Mj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=l1(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&qi(this.mutations,e.mutations,(n,r)=>F0(n,r))&&qi(this.baseMutations,e.baseMutations,(n,r)=>F0(n,r))}}class Om{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ve(e.mutations.length===r.length);let s=function(){return Pj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Om(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,de;function zj(t){switch(t){default:return ee();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function d1(t){if(t===void 0)return sr("GRPC error has no .code"),U.UNKNOWN;switch(t){case $e.OK:return U.OK;case $e.CANCELLED:return U.CANCELLED;case $e.UNKNOWN:return U.UNKNOWN;case $e.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case $e.INTERNAL:return U.INTERNAL;case $e.UNAVAILABLE:return U.UNAVAILABLE;case $e.UNAUTHENTICATED:return U.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case $e.NOT_FOUND:return U.NOT_FOUND;case $e.ALREADY_EXISTS:return U.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return U.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case $e.ABORTED:return U.ABORTED;case $e.OUT_OF_RANGE:return U.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return U.UNIMPLEMENTED;case $e.DATA_LOSS:return U.DATA_LOSS;default:return ee()}}(de=$e||($e={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new Ns([4294967295,4294967295],0);function z0(t){const e=$j().encode(t),n=new VT;return n.update(e),new Uint8Array(n.digest())}function $0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ns([n,r],0),new Ns([s,i],0)]}class Lm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(r<0)throw new Wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ns.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ns.fromNumber(r)));return s.compare(Hj)===1&&(s=new Ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=z0(e),[r,s]=$0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Lm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=z0(e),[r,s]=$0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xc(ne.min(),s,new je(me),ir(),le())}}class tl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tl(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class h1{constructor(e,n){this.targetId=e,this.me=n}}class f1{constructor(e,n,r=at.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class H0{constructor(){this.fe=0,this.ge=q0(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee()}}),new tl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=q0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Wj{constructor(e){this.Le=e,this.Be=new Map,this.ke=ir(),this.qe=W0(),this.Qe=new je(me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Hf(i))if(r===0){const o=new Y(i.path);this.Ue(n,o,yt.newNoDocument(o,ne.min()))}else ve(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Hs(r).toUint8Array()}catch(u){if(u instanceof HT)return Wi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Lm(o,s,i)}catch(u){return Wi(u instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Hf(a.target)){const u=new Y(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,yt.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=le();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Xc(e,n,this.Qe,this.ke,r);return this.ke=ir(),this.qe=W0(),this.Qe=new je(me),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new H0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new H0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function W0(){return new je(Y.comparator)}function q0(){return new je(Y.comparator)}const qj={asc:"ASCENDING",desc:"DESCENDING"},Gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kj={and:"AND",or:"OR"};class Qj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qf(t,e){return t.useProto3Json||Wc(e)?e:{value:e}}function uc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yj(t,e){return uc(t,e.toTimestamp())}function An(t){return ve(!!t),ne.fromTimestamp(function(n){const r=es(n);return new Qe(r.seconds,r.nanos)}(t))}function Fm(t,e){return Gf(t,e).canonicalString()}function Gf(t,e){const n=function(s){return new Ce(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function m1(t){const e=Ce.fromString(t);return ve(_1(e)),e}function Kf(t,e){return Fm(t.databaseId,e.path)}function fh(t,e){const n=m1(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(y1(n))}function g1(t,e){return Fm(t.databaseId,e)}function Xj(t){const e=m1(t);return e.length===4?Ce.emptyPath():y1(e)}function Qf(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y1(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function G0(t,e,n){return{name:Kf(t,e),fields:n.value.mapValue.fields}}function Jj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ve(h===void 0||typeof h=="string"),at.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),at.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:d1(c.code);return new Q(h,c.message||"")}(o);n=new f1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fh(t,r.document.name),i=An(r.document.updateTime),o=r.document.createTime?An(r.document.createTime):ne.min(),a=new At({mapValue:{fields:r.document.fields}}),u=yt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new _u(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fh(t,r.document),i=r.readTime?An(r.readTime):ne.min(),o=yt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new _u([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fh(t,r.document),i=r.removedTargetIds||[];n=new _u([],i,s,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Bj(s,i),a=r.targetId;n=new h1(a,o)}}return n}function Zj(t,e){let n;if(e instanceof el)n={update:G0(t,e.key,e.value)};else if(e instanceof c1)n={delete:Kf(t,e.key)};else if(e instanceof us)n={update:G0(t,e.key,e.data),updateMask:lD(e.fieldMask)};else{if(!(e instanceof Lj))return ee();n={verify:Kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Oa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Yj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(t,e.precondition)),n}function eD(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?An(s.updateTime):An(i);return o.isEqual(ne.min())&&(o=An(i)),new Vj(o,s.transformResults||[])}(n,e))):[]}function tD(t,e){return{documents:[g1(t,e.path)]}}function nD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g1(t,s);const i=function(c){if(c.length!==0)return x1(jn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:ui(m.field),direction:iD(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function rD(t){let e=Xj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ve(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=v1(f);return m instanceof jn&&KT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new ac(ci(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Wc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,v=f.values||[];return new oc(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,v=f.values||[];return new oc(v,m)}(n.endAt)),wj(e,s,o,i,a,"F",u,c)}function sD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ci(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ci(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ci(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ci(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(ci(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>v1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function iD(t){return qj[t]}function oD(t){return Gj[t]}function aD(t){return Kj[t]}function ui(t){return{fieldPath:t.canonicalString()}}function ci(t){return rt.fromServerFormat(t.fieldPath)}function x1(t){return t instanceof Ge?function(n){if(n.op==="=="){if(j0(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NAN"}};if(N0(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j0(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NOT_NAN"}};if(N0(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ui(n.field),op:oD(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(s=>x1(s));return r.length===1?r[0]:{compositeFilter:{op:aD(n.op),filters:r}}}(t):ee()}function lD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,s,i=ne.min(),o=ne.min(),a=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.ct=e}}function cD(t){const e=rD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.un=new hD}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Zr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class hD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(Ce.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xi(0)}static kn(){return new Xi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&oa(r.mutation,s,Bt.empty(),Qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ho();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ir();const o=ia(),a=function(){return ia()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof us)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),oa(h.mutation,c,h.mutation.getFieldMask(),Qe.now())):o.set(c.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new pD(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ia();let s=new je((o,a)=>o-a),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Bt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(s.get(a.batchId)||le()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=n1();h.forEach(m=>{if(!i.has(m)){const v=l1(n.get(m),r.get(m));v!==null&&f.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ej(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Ps());let a=-1,u=i;return o.next(c=>F.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,le())).next(h=>({batchId:a,changes:t1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Ho();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ho();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,u=>{const c=function(f,m){return new qc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,yt.newInvalidDocument(h)))});let a=Ho();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&oa(h.mutation,c,Bt.empty(),Qe.now()),Kc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:An(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:cD(s.bundledQuery),readTime:An(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.overlays=new je(Y.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ps();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Ps(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Ps(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ps(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return F.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Uj(n,r));let i=this.Ir.get(n);i===void 0&&(i=le(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.Tr=new it(Ye.Er),this.dr=new it(Ye.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ye(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ye(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new Ce([])),r=new Ye(n,e),s=new Ye(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new Ce([])),r=new Ye(n,e),s=new Ye(n,e+1);let i=le();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ye(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ye{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Ye.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Fj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Ye(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ye(n,0),s=new Ye(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(me);return n.forEach(s=>{const i=new Ye(s,0),o=new Ye(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new Ye(new Y(i),0);let a=new it(me);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,s=>{const i=new Ye(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ye(n,0),s=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.Mr=e,this.docs=function(){return new je(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ir();const o=n.path,a=new Y(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||nj(tj(h),r)<=0||(s.has(h.key)||Kc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wD(this)}getSize(e){return F.resolve(this.size)}}class wD extends fD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.persistence=e,this.Nr=new lo(n=>Nm(n),jm),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Um,this.targetCount=0,this.kr=Xi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cm(0),this.Kr=!1,this.Kr=!0,this.$r=new vD,this.referenceDelegate=e(this),this.Ur=new ED(this),this.indexManager=new dD,this.remoteDocumentCache=function(s){return new _D(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new uD(n),this.Gr=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new SD(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class SD extends sj{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Jr=new Um,this.Yr=null}static Zr(e){return new Bm(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const s=Y.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=le(),s=le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new zm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sA()?8:ij(xt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new ID;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Do()<=ue.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Do()<=ue.DEBUG&&G("QueryEngine","Query:",li(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Do()<=ue.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):F.resolve())}Yi(e,n){if(O0(n))return F.resolve(null);let r=kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wf(n,null,"F"),r=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=le(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Wf(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,s){return O0(n)||s.isEqual(ne.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?F.resolve(null):(Do()<=ue.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),li(n)),this.rs(e,o,n,ej(s,-1)).next(a=>a))})}ts(e,n){let r=new it(ZT(e));return n.forEach((s,i)=>{Kc(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Do()<=ue.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",li(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new je(me),this._s=new lo(i=>Nm(i),jm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function CD(t,e,n,r){return new PD(t,e,n,r)}async function w1(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=le();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function kD(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let v=F.resolve();return m.forEach(w=>{v=v.next(()=>h.getEntry(u,w)).next(T=>{const b=c.docVersions.get(w);ve(b!==null),T.version.compareTo(b)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function E1(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AD(t,e){const n=re(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(at.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(T,b,y){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(i,v))});let u=ir(),c=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(RD(i,o,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(ne.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function RD(t,e,n){let r=le(),s=le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ir();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function ND(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jD(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Yf(t,e,n){const r=re(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Za(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function K0(t,e,n){const r=re(t);let s=ne.min(),i=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=re(u),m=f._s.get(h);return m!==void 0?F.resolve(f.os.get(m)):f.Ur.getTargetData(c,h)}(r,o,kn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ne.min(),n?i:le())).next(a=>(DD(r,Sj(e),a),{documents:a,Ts:i})))}function DD(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Q0{constructor(){this.activeTargetIds=Aj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VD{constructor(){this.so=new Q0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Q0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql=null;function ph(){return Ql===null?Ql=function(){return 268435456+Math.round(2147483648*Math.random())}():Ql++,"0x"+Ql.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class FD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=ph(),u=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,u,c,s).then(h=>(G("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Wi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=OD[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=ph();return new Promise((o,a)=>{const u=new MT;u.setWithCredentials(!0),u.listenOnce(OT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yu.NO_ERROR:const h=u.getResponseJson();G(ft,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case yu.TIMEOUT:G(ft,`RPC '${e}' ${i} timed out`),a(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case yu.HTTP_ERROR:const f=u.getStatus();if(G(ft,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const w=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(v.status);a(new Q(w,v.message))}else a(new Q(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Q(U.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{G(ft,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);G(ft,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=ph(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UT(),a=FT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");G(ft,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,v=!1;const w=new LD({Io:b=>{v?G(ft,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(G(ft,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),G(ft,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},To:()=>f.close()}),T=(b,y,x)=>{b.listen(y,_=>{try{x(_)}catch(k){setTimeout(()=>{throw k},0)}})};return T(f,$o.EventType.OPEN,()=>{v||(G(ft,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),T(f,$o.EventType.CLOSE,()=>{v||(v=!0,G(ft,`RPC '${e}' stream ${s} transport closed`),w.So())}),T(f,$o.EventType.ERROR,b=>{v||(v=!0,Wi(ft,`RPC '${e}' stream ${s} transport errored:`,b),w.So(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),T(f,$o.EventType.MESSAGE,b=>{var y;if(!v){const x=b.data[0];ve(!!x);const _=x,k=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(k){G(ft,`RPC '${e}' stream ${s} received error:`,k);const V=k.status;let L=function(I){const C=$e[I];if(C!==void 0)return d1(C)}(V),P=k.message;L===void 0&&(L=U.INTERNAL,P="Unknown error status: "+V+" with message "+k.message),v=!0,w.So(new Q(L,P)),f.close()}else G(ft,`RPC '${e}' stream ${s} received:`,x),w.bo(x)}}),T(a,LT.STAT_EVENT,b=>{b.stat===Uf.PROXY?G(ft,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Uf.NOPROXY&&G(ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){return new Qj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new T1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UD extends S1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Jj(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?An(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Qf(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Hf(u)?{documents:tD(i,u)}:{query:nD(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=p1(i,o.resumeToken);const c=qf(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=uc(i,o.snapshotVersion.toTimestamp());const c=qf(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Qf(this.serializer),n.removeTarget=e,this.a_(n)}}class BD extends S1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=eD(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Qf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Zj(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Gf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(U.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Gf(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sr(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Js(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=re(u);c.L_.add(4),await nl(c),c.q_.set("Unknown"),c.L_.delete(4),await Zc(c)}(this))})}),this.q_=new $D(r,s)}}async function Zc(t){if(Js(t))for(const e of t.B_)await e(!0)}async function nl(t){for(const e of t.B_)await e(!1)}function I1(t,e){const n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),qm(n)?Wm(n):uo(n).r_()&&Hm(n,e))}function $m(t,e){const n=re(t),r=uo(n);n.N_.delete(e),r.r_()&&b1(n,e),n.N_.size===0&&(r.r_()?r.o_():Js(n)&&n.q_.set("Unknown"))}function Hm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(t).A_(e)}function b1(t,e){t.Q_.xe(e),uo(t).R_(e)}function Wm(t){t.Q_=new Wj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uo(t).start(),t.q_.v_()}function qm(t){return Js(t)&&!uo(t).n_()&&t.N_.size>0}function Js(t){return re(t).L_.size===0}function P1(t){t.Q_=void 0}async function WD(t){t.q_.set("Online")}async function qD(t){t.N_.forEach((e,n)=>{Hm(t,e)})}async function GD(t,e){P1(t),qm(t)?(t.q_.M_(e),Wm(t)):t.q_.set("Unknown")}async function KD(t,e,n){if(t.q_.set("Online"),e instanceof f1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cc(t,r)}else if(e instanceof _u?t.Q_.Ke(e):e instanceof h1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const r=await E1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.N_.get(u);if(!h)return;i.N_.set(u,h.withResumeToken(at.EMPTY_BYTE_STRING,h.snapshotVersion)),b1(i,u);const f=new Nr(h.target,u,c,h.sequenceNumber);Hm(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await cc(t,r)}}async function cc(t,e,n){if(!Za(e))throw e;t.L_.add(1),await nl(t),t.q_.set("Offline"),n||(n=()=>E1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Zc(t)})}function C1(t,e){return e().catch(n=>cc(t,n,e))}async function ed(t){const e=re(t),n=ts(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;QD(e);)try{const s=await ND(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,YD(e,s)}catch(s){await cc(e,s)}k1(e)&&A1(e)}function QD(t){return Js(t)&&t.O_.length<10}function YD(t,e){t.O_.push(e);const n=ts(t);n.r_()&&n.V_&&n.m_(e.mutations)}function k1(t){return Js(t)&&!ts(t).n_()&&t.O_.length>0}function A1(t){ts(t).start()}async function XD(t){ts(t).p_()}async function JD(t){const e=ts(t);for(const n of t.O_)e.m_(n.mutations)}async function ZD(t,e,n){const r=t.O_.shift(),s=Om.from(r,e,n);await C1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ed(t)}async function eV(t,e){e&&ts(t).V_&&await async function(r,s){if(function(o){return zj(o)&&o!==U.ABORTED}(s.code)){const i=r.O_.shift();ts(r).s_(),await C1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ed(r)}}(t,e),k1(t)&&A1(t)}async function X0(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.L_.add(3),await nl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Zc(n)}async function tV(t,e){const n=re(t);e?(n.L_.delete(2),await Zc(n)):e||(n.L_.add(2),await nl(n),n.q_.set("Unknown"))}function uo(t){return t.K_||(t.K_=function(n,r,s){const i=re(n);return i.w_(),new UD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:WD.bind(null,t),Ro:qD.bind(null,t),mo:GD.bind(null,t),d_:KD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),qm(t)?Wm(t):t.q_.set("Unknown")):(await t.K_.stop(),P1(t))})),t.K_}function ts(t){return t.U_||(t.U_=function(n,r,s){const i=re(n);return i.w_(),new BD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:XD.bind(null,t),mo:eV.bind(null,t),f_:JD.bind(null,t),g_:ZD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ed(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Gm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Za(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Ho(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Mi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.W_=new je(Y.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ji{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ji(e,n,Mi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class rV{constructor(){this.queries=Z0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=re(n),i=s.queries;s.queries=Z0(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function Z0(){return new lo(t=>JT(t),Gc)}async function sV(t,e){const n=re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new nV,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Km(o,`Initialization of query '${li(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Qm(n)}async function iV(t,e){const n=re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oV(t,e){const n=re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Qm(n)}function aV(t,e,n){const r=re(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Qm(t){t.Y_.forEach(e=>{e.next()})}var Xf,ex;(ex=Xf||(Xf={})).ea="default",ex.Cache="cache";class lV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ji(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ji.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.key=e}}class N1{constructor(e){this.key=e}}class uV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=ZT(e),this.Ra=new Mi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new J0,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),v=Kc(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),T=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;m&&v?m.data.isEqual(v.data)?w!==T&&(r.track({type:3,doc:v}),b=!0):this.ga(m,v)||(r.track({type:2,doc:v}),b=!0,(u&&this.Aa(v,u)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),b=!0):m&&!v&&(r.track({type:1,doc:m}),b=!0,(u||c)&&(a=!0)),b&&(v?(o=o.add(v),i=T?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(v,w){const T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return T(v)-T(w)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Ji(this.query,e.Ra,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new J0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new N1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new R1(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ji.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dV{constructor(e){this.key=e,this.va=!1}}class hV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new lo(a=>JT(a),Gc),this.Ma=new Map,this.xa=new Set,this.Oa=new je(Y.comparator),this.Na=new Map,this.La=new Um,this.Ba={},this.ka=new Map,this.qa=Xi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fV(t,e,n=!0){const r=L1(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await j1(r,e,n,!0),s}async function pV(t,e){const n=L1(t);await j1(n,e,!0,!1)}async function j1(t,e,n,r){const s=await jD(t.localStore,kn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await mV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&I1(t.remoteStore,s),a}async function mV(t,e,n,r,s){t.Ka=(f,m,v)=>async function(T,b,y,x){let _=b.view.ma(y);_.ns&&(_=await K0(T.localStore,b.query,!1).then(({documents:P})=>b.view.ma(P,_)));const k=x&&x.targetChanges.get(b.targetId),V=x&&x.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(_,T.isPrimaryClient,k,V);return nx(T,b.targetId,L.wa),L.snapshot}(t,f,m,v);const i=await K0(t.localStore,e,!0),o=new uV(e,i.Ts),a=o.ma(i.documents),u=tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);nx(t,n,c.wa);const h=new cV(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function gV(t,e,n){const r=re(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Gc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&$m(r.remoteStore,s.targetId),Jf(r,s.targetId)}).catch(Ja)):(Jf(r,s.targetId),await Yf(r.localStore,s.targetId,!0))}async function yV(t,e){const n=re(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$m(n.remoteStore,r.targetId))}async function vV(t,e,n){const r=IV(t);try{const s=await function(o,a){const u=re(o),c=Qe.now(),h=a.reduce((v,w)=>v.add(w.key),le());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=ir(),T=le();return u.cs.getEntries(v,h).next(b=>{w=b,w.forEach((y,x)=>{x.isValidDocument()||(T=T.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,w)).next(b=>{f=b;const y=[];for(const x of a){const _=Oj(x,f.get(x.key).overlayedDocument);_!=null&&y.push(new us(x.key,_,WT(_.value.mapValue),gn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,y,a)}).next(b=>{m=b;const y=b.applyToLocalDocumentSet(f,T);return u.documentOverlayCache.saveOverlays(v,b.batchId,y)})}).then(()=>({batchId:m.batchId,changes:t1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new je(me)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await rl(r,s.changes),await ed(r.remoteStore)}catch(s){const i=Km(s,"Failed to persist write");n.reject(i)}}async function D1(t,e){const n=re(t);try{const r=await AD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ve(o.va):s.removedDocuments.size>0&&(ve(o.va),o.va=!1))}),await rl(n,r,e)}catch(r){await Ja(r)}}function tx(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=re(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(a)&&(c=!0)}),c&&Qm(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xV(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new je(Y.comparator);o=o.insert(i,yt.newNoDocument(i,ne.min()));const a=le().add(i),u=new Xc(ne.min(),new Map,new je(me),o,a);await D1(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Ym(r)}else await Yf(r.localStore,e,!1).then(()=>Jf(r,e,n)).catch(Ja)}async function _V(t,e){const n=re(t),r=e.batch.batchId;try{const s=await kD(n.localStore,e);M1(n,r,null),V1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rl(n,s)}catch(s){await Ja(s)}}async function wV(t,e,n){const r=re(t);try{const s=await function(o,a){const u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ve(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);M1(r,e,n),V1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rl(r,s)}catch(s){await Ja(s)}}function V1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function M1(t,e,n){const r=re(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Jf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||O1(t,r)})}function O1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&($m(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ym(t))}function nx(t,e,n){for(const r of n)r instanceof R1?(t.La.addReference(r.key,e),EV(t,r)):r instanceof N1?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||O1(t,r.key)):ee()}function EV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ym(t))}function Ym(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Y(Ce.fromString(e)),r=t.qa.next();t.Na.set(r,new dV(n)),t.Oa=t.Oa.insert(n,r),I1(t.remoteStore,new Nr(kn(Dm(n.path)),r,"TargetPurposeLimboResolution",Cm.oe))}}async function rl(t,e,n){const r=re(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=zm.Wi(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,c){const h=re(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,m=>F.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>F.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!Za(f))throw f;G("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const v=h.os.get(m),w=v.snapshotVersion,T=v.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(m,T)}}}(r.localStore,i))}async function TV(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await w1(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new Q(U.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rl(n,r.hs)}}function SV(t,e){const n=re(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let s=le();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function L1(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=D1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xV.bind(null,e),e.Ca.d_=oV.bind(null,e.eventManager),e.Ca.$a=aV.bind(null,e.eventManager),e}function IV(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_V.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wV.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return CD(this.persistence,new bD,e.initialUser,this.serializer)}Ga(e){return new TD(Bm.Zr,this.serializer)}Wa(e){return new VD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class Zf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TV.bind(null,this.syncEngine),await tV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rV}()}createDatastore(e){const n=Jc(e.databaseInfo.databaseId),r=function(i){return new FD(i)}(e.databaseInfo);return function(i,o,a,u){return new zD(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new HD(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>tx(this.syncEngine,n,0),function(){return Y0.D()?new Y0:new MD}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const f=new hV(s,i,o,a,u,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=re(s);G("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await nl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=zT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Km(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await w1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CV(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>X0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>X0(e.remoteStore,s)),t._onlineComponents=e}async function CV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await gh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wi("Error using user provided cache. Falling back to memory cache: "+n),await gh(t,new dc)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await gh(t,new dc);return t._offlineComponents}async function F1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await rx(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await rx(t,new Zf))),t._onlineComponents}function kV(t){return F1(t).then(e=>e.syncEngine)}async function AV(t){const e=await F1(t),n=e.eventManager;return n.onListen=fV.bind(null,e.syncEngine),n.onUnlisten=gV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yV.bind(null,e.syncEngine),n}function RV(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new bV({next:m=>{h.Za(),o.enqueueAndForget(()=>iV(i,f));const v=m.docs.has(a);!v&&m.fromCache?c.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?c.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new lV(Dm(a.path),h,{includeMetadataChanges:!0,_a:!0});return sV(i,f)}(await AV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NV(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ix(t){if(!Y.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ox(t){if(Y.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ax({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ax(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WN;switch(r.type){case"firstParty":return new QN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sx.get(n);r&&(G("ComponentProvider","Removing Datastore"),sx.delete(n),r.terminate())}(this),Promise.resolve()}}function jV(t,e,n,r={}){var s;const i=(t=ns(t,td))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=mt.MOCK_USER;else{a=GE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mt(c)}t._authCredentials=new qN(new BT(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jm(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class Wr extends Jm{constructor(e,n,r){super(e,n,Dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Y(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function DV(t,e,...n){if(t=Me(t),B1("collection","path",e),t instanceof td){const r=Ce.fromString(e,...n);return ox(r),new Wr(t,null,r)}{if(!(t instanceof Vt||t instanceof Wr))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return ox(r),new Wr(t.firestore,null,r)}}function qr(t,e,...n){if(t=Me(t),arguments.length===1&&(e=zT.newId()),B1("doc","path",e),t instanceof td){const r=Ce.fromString(e,...n);return ix(r),new Vt(t,null,new Y(r))}{if(!(t instanceof Vt||t instanceof Wr))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return ix(r),new Vt(t.firestore,t instanceof Wr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new T1(this,"async_queue_retry"),this.Vu=()=>{const r=mh();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=mh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Hr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Za(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw sr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Gm.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class sl extends td{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new lx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lx(e),this._firestoreClient=void 0,await e}}}function VV(t,e){const n=typeof t=="object"?t:mm(),r=typeof t=="string"?t:"(default)",s=Bc(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=HE("firestore");i&&jV(s,...i)}return s}function z1(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MV(t),t._firestoreClient}function MV(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,h){return new lj(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,U1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new PV(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(at.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zi(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=/^__.*__$/;class LV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new el(e,this.data,n,this.fieldTransforms)}}class $1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function H1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class rd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(H1(this.Cu)&&OV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class FV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jc(e)}Qu(e,n,r,s=!1){return new rd({Cu:e,methodName:n,qu:r,path:rt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(t){const e=t._freezeSettings(),n=Jc(t._databaseId);return new FV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function W1(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);ig("Data must be an object, but it was:",o,r);const a=G1(r,o);let u,c;if(i.merge)u=new Bt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=ep(e,f,n);if(!o.contains(m))throw new Q(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Q1(h,m)||h.push(m)}u=new Bt(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new LV(new At(a),u,c)}class sd extends co{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}function q1(t,e,n){return new rd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ng extends co{_toFieldTransform(e){return new Mm(e.path,new Oa)}isEqual(e){return e instanceof ng}}class rg extends co{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=q1(this,e,!0),r=this.Ku.map(i=>ho(i,n)),s=new Qi(r);return new Mm(e.path,s)}isEqual(e){return e instanceof rg&&Hi(this.Ku,e.Ku)}}class sg extends co{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=q1(this,e,!0),r=this.Ku.map(i=>ho(i,n)),s=new Yi(r);return new Mm(e.path,s)}isEqual(e){return e instanceof sg&&Hi(this.Ku,e.Ku)}}function UV(t,e,n,r){const s=t.Qu(1,e,n);ig("Data must be an object, but it was:",s,r);const i=[],o=At.empty();Xs(r,(u,c)=>{const h=og(e,u,n);c=Me(c);const f=s.Nu(h);if(c instanceof sd)i.push(h);else{const m=ho(c,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new Bt(i);return new $1(o,a,s.fieldTransforms)}function BV(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[ep(e,r,n)],u=[s];if(i.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(ep(e,i[m])),u.push(i[m+1]);const c=[],h=At.empty();for(let m=a.length-1;m>=0;--m)if(!Q1(c,a[m])){const v=a[m];let w=u[m];w=Me(w);const T=o.Nu(v);if(w instanceof sd)c.push(v);else{const b=ho(w,T);b!=null&&(c.push(v),h.set(v,b))}}const f=new Bt(c);return new $1(h,f,o.fieldTransforms)}function ho(t,e){if(K1(t=Me(t)))return ig("Unsupported field value:",e,t),G1(t,e);if(t instanceof co)return function(r,s){if(!H1(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=ho(a,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Qe.fromDate(r);return{timestampValue:uc(s.serializer,i)}}if(r instanceof Qe){const i=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(s.serializer,i)}}if(r instanceof Zm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zi)return{bytesValue:p1(s.serializer,r._byteString)};if(r instanceof Vt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof eg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Vm(a.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Xm(r)}`)}(t,e)}function G1(t,e){const n={};return $T(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,s)=>{const i=ho(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function K1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Zm||t instanceof Zi||t instanceof Vt||t instanceof co||t instanceof eg)}function ig(t,e,n){if(!K1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Xm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ep(t,e,n){if((e=Me(e))instanceof nd)return e._internalPath;if(typeof e=="string")return og(t,e);throw hc("Field path arguments must be of type string or ",t,!1,void 0,n)}const zV=new RegExp("[~\\*/\\[\\]]");function og(t,e,n){if(e.search(zV)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nd(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Q(U.INVALID_ARGUMENT,a+t+u)}function Q1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $V(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $V extends Y1{data(){return super.data()}}function X1(t,e){return typeof e=="string"?og(t,e):e instanceof nd?e._internalPath:e._delegate._internalPath}class HV{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Le(o.doubleValue));return new eg(i)}convertGeoPoint(e){return new Zm(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Am(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Da(e));default:return null}}convertTimestamp(e){const n=es(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);ve(_1(r));const s=new Va(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||sr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z1 extends Y1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(X1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qV extends Z1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){t=ns(t,Vt);const e=ns(t.firestore,sl);return RV(z1(e),t._key).then(n=>QV(e,t,n))}class GV extends HV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function eS(t,e,n){t=ns(t,Vt);const r=ns(t.firestore,sl),s=J1(t.converter,e,n);return lg(r,[W1(tg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,gn.none())])}function ag(t,e,n,...r){t=ns(t,Vt);const s=ns(t.firestore,sl),i=tg(s);let o;return o=typeof(e=Me(e))=="string"||e instanceof nd?BV(i,"updateDoc",t._key,e,n,r):UV(i,"updateDoc",t._key,e),lg(s,[o.toMutation(t._key,gn.exists(!0))])}function KV(t,e){const n=ns(t.firestore,sl),r=qr(t),s=J1(t.converter,e);return lg(n,[W1(tg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}function lg(t,e){return function(r,s){const i=new Hr;return r.asyncQueue.enqueueAndForget(async()=>vV(await kV(r),s,i)),i.promise}(z1(t),e)}function QV(t,e,n){const r=n.docs.get(e._key),s=new GV(t);return new Z1(t,s,e._key,r,new WV(n.hasPendingWrites,n.fromCache),e.converter)}function wu(){return new ng("serverTimestamp")}function YV(...t){return new rg("arrayUnion",t)}function tS(...t){return new sg("arrayRemove",t)}(function(e,n=!0){(function(s){ao=s})(Qs),Fs(new Jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new sl(new GN(r.getProvider("auth-internal")),new XN(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),bn(P0,"4.7.3",e),bn(P0,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebasestorage.googleapis.com",XV="storageBucket",JV=2*60*1e3,ZV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Vn{constructor(e,n,r=0){super(yh(e),`Firebase Storage: ${n} (${yh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,On.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dn||(Dn={}));function yh(t){return"storage/"+t}function eM(){const t="An unknown error occurred, please check the error payload for server response.";return new On(Dn.UNKNOWN,t)}function tM(){return new On(Dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nM(){return new On(Dn.CANCELED,"User canceled the upload/download.")}function rM(t){return new On(Dn.INVALID_URL,"Invalid URL '"+t+"'.")}function sM(t){return new On(Dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ux(t){return new On(Dn.INVALID_ARGUMENT,t)}function rS(){return new On(Dn.APP_DELETED,"The Firebase app was deleted.")}function iM(t){return new On(Dn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hn.makeFromUrl(e,n)}catch{return new hn(e,"")}if(r.path==="")return r;throw sM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),w={bucket:1,path:3},T=n===nS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",y=new RegExp(`^https?://${T}/${s}/${b}`,"i"),_=[{regex:a,indices:u,postModify:i},{regex:v,indices:w,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<_.length;k++){const V=_[k],L=V.regex.exec(e);if(L){const P=L[V.indices.bucket];let E=L[V.indices.path];E||(E=""),r=new hn(P,E),V.postModify(r);break}}if(r==null)throw rM(e);return r}}class oM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...b){c||(c=!0,e.apply(null,b))}function f(b){s=setTimeout(()=>{s=null,t(v,u())},b)}function m(){i&&clearTimeout(i)}function v(b,...y){if(c){m();return}if(b){m(),h.call(null,b,...y);return}if(u()||o){m(),h.call(null,b,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let w=!1;function T(b){w||(w=!0,m(),!c&&(s!==null?(b||(a=2),clearTimeout(s),f(0)):b||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function lM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){return t!==void 0}function cx(t,e,n,r){if(r<e)throw ux(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ux(`Invalid value for '${t}'. Expected ${n} or less.`)}function cM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var fc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fc||(fc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,s,i,o,a,u,c,h,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,w)=>{this.resolve_=v,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===fc.NO_ERROR,u=i.getStatus();if(!a||dM(u,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===fc.ABORT;r(!1,new Yl(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Yl(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());uM(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=eM();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?rS():nM();o(u)}else{const u=tM();o(u)}};this.canceled_?n(!1,new Yl(!1,null,!0)):this.backoffId_=aM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yM(t,e,n,r,s,i,o=!0){const a=cM(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return mM(c,e),fM(c,n),pM(c,i),gM(c,r),new hM(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this._service=e,n instanceof hn?this._location=n:this._location=hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pc(e,n)}get root(){const e=new hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xM(this._location.path)}get storage(){return this._service}get parent(){const e=vM(this._location.path);if(e===null)return null;const n=new hn(this._location.bucket,e);return new pc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iM(e)}}function dx(t,e){const n=e==null?void 0:e[XV];return n==null?null:hn.makeFromBucketSpec(n,t)}function _M(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:GE(s,t.app.options.projectId))}class wM{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=nS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JV,this._maxUploadRetryTime=ZV,this._requests=new Set,s!=null?this._bucket=hn.makeFromBucketSpec(s,this._host):this._bucket=dx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hn.makeFromBucketSpec(this._url,e):this._bucket=dx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pc(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new oM(rS());{const o=yM(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const hx="@firebase/storage",fx="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="storage";function EM(t=mm(),e){t=Me(t);const r=Bc(t,sS).getImmediate({identifier:e}),s=HE("storage");return s&&TM(r,...s),r}function TM(t,e,n,r={}){_M(t,e,n,r)}function SM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new wM(n,r,s,e,Qs)}function IM(){Fs(new Jr(sS,SM,"PUBLIC").setMultipleInstances(!0)),bn(hx,fx,""),bn(hx,fx,"esm2017")}IM();const bM={apiKey:"AIzaSyC2kTYKi-JwDxh7MH2Kdzp1blvWdvMb-4w",authDomain:"valentine-6ccc1.firebaseapp.com",projectId:"valentine-6ccc1",storageBucket:"valentine-6ccc1.appspot.com",messagingSenderId:"160547094369",appId:"1:160547094369:web:4171314829d38c8b5c4f20"},ug=YE(bM),vr=$N(ug),PM=new zn,Gr=VV(ug);EM(ug);const iS=j.createContext();function vn(){return j.useContext(iS)}function CM({children:t}){const[e,n]=j.useState(null),[r,s]=j.useState(!0);async function i(w,T={}){if(!w)return;const b=qr(Gr,"users",w.uid);(await id(b)).exists()?await ag(b,{email:w.email||null,displayName:w.displayName||null,photoURL:w.photoURL||null,lastLoginAt:wu(),...T}):await eS(b,{uid:w.uid,email:w.email||null,displayName:w.displayName||null,photoURL:w.photoURL||null,createdAt:wu(),lastLoginAt:wu(),...T})}function o(w,T,b){return ER(vr,w,T).then(async y=>{if(b!=null&&b.displayName)try{await TT(y.user,{displayName:b.displayName})}catch{}return await i(y.user,b),y})}function a(w,T){return TR(vr,w,T).then(async b=>(await i(b.user),b))}function u(){return JR(vr,PM).then(async w=>(await i(w.user),w))}function c(){return NR(vr)}function h(w){return wR(vr,w)}function f(w){return IR(vr,w)}async function m(w,T){const b=vr.currentUser;if(!b||!b.email)throw new Error("No logged in email user");const y=Ys.credential(b.email,T);await _R(b,y),await PR(b,w),await i(b,{email:w})}j.useEffect(()=>RR(vr,T=>{n(T),s(!1)}),[]);const v={currentUser:e,login:a,signup:o,loginWithGoogle:u,logout:c,resetPassword:h,getSignInMethods:f,changeEmail:m};return d.jsx(iS.Provider,{value:v,children:!r&&t})}const oS=j.createContext();function il(){return j.useContext(oS)}function kM({children:t}){const{currentUser:e}=vn(),n=j.useRef(!1),[r,s]=j.useState(()=>{try{const w=e?`cart_${e.uid}`:"cart_guest",T=localStorage.getItem(w);return T?JSON.parse(T):[]}catch{return[]}}),i=w=>w?`cart_${w.uid}`:"cart_guest",o=w=>{try{const T=localStorage.getItem(i(w));s(T?JSON.parse(T):[])}catch(T){console.error("Failed to load cart from local storage",T),s([])}};j.useEffect(()=>{o(e),n.current=!!e},[e]),j.useEffect(()=>{try{localStorage.setItem(i(e),JSON.stringify(r))}catch(w){console.error("Failed to save cart to local storage",w)}},[r,e]);function a(w,T=1,b=""){s(y=>{const x=y.findIndex(_=>_.id===w.id&&_.customText===b);if(x>-1){const _=[...y];return _[x].quantity+=T,_}else return[...y,{...w,quantity:T,customText:b}]})}function u(w,T=""){s(b=>b.filter(y=>!(y.id===w&&y.customText===T)))}function c(w,T,b){b<1||s(y=>y.map(x=>x.id===w&&x.customText===T?{...x,quantity:b}:x))}function h(){s([])}const f=r.reduce((w,T)=>w+T.quantity,0),m=r.reduce((w,T)=>w+T.price*T.quantity,0),v={cartItems:r,addToCart:a,removeFromCart:u,updateQuantity:c,clearCart:h,cartCount:f,cartTotal:m};return d.jsx(oS.Provider,{value:v,children:t})}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),xe=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>j.createElement("svg",{ref:h,...AM,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${RM(t)}`,a].join(" "),...c},[...e.map(([f,m])=>j.createElement(f,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=xe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=xe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=xe("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=xe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=xe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=xe("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=xe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=xe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=xe("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=xe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=xe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fS=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),od=j.createContext({}),ad=j.createContext(null),ld=typeof document<"u",hg=ld?j.useLayoutEffect:j.useEffect,pS=j.createContext({strict:!1}),fg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),XM="framerAppearId",mS="data-"+fg(XM);function JM(t,e,n,r){const{visualElement:s}=j.useContext(od),i=j.useContext(pS),o=j.useContext(ad),a=j.useContext(fS).reducedMotion,u=j.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=u.current;j.useInsertionEffect(()=>{c&&c.update(n,o)});const h=j.useRef(!!(n[mS]&&!window.HandoffComplete));return hg(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),j.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Ti(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZM(t,e,n){return j.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ti(n)&&(n.current=r))},[e])}function La(t){return typeof t=="string"||Array.isArray(t)}function ud(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const pg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mg=["initial",...pg];function cd(t){return ud(t.animate)||mg.some(e=>La(t[e]))}function gS(t){return!!(cd(t)||t.variants)}function eO(t,e){if(cd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||La(n)?n:void 0,animate:La(r)?r:void 0}}return t.inherit!==!1?e:{}}function tO(t){const{initial:e,animate:n}=eO(t,j.useContext(od));return j.useMemo(()=>({initial:e,animate:n}),[px(e),px(n)])}function px(t){return Array.isArray(t)?t.join(" "):t}const mx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const t in mx)Fa[t]={isEnabled:e=>mx[t].some(n=>!!e[n])};function nO(t){for(const e in t)Fa[e]={...Fa[e],...t[e]}}const gg=j.createContext({}),yS=j.createContext({}),rO=Symbol.for("motionComponentSymbol");function sO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&nO(t);function i(a,u){let c;const h={...j.useContext(fS),...a,layoutId:iO(a)},{isStatic:f}=h,m=tO(a),v=r(a,f);if(!f&&ld){m.visualElement=JM(s,v,h,e);const w=j.useContext(yS),T=j.useContext(pS).strict;m.visualElement&&(c=m.visualElement.loadFeatures(h,T,t,w))}return j.createElement(od.Provider,{value:m},c&&m.visualElement?j.createElement(c,{visualElement:m.visualElement,...h}):null,n(s,a,ZM(v,m.visualElement,u),v,f,m.visualElement))}const o=j.forwardRef(i);return o[rO]=s,o}function iO({layoutId:t}){const e=j.useContext(gg).id;return e&&t!==void 0?e+"-"+t:t}function oO(t){function e(r,s={}){return sO(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const aO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yg(t){return typeof t!="string"||t.includes("-")?!1:!!(aO.indexOf(t)>-1||/[A-Z]/.test(t))}const mc={};function lO(t){Object.assign(mc,t)}const ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zs=new Set(ol);function vS(t,{layout:e,layoutId:n}){return Zs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mc[t]||t==="opacity")}const Mt=t=>!!(t&&t.getVelocity),uO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cO=ol.length;function dO(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<cO;o++){const a=ol[o];if(t[a]!==void 0){const u=uO[a]||a;i+=`${u}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const xS=t=>e=>typeof e=="string"&&e.startsWith(t),_S=xS("--"),tp=xS("var(--"),hO=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,rs=(t,e,n)=>Math.min(Math.max(n,t),e),ei={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},aa={...ei,transform:t=>rs(0,1,t)},Xl={...ei,default:1},la=t=>Math.round(t*1e5)/1e5,dd=/(-)?([\d]*\.?[\d])+/g,wS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function al(t){return typeof t=="string"}const ll=t=>({test:e=>al(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=ll("deg"),Rn=ll("%"),X=ll("px"),mO=ll("vh"),gO=ll("vw"),gx={...Rn,parse:t=>Rn.parse(t)/100,transform:t=>Rn.transform(t*100)},yx={...ei,transform:Math.round},ES={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,size:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:Xl,scaleX:Xl,scaleY:Xl,scaleZ:Xl,skew:xr,skewX:xr,skewY:xr,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:aa,originX:gx,originY:gx,originZ:X,zIndex:yx,fillOpacity:aa,strokeOpacity:aa,numOctaves:yx};function vg(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let u=!1,c=!1,h=!0;for(const f in e){const m=e[f];if(_S(f)){i[f]=m;continue}const v=ES[f],w=fO(m,v);if(Zs.has(f)){if(u=!0,o[f]=w,!h)continue;m!==(v.default||0)&&(h=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):s[f]=w}if(e.transform||(u||r?s.transform=dO(t.transform,n,h,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:m="50%",originZ:v=0}=a;s.transformOrigin=`${f} ${m} ${v}`}}const xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TS(t,e,n){for(const r in e)!Mt(e[r])&&!vS(r,n)&&(t[r]=e[r])}function yO({transformTemplate:t},e,n){return j.useMemo(()=>{const r=xg();return vg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function vO(t,e,n){const r=t.style||{},s={};return TS(s,r,t),Object.assign(s,yO(t,e,n)),t.transformValues?t.transformValues(s):s}function xO(t,e,n){const r={},s=vO(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const _O=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_O.has(t)}let SS=t=>!gc(t);function wO(t){t&&(SS=e=>e.startsWith("on")?!gc(e):t(e))}try{wO(require("@emotion/is-prop-valid").default)}catch{}function EO(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(SS(s)||n===!0&&gc(s)||!e&&!gc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function vx(t,e,n){return typeof t=="string"?t:X.transform(e+n*t)}function TO(t,e,n){const r=vx(e,t.x,t.width),s=vx(n,t.y,t.height);return`${r} ${s}`}const SO={offset:"stroke-dashoffset",array:"stroke-dasharray"},IO={offset:"strokeDashoffset",array:"strokeDasharray"};function bO(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?SO:IO;t[i.offset]=X.transform(-r);const o=X.transform(e),a=X.transform(n);t[i.array]=`${o} ${a}`}function _g(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,f,m){if(vg(t,c,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w,dimensions:T}=t;v.transform&&(T&&(w.transform=v.transform),delete v.transform),T&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=TO(T,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),o!==void 0&&bO(v,o,a,u,!1)}const IS=()=>({...xg(),attrs:{}}),wg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PO(t,e,n,r){const s=j.useMemo(()=>{const i=IS();return _g(i,e,{enableHardwareAcceleration:!1},wg(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};TS(i,t.style,t),s.style={...i,...s.style}}return s}function CO(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(yg(n)?PO:xO)(r,i,o,n),h={...EO(r,typeof n=="string",t),...u,ref:s},{children:f}=r,m=j.useMemo(()=>Mt(f)?f.get():f,[f]);return j.createElement(n,{...h,children:m})}}function bS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const PS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CS(t,e,n,r){bS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(PS.has(s)?s:fg(s),e.attrs[s])}function Eg(t,e){const{style:n}=t,r={};for(const s in n)(Mt(n[s])||e.style&&Mt(e.style[s])||vS(s,t))&&(r[s]=n[s]);return r}function kS(t,e){const n=Eg(t,e);for(const r in t)if(Mt(t[r])||Mt(e[r])){const s=ol.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Tg(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function AS(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const yc=t=>Array.isArray(t),kO=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),AO=t=>yc(t)?t[t.length-1]||0:t;function Eu(t){const e=Mt(t)?t.get():t;return kO(e)?e.toValue():e}function RO({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:NO(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const RS=t=>(e,n)=>{const r=j.useContext(od),s=j.useContext(ad),i=()=>RO(t,e,r,s);return n?i():AS(i)};function NO(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Eu(i[m]);let{initial:o,animate:a}=t;const u=cd(t),c=gS(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!ud(f)&&(Array.isArray(f)?f:[f]).forEach(v=>{const w=Tg(t,v);if(!w)return;const{transitionEnd:T,transition:b,...y}=w;for(const x in y){let _=y[x];if(Array.isArray(_)){const k=h?_.length-1:0;_=_[k]}_!==null&&(s[x]=_)}for(const x in T)s[x]=T[x]}),s}const Ue=t=>t;class xx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function jO(t){let e=new xx,n=new xx,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(u,c=!1,h=!1)=>{const f=h&&s,m=f?e:n;return c&&o.add(u),m.add(u)&&f&&s&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(u),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(u))}};return a}const Jl=["prepare","read","update","preRender","render","postRender"],DO=40;function VO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Jl.reduce((f,m)=>(f[m]=jO(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,DO),1),s.timestamp=f,s.isProcessing=!0,Jl.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},u=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Jl.reduce((f,m)=>{const v=i[m];return f[m]=(w,T=!1,b=!1)=>(n||u(),v.schedule(w,T,b)),f},{}),cancel:f=>Jl.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:Te,cancel:or,state:pt,steps:xh}=VO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ue,!0),MO={useVisualState:RS({scrapeMotionValuesFromProps:kS,createRenderState:IS,onMount:(t,e,{renderState:n,latestValues:r})=>{Te.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{_g(n,r,{enableHardwareAcceleration:!1},wg(e.tagName),t.transformTemplate),CS(e,n)})}})},OO={useVisualState:RS({scrapeMotionValuesFromProps:Eg,createRenderState:xg})};function LO(t,{forwardMotionProps:e=!1},n,r){return{...yg(t)?MO:OO,preloadedFeatures:n,useRender:CO(e),createVisualElement:r,Component:t}}function Kn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const NS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function hd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const FO=t=>e=>NS(e)&&t(e,hd(e));function Yn(t,e,n,r){return Kn(t,e,FO(n),r)}const UO=(t,e)=>n=>e(t(n)),Kr=(...t)=>t.reduce(UO);function jS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const _x=jS("dragHorizontal"),wx=jS("dragVertical");function DS(t){let e=!1;if(t==="y")e=wx();else if(t==="x")e=_x();else{const n=_x(),r=wx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function VS(){const t=DS(!0);return t?(t(),!1):!0}class cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ex(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||VS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Te.update(()=>a[r](i,o))};return Yn(t.current,n,s,{passive:!t.getProps()[r]})}class BO extends cs{mount(){this.unmount=Kr(Ex(this.node,!0),Ex(this.node,!1))}unmount(){}}class zO extends cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kr(Kn(this.node.current,"focus",()=>this.onFocus()),Kn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const MS=(t,e)=>e?t===e?!0:MS(t,e.parentElement):!1;function _h(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,hd(n))}class $O extends cs{constructor(){super(...arguments),this.removeStartListeners=Ue,this.removeEndListeners=Ue,this.removeAccessibleListeners=Ue,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Yn(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:f}=this.node.getProps();Te.update(()=>{!f&&!MS(this.node.current,a.target)?h&&h(a,u):c&&c(a,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=Yn(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||_h("up",(u,c)=>{const{onTap:h}=this.node.getProps();h&&Te.update(()=>h(u,c))})};this.removeEndListeners(),this.removeEndListeners=Kn(this.node.current,"keyup",o),_h("down",(a,u)=>{this.startPress(a,u)})},n=Kn(this.node.current,"keydown",e),r=()=>{this.isPressing&&_h("cancel",(i,o)=>this.cancelPress(i,o))},s=Kn(this.node.current,"blur",r);this.removeAccessibleListeners=Kr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Te.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Te.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Yn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Kn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const np=new WeakMap,wh=new WeakMap,HO=t=>{const e=np.get(t.target);e&&e(t)},WO=t=>{t.forEach(HO)};function qO({root:t,...e}){const n=t||document;wh.has(n)||wh.set(n,{});const r=wh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(WO,{root:t,...e})),r[s]}function GO(t,e,n){const r=qO(e);return np.set(t,n),r.observe(t),()=>{np.delete(t),r.unobserve(t)}}const KO={some:0,all:1};class QO extends cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:KO[s]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=c?h:f;m&&m(u)};return GO(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YO(e,n))&&this.startObserver()}unmount(){}}function YO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XO={inView:{Feature:QO},tap:{Feature:$O},focus:{Feature:zO},hover:{Feature:BO}};function OS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function JO(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function ZO(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function fd(t,e,n){const r=t.getProps();return Tg(r,e,n!==void 0?n:r.custom,JO(t),ZO(t))}let Sg=Ue;const js=t=>t*1e3,Xn=t=>t/1e3,eL={current:!1},LS=t=>Array.isArray(t)&&typeof t[0]=="number";function FS(t){return!!(!t||typeof t=="string"&&US[t]||LS(t)||Array.isArray(t)&&t.every(FS))}const qo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,US={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qo([0,.65,.55,1]),circOut:qo([.55,0,1,.45]),backIn:qo([.31,.01,.66,-.59]),backOut:qo([.33,1.53,.69,.99])};function BS(t){if(t)return LS(t)?qo(t):Array.isArray(t)?t.map(BS):US[t]}function tL(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=BS(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function nL(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const zS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rL=1e-7,sL=12;function iL(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=zS(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>rL&&++a<sL);return o}function ul(t,e,n,r){if(t===e&&n===r)return Ue;const s=i=>iL(i,0,1,t,n);return i=>i===0||i===1?i:zS(s(i),e,r)}const oL=ul(.42,0,1,1),aL=ul(0,0,.58,1),$S=ul(.42,0,.58,1),lL=t=>Array.isArray(t)&&typeof t[0]!="number",HS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WS=t=>e=>1-t(1-e),Ig=t=>1-Math.sin(Math.acos(t)),qS=WS(Ig),uL=HS(Ig),GS=ul(.33,1.53,.69,.99),bg=WS(GS),cL=HS(bg),dL=t=>(t*=2)<1?.5*bg(t):.5*(2-Math.pow(2,-10*(t-1))),hL={linear:Ue,easeIn:oL,easeInOut:$S,easeOut:aL,circIn:Ig,circInOut:uL,circOut:qS,backIn:bg,backInOut:cL,backOut:GS,anticipate:dL},Tx=t=>{if(Array.isArray(t)){Sg(t.length===4);const[e,n,r,s]=t;return ul(e,n,r,s)}else if(typeof t=="string")return hL[t];return t},Pg=(t,e)=>n=>!!(al(n)&&pO.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),KS=(t,e,n)=>r=>{if(!al(r))return r;const[s,i,o,a]=r.match(dd);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},fL=t=>rs(0,255,t),Eh={...ei,transform:t=>Math.round(fL(t))},Cs={test:Pg("rgb","red"),parse:KS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Eh.transform(t)+", "+Eh.transform(e)+", "+Eh.transform(n)+", "+la(aa.transform(r))+")"};function pL(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const rp={test:Pg("#"),parse:pL,transform:Cs.transform},Si={test:Pg("hsl","hue"),parse:KS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rn.transform(la(e))+", "+Rn.transform(la(n))+", "+la(aa.transform(r))+")"},St={test:t=>Cs.test(t)||rp.test(t)||Si.test(t),parse:t=>Cs.test(t)?Cs.parse(t):Si.test(t)?Si.parse(t):rp.parse(t),transform:t=>al(t)?t:t.hasOwnProperty("red")?Cs.transform(t):Si.transform(t)},Ae=(t,e,n)=>-n*t+n*e+t;function Th(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;s=Th(u,a,t+1/3),i=Th(u,a,t),o=Th(u,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Sh=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},gL=[rp,Cs,Si],yL=t=>gL.find(e=>e.test(t));function Sx(t){const e=yL(t);let n=e.parse(t);return e===Si&&(n=mL(n)),n}const QS=(t,e)=>{const n=Sx(t),r=Sx(e),s={...n};return i=>(s.red=Sh(n.red,r.red,i),s.green=Sh(n.green,r.green,i),s.blue=Sh(n.blue,r.blue,i),s.alpha=Ae(n.alpha,r.alpha,i),Cs.transform(s))};function vL(t){var e,n;return isNaN(t)&&al(t)&&(((e=t.match(dd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(wS))===null||n===void 0?void 0:n.length)||0)>0}const YS={regex:hO,countKey:"Vars",token:"${v}",parse:Ue},XS={regex:wS,countKey:"Colors",token:"${c}",parse:St.parse},JS={regex:dd,countKey:"Numbers",token:"${n}",parse:ei.parse};function Ih(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function vc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ih(n,YS),Ih(n,XS),Ih(n,JS),n}function ZS(t){return vc(t).values}function eI(t){const{values:e,numColors:n,numVars:r,tokenised:s}=vc(t),i=e.length;return o=>{let a=s;for(let u=0;u<i;u++)u<r?a=a.replace(YS.token,o[u]):u<r+n?a=a.replace(XS.token,St.transform(o[u])):a=a.replace(JS.token,la(o[u]));return a}}const xL=t=>typeof t=="number"?0:t;function _L(t){const e=ZS(t);return eI(t)(e.map(xL))}const ss={test:vL,parse:ZS,createTransformer:eI,getAnimatableNone:_L},tI=(t,e)=>n=>`${n>0?e:t}`;function nI(t,e){return typeof t=="number"?n=>Ae(t,e,n):St.test(t)?QS(t,e):t.startsWith("var(")?tI(t,e):sI(t,e)}const rI=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>nI(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},wL=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=nI(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},sI=(t,e)=>{const n=ss.createTransformer(e),r=vc(t),s=vc(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Kr(rI(r.values,s.values),n):tI(t,e)},Ua=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ix=(t,e)=>n=>Ae(t,e,n);function EL(t){return typeof t=="number"?Ix:typeof t=="string"?St.test(t)?QS:sI:Array.isArray(t)?rI:typeof t=="object"?wL:Ix}function TL(t,e,n){const r=[],s=n||EL(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Ue:e;a=Kr(u,a)}r.push(a)}return r}function iI(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Sg(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=TL(e,r,s),a=o.length,u=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=Ua(t[h],t[h+1],c);return o[h](f)};return n?c=>u(rs(t[0],t[i-1],c)):u}function SL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ua(0,e,r);t.push(Ae(n,1,s))}}function IL(t){const e=[0];return SL(e,t.length-1),e}function bL(t,e){return t.map(n=>n*e)}function PL(t,e){return t.map(()=>e||$S).splice(0,t.length-1)}function xc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=lL(r)?r.map(Tx):Tx(r),i={done:!1,value:e[0]},o=bL(n&&n.length===e.length?n:IL(e),t),a=iI(o,e,{ease:Array.isArray(s)?s:PL(e,s)});return{calculatedDuration:t,next:u=>(i.value=a(u),i.done=u>=t,i)}}function oI(t,e){return e?t*(1e3/e):0}const CL=5;function aI(t,e,n){const r=Math.max(e-CL,0);return oI(n-t(r),e-r)}const bh=.001,kL=.01,AL=10,RL=.05,NL=1;function jL({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=rs(RL,NL,o),t=rs(kL,AL,Xn(t)),o<1?(s=c=>{const h=c*o,f=h*t,m=h-n,v=sp(c,o),w=Math.exp(-f);return bh-m/v*w},i=c=>{const f=c*o*t,m=f*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-f),T=sp(Math.pow(c,2),o);return(-s(c)+bh>0?-1:1)*((m-v)*w)/T}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-bh+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,u=VL(s,i,a);if(t=js(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const DL=12;function VL(t,e,n){let r=n;for(let s=1;s<DL;s++)r=r-t(r)/e(r);return r}function sp(t,e){return t*Math.sqrt(1-e*e)}const ML=["duration","bounce"],OL=["stiffness","damping","mass"];function bx(t,e){return e.some(n=>t[n]!==void 0)}function LL(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!bx(t,OL)&&bx(t,ML)){const n=jL(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function lI({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:u,mass:c,duration:h,velocity:f,isResolvedFromDuration:m}=LL({...r,velocity:-Xn(r.velocity||0)}),v=f||0,w=u/(2*Math.sqrt(a*c)),T=i-s,b=Xn(Math.sqrt(a/c)),y=Math.abs(T)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let x;if(w<1){const _=sp(b,w);x=k=>{const V=Math.exp(-w*b*k);return i-V*((v+w*b*T)/_*Math.sin(_*k)+T*Math.cos(_*k))}}else if(w===1)x=_=>i-Math.exp(-b*_)*(T+(v+b*T)*_);else{const _=b*Math.sqrt(w*w-1);x=k=>{const V=Math.exp(-w*b*k),L=Math.min(_*k,300);return i-V*((v+w*b*T)*Math.sinh(L)+_*T*Math.cosh(L))/_}}return{calculatedDuration:m&&h||null,next:_=>{const k=x(_);if(m)o.done=_>=h;else{let V=v;_!==0&&(w<1?V=aI(x,_,k):V=0);const L=Math.abs(V)<=n,P=Math.abs(i-k)<=e;o.done=L&&P}return o.value=o.done?i:k,o}}}function Px({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},v=E=>a!==void 0&&E<a||u!==void 0&&E>u,w=E=>a===void 0?u:u===void 0||Math.abs(a-E)<Math.abs(u-E)?a:u;let T=n*e;const b=f+T,y=o===void 0?b:o(b);y!==b&&(T=y-f);const x=E=>-T*Math.exp(-E/r),_=E=>y+x(E),k=E=>{const I=x(E),C=_(E);m.done=Math.abs(I)<=c,m.value=m.done?y:C};let V,L;const P=E=>{v(m.value)&&(V=E,L=lI({keyframes:[m.value,w(m.value)],velocity:aI(_,E,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return P(0),{calculatedDuration:null,next:E=>{let I=!1;return!L&&V===void 0&&(I=!0,k(E),P(E)),V!==void 0&&E>V?L.next(E-V):(!I&&k(E),m)}}}const FL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Te.update(e,!0),stop:()=>or(e),now:()=>pt.isProcessing?pt.timestamp:performance.now()}},Cx=2e4;function kx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Cx;)e+=n,r=t.next(e);return e>=Cx?1/0:e}const UL={decay:Px,inertia:Px,tween:xc,keyframes:xc,spring:lI};function _c({autoplay:t=!0,delay:e=0,driver:n=FL,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:u,onStop:c,onComplete:h,onUpdate:f,...m}){let v=1,w=!1,T,b;const y=()=>{b=new Promise(M=>{T=M})};y();let x;const _=UL[s]||xc;let k;_!==xc&&typeof r[0]!="number"&&(k=iI([0,100],r,{clamp:!1}),r=[0,100]);const V=_({...m,keyframes:r});let L;a==="mirror"&&(L=_({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let P="idle",E=null,I=null,C=null;V.calculatedDuration===null&&i&&(V.calculatedDuration=kx(V));const{calculatedDuration:R}=V;let N=1/0,A=1/0;R!==null&&(N=R+o,A=N*(i+1)-o);let ie=0;const Oe=M=>{if(I===null)return;v>0&&(I=Math.min(I,M)),v<0&&(I=Math.min(M-A/v,I)),E!==null?ie=E:ie=Math.round(M-I)*v;const W=ie-e*(v>=0?1:-1),J=v>=0?W<0:W>A;ie=Math.max(W,0),P==="finished"&&E===null&&(ie=A);let ce=ie,se=V;if(i){const xn=Math.min(ie,A)/N;let Gt=Math.floor(xn),wt=xn%1;!wt&&xn>=1&&(wt=1),wt===1&&Gt--,Gt=Math.min(Gt,i+1),!!(Gt%2)&&(a==="reverse"?(wt=1-wt,o&&(wt-=o/N)):a==="mirror"&&(se=L)),ce=rs(0,1,wt)*N}const _e=J?{done:!1,value:r[0]}:se.next(ce);k&&(_e.value=k(_e.value));let{done:_t}=_e;!J&&R!==null&&(_t=v>=0?ie>=A:ie<=0);const dr=E===null&&(P==="finished"||P==="running"&&_t);return f&&f(_e.value),dr&&z(),_e},ge=()=>{x&&x.stop(),x=void 0},he=()=>{P="idle",ge(),T(),y(),I=C=null},z=()=>{P="finished",h&&h(),ge(),T()},H=()=>{if(w)return;x||(x=n(Oe));const M=x.now();u&&u(),E!==null?I=M-E:(!I||P==="finished")&&(I=M),P==="finished"&&y(),C=I,E=null,P="running",x.start()};t&&H();const K={then(M,W){return b.then(M,W)},get time(){return Xn(ie)},set time(M){M=js(M),ie=M,E!==null||!x||v===0?E=M:I=x.now()-M/v},get duration(){const M=V.calculatedDuration===null?kx(V):V.calculatedDuration;return Xn(M)},get speed(){return v},set speed(M){M===v||!x||(v=M,K.time=Xn(ie))},get state(){return P},play:H,pause:()=>{P="paused",E=ie},stop:()=>{w=!0,P!=="idle"&&(P="idle",c&&c(),he())},cancel:()=>{C!==null&&Oe(C),he()},complete:()=>{P="finished"},sample:M=>(I=0,Oe(M))};return K}function BL(t){let e;return()=>(e===void 0&&(e=t()),e)}const zL=BL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$L=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Zl=10,HL=2e4,WL=(t,e)=>e.type==="spring"||t==="backgroundColor"||!FS(e.ease);function qL(t,e,{onUpdate:n,onComplete:r,...s}){if(!(zL()&&$L.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,u,c=!1;const h=()=>{u=new Promise(_=>{a=_})};h();let{keyframes:f,duration:m=300,ease:v,times:w}=s;if(WL(e,s)){const _=_c({...s,repeat:0,delay:0});let k={done:!1,value:f[0]};const V=[];let L=0;for(;!k.done&&L<HL;)k=_.sample(L),V.push(k.value),L+=Zl;w=void 0,f=V,m=L-Zl,v="linear"}const T=tL(t.owner.current,e,f,{...s,duration:m,ease:v,times:w}),b=()=>{c=!1,T.cancel()},y=()=>{c=!0,Te.update(b),a(),h()};return T.onfinish=()=>{c||(t.set(nL(f,s)),r&&r(),y())},{then(_,k){return u.then(_,k)},attachTimeline(_){return T.timeline=_,T.onfinish=null,Ue},get time(){return Xn(T.currentTime||0)},set time(_){T.currentTime=js(_)},get speed(){return T.playbackRate},set speed(_){T.playbackRate=_},get duration(){return Xn(m)},play:()=>{o||(T.play(),or(b))},pause:()=>T.pause(),stop:()=>{if(o=!0,T.playState==="idle")return;const{currentTime:_}=T;if(_){const k=_c({...s,autoplay:!1});t.setWithVelocity(k.sample(_-Zl).value,k.sample(_).value,Zl)}y()},complete:()=>{c||T.finish()},cancel:y}}function GL({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ue,pause:Ue,stop:Ue,then:i=>(i(),Promise.resolve()),cancel:Ue,complete:Ue});return e?_c({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const KL={type:"spring",stiffness:500,damping:25,restSpeed:10},QL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YL={type:"keyframes",duration:.8},XL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JL=(t,{keyframes:e})=>e.length>2?YL:Zs.has(t)?t.startsWith("scale")?QL(e[1]):KL:XL,ip=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ss.test(e)||e==="0")&&!e.startsWith("url(")),ZL=new Set(["brightness","contrast","saturate","opacity"]);function e4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dd)||[];if(!r)return t;const s=n.replace(r,"");let i=ZL.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const t4=/([a-z-]*)\(.*?\)/g,op={...ss,getAnimatableNone:t=>{const e=t.match(t4);return e?e.map(e4).join(" "):t}},n4={...ES,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:op,WebkitFilter:op},Cg=t=>n4[t];function uI(t,e){let n=Cg(t);return n!==op&&(n=ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cI=t=>/^0[^.\s]+$/.test(t);function r4(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||cI(t)}function s4(t,e,n,r){const s=ip(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const u=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),r4(i[c])&&u.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&u.length&&a)for(let c=0;c<u.length;c++){const h=u[c];i[h]=uI(e,a)}return i}function i4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}function kg(t,e){return t[e]||t.default||t}const o4={skipAnimations:!1},Ag=(t,e,n,r={})=>s=>{const i=kg(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-js(o);const u=s4(e,t,n,i),c=u[0],h=u[u.length-1],f=ip(t,c),m=ip(t,h);let v={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{e.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(i4(i)||(v={...v,...JL(t,v)}),v.duration&&(v.duration=js(v.duration)),v.repeatDelay&&(v.repeatDelay=js(v.repeatDelay)),!f||!m||eL.current||i.type===!1||o4.skipAnimations)return GL(v);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=qL(e,t,v);if(w)return w}return _c(v)};function wc(t){return!!(Mt(t)&&t.add)}const dI=t=>/^\-?\d*\.?\d+$/.test(t);function Rg(t,e){t.indexOf(e)===-1&&t.push(e)}function Ng(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class jg{constructor(){this.subscriptions=[]}add(e){return Rg(this.subscriptions,e),()=>Ng(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const a4=t=>!isNaN(parseFloat(t));class l4{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=pt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Te.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Te.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=a4(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new jg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?oI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eo(t,e){return new l4(t,e)}const hI=t=>e=>e.test(t),u4={test:t=>t==="auto",parse:t=>t},fI=[ei,X,Rn,xr,gO,mO,u4],Vo=t=>fI.find(hI(t)),c4=[...fI,St,ss],d4=t=>c4.find(hI(t));function h4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,eo(n))}function f4(t,e){const n=fd(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=AO(i[o]);h4(t,o,a)}}function p4(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const u=i[a],c=e[u];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(s=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&s!==void 0?s:e[u]),h!=null&&(typeof h=="string"&&(dI(h)||cI(h))?h=parseFloat(h):!d4(h)&&ss.test(c)&&(h=uI(u,c)),t.addValue(u,eo(h,{owner:t})),n[u]===void 0&&(n[u]=h),h!==null&&t.setBaseTarget(u,h))}}function m4(t,e){return e?(e[t]||e.default||e).from:void 0}function g4(t,e,n){const r={};for(const s in t){const i=m4(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function y4({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function v4(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function pI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const m=t.getValue(f),v=a[f];if(!m||v===void 0||h&&y4(h,f))continue;const w={delay:n,elapsed:0,...kg(i||{},f)};if(window.HandoffAppearAnimations){const y=t.getProps()[mS];if(y){const x=window.HandoffAppearAnimations(y,f,m,Te);x!==null&&(w.elapsed=x,w.isHandoff=!0)}}let T=!w.isHandoff&&!v4(m,v);if(w.type==="spring"&&(m.getVelocity()||w.velocity)&&(T=!1),m.animation&&(T=!1),T)continue;m.start(Ag(f,m,v,t.shouldReduceMotion&&Zs.has(f)?{type:!1}:w));const b=m.animation;wc(u)&&(u.add(f),b.then(()=>u.remove(f))),c.push(b)}return o&&Promise.all(c).then(()=>{o&&f4(t,o)}),c}function ap(t,e,n={}){const r=fd(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(pI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return x4(t,e,c+u,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function x4(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,u=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(_4).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(ap(c,e,{...i,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function _4(t,e){return t.sortNodePosition(e)}function w4(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>ap(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=ap(t,e,n);else{const s=typeof e=="function"?fd(t,e,n.custom):e;r=Promise.all(pI(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const E4=[...pg].reverse(),T4=pg.length;function S4(t){return e=>Promise.all(e.map(({animation:n,options:r})=>w4(t,n,r)))}function I4(t){let e=S4(t);const n=P4();let r=!0;const s=(u,c)=>{const h=fd(t,c);if(h){const{transition:f,transitionEnd:m,...v}=h;u={...u,...v,...m}}return u};function i(u){e=u(t)}function o(u,c){const h=t.getProps(),f=t.getVariantContext(!0)||{},m=[],v=new Set;let w={},T=1/0;for(let y=0;y<T4;y++){const x=E4[y],_=n[x],k=h[x]!==void 0?h[x]:f[x],V=La(k),L=x===c?_.isActive:null;L===!1&&(T=y);let P=k===f[x]&&k!==h[x]&&V;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),_.protectedKeys={...w},!_.isActive&&L===null||!k&&!_.prevProp||ud(k)||typeof k=="boolean")continue;let I=b4(_.prevProp,k)||x===c&&_.isActive&&!P&&V||y>T&&V,C=!1;const R=Array.isArray(k)?k:[k];let N=R.reduce(s,{});L===!1&&(N={});const{prevResolvedValues:A={}}=_,ie={...A,...N},Oe=ge=>{I=!0,v.has(ge)&&(C=!0,v.delete(ge)),_.needsAnimating[ge]=!0};for(const ge in ie){const he=N[ge],z=A[ge];if(w.hasOwnProperty(ge))continue;let H=!1;yc(he)&&yc(z)?H=!OS(he,z):H=he!==z,H?he!==void 0?Oe(ge):v.add(ge):he!==void 0&&v.has(ge)?Oe(ge):_.protectedKeys[ge]=!0}_.prevProp=k,_.prevResolvedValues=N,_.isActive&&(w={...w,...N}),r&&t.blockInitialAnimation&&(I=!1),I&&(!P||C)&&m.push(...R.map(ge=>({animation:ge,options:{type:x,...u}})))}if(v.size){const y={};v.forEach(x=>{const _=t.getBaseTarget(x);_!==void 0&&(y[x]=_)}),m.push({animation:y})}let b=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(m):Promise.resolve()}function a(u,c,h){var f;if(n[u].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(v=>{var w;return(w=v.animationState)===null||w===void 0?void 0:w.setActive(u,c)}),n[u].isActive=c;const m=o(h,u);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function b4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OS(e,t):!1}function gs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P4(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class C4 extends cs{constructor(e){super(e),e.animationState||(e.animationState=I4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ud(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let k4=0;class A4 extends cs{constructor(){super(...arguments),this.id=k4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const R4={animation:{Feature:C4},exit:{Feature:A4}},Ax=(t,e)=>Math.abs(t-e);function N4(t,e){const n=Ax(t.x,e.x),r=Ax(t.y,e.y);return Math.sqrt(n**2+r**2)}class mI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ch(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=N4(f.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:w}=f,{timestamp:T}=pt;this.history.push({...w,timestamp:T});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ph(m,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ch(f.type==="pointercancel"?this.lastMoveEventInfo:Ph(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,b),w&&w(f,b)},!NS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=hd(e),a=Ph(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=pt;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Ch(a,this.history)),this.removeListeners=Kr(Yn(this.contextWindow,"pointermove",this.handlePointerMove),Yn(this.contextWindow,"pointerup",this.handlePointerUp),Yn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function Ph(t,e){return e?{point:e(t.point)}:t}function Rx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ch({point:t},e){return{point:t,delta:Rx(t,gI(e)),offset:Rx(t,j4(e)),velocity:D4(e,.1)}}function j4(t){return t[0]}function gI(t){return t[t.length-1]}function D4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=gI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>js(e)));)n--;if(!r)return{x:0,y:0};const i=Xn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ht(t){return t.max-t.min}function lp(t,e=0,n=.01){return Math.abs(t-e)<=n}function Nx(t,e,n,r=.5){t.origin=r,t.originPoint=Ae(e.min,e.max,t.origin),t.scale=Ht(n)/Ht(e),(lp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ae(n.min,n.max,t.origin)-t.originPoint,(lp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ua(t,e,n,r){Nx(t.x,e.x,n.x,r?r.originX:void 0),Nx(t.y,e.y,n.y,r?r.originY:void 0)}function jx(t,e,n){t.min=n.min+e.min,t.max=t.min+Ht(e)}function V4(t,e,n){jx(t.x,e.x,n.x),jx(t.y,e.y,n.y)}function Dx(t,e,n){t.min=e.min-n.min,t.max=t.min+Ht(e)}function ca(t,e,n){Dx(t.x,e.x,n.x),Dx(t.y,e.y,n.y)}function M4(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ae(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ae(n,t,r.max):Math.min(t,n)),t}function Vx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function O4(t,{top:e,left:n,bottom:r,right:s}){return{x:Vx(t.x,n,s),y:Vx(t.y,e,r)}}function Mx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function L4(t,e){return{x:Mx(t.x,e.x),y:Mx(t.y,e.y)}}function F4(t,e){let n=.5;const r=Ht(t),s=Ht(e);return s>r?n=Ua(e.min,e.max-r,t.min):r>s&&(n=Ua(t.min,t.max-s,e.min)),rs(0,1,n)}function U4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const up=.35;function B4(t=up){return t===!1?t=0:t===!0&&(t=up),{x:Ox(t,"left","right"),y:Ox(t,"top","bottom")}}function Ox(t,e,n){return{min:Lx(t,e),max:Lx(t,n)}}function Lx(t,e){return typeof t=="number"?t:t[e]||0}const Fx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ii=()=>({x:Fx(),y:Fx()}),Ux=()=>({min:0,max:0}),He=()=>({x:Ux(),y:Ux()});function Qt(t){return[t("x"),t("y")]}function yI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function z4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function kh(t){return t===void 0||t===1}function cp({scale:t,scaleX:e,scaleY:n}){return!kh(t)||!kh(e)||!kh(n)}function _s(t){return cp(t)||vI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function vI(t){return Bx(t.x)||Bx(t.y)}function Bx(t){return t&&t!=="0%"}function Ec(t,e,n){const r=t-n,s=e*r;return n+s}function zx(t,e,n,r,s){return s!==void 0&&(t=Ec(t,s,r)),Ec(t,n,r)+e}function dp(t,e=0,n=1,r,s){t.min=zx(t.min,e,n,r,s),t.max=zx(t.max,e,n,r,s)}function xI(t,{x:e,y:n}){dp(t.x,e.translate,e.scale,e.originPoint),dp(t.y,n.translate,n.scale,n.originPoint)}function H4(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,xI(t,o)),r&&_s(i.latestValues)&&bi(t,i.latestValues))}e.x=$x(e.x),e.y=$x(e.y)}function $x(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Er(t,e){t.min=t.min+e,t.max=t.max+e}function Hx(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Ae(t.min,t.max,i);dp(t,e[n],e[r],o,e.scale)}const W4=["x","scaleX","originX"],q4=["y","scaleY","originY"];function bi(t,e){Hx(t.x,e,W4),Hx(t.y,e,q4)}function _I(t,e){return yI($4(t.getBoundingClientRect(),e))}function G4(t,e,n){const r=_I(t,n),{scroll:s}=e;return s&&(Er(r.x,s.offset.x),Er(r.y,s.offset.y)),r}const wI=({current:t})=>t?t.ownerDocument.defaultView:null,K4=new WeakMap;class Q4{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hd(h,"page").point)},i=(h,f)=>{const{drag:m,dragPropagation:v,onDragStart:w}=this.getProps();if(m&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=DS(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qt(b=>{let y=this.getAxisMotionValue(b).get()||0;if(Rn.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[b];_&&(y=Ht(_)*(parseFloat(y)/100))}}this.originPoint[b]=y}),w&&Te.update(()=>w(h,f),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:w,onDrag:T}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:b}=f;if(v&&this.currentDirection===null){this.currentDirection=Y4(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),T&&T(h,f)},a=(h,f)=>this.stop(h,f),u=()=>Qt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Te.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!eu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=M4(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ti(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=O4(s.layoutBox,n):this.constraints=!1,this.elastic=B4(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=U4(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ti(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=G4(r,s.root,this.visualElement.getTransformPagePoint());let o=L4(s.layout.layoutBox,i);if(n){const a=n(z4(o));this.hasMutatedConstraints=!!a,a&&(o=yI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=Qt(h=>{if(!eu(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,v=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Ag(e,r,0,n))}stopAnimation(){Qt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qt(n=>{const{drag:r}=this.getProps();if(!eu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ae(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ti(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qt(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();s[o]=F4({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qt(o=>{if(!eu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Ae(u,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;K4.set(this.visualElement,this);const e=this.visualElement.current,n=Yn(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ti(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Kn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Qt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=up,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function eu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Y4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class X4 extends cs{constructor(e){super(e),this.removeGroupControls=Ue,this.removeListeners=Ue,this.controls=new Q4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ue}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wx=t=>(e,n)=>{t&&Te.update(()=>t(e,n))};class J4 extends cs{constructor(){super(...arguments),this.removePointerDownListener=Ue}onPointerDown(e){this.session=new mI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Wx(e),onStart:Wx(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Te.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Yn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Z4(){const t=j.useContext(ad);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=j.useId();return j.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Tu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=qx(t,e.target.x),r=qx(t,e.target.y);return`${n}% ${r}%`}},eF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ss.parse(t);if(s.length>5)return r;const i=ss.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=u;const c=Ae(a,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class tF extends Qr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;lO(nF),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Tu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EI(t){const[e,n]=Z4(),r=j.useContext(gg);return Qr.createElement(tF,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(yS),isPresent:e,safeToRemove:n})}const nF={borderRadius:{...Mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mo,borderTopRightRadius:Mo,borderBottomLeftRadius:Mo,borderBottomRightRadius:Mo,boxShadow:eF},TI=["TopLeft","TopRight","BottomLeft","BottomRight"],rF=TI.length,Gx=t=>typeof t=="string"?parseFloat(t):t,Kx=t=>typeof t=="number"||X.test(t);function sF(t,e,n,r,s,i){s?(t.opacity=Ae(0,n.opacity!==void 0?n.opacity:1,iF(r)),t.opacityExit=Ae(e.opacity!==void 0?e.opacity:1,0,oF(r))):i&&(t.opacity=Ae(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<rF;o++){const a=`border${TI[o]}Radius`;let u=Qx(e,a),c=Qx(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Kx(u)===Kx(c)?(t[a]=Math.max(Ae(Gx(u),Gx(c),r),0),(Rn.test(c)||Rn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ae(e.rotate||0,n.rotate||0,r))}function Qx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iF=SI(0,.5,qS),oF=SI(.5,.95,Ue);function SI(t,e,n){return r=>r<t?0:r>e?1:n(Ua(t,e,r))}function Yx(t,e){t.min=e.min,t.max=e.max}function Kt(t,e){Yx(t.x,e.x),Yx(t.y,e.y)}function Xx(t,e,n,r,s){return t-=e,t=Ec(t,1/n,r),s!==void 0&&(t=Ec(t,1/s,r)),t}function aF(t,e=0,n=1,r=.5,s,i=t,o=t){if(Rn.test(e)&&(e=parseFloat(e),e=Ae(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ae(i.min,i.max,r);t===i&&(a-=e),t.min=Xx(t.min,e,n,a,s),t.max=Xx(t.max,e,n,a,s)}function Jx(t,e,[n,r,s],i,o){aF(t,e[n],e[r],e[s],e.scale,i,o)}const lF=["x","scaleX","originX"],uF=["y","scaleY","originY"];function Zx(t,e,n,r){Jx(t.x,e,lF,n?n.x:void 0,r?r.x:void 0),Jx(t.y,e,uF,n?n.y:void 0,r?r.y:void 0)}function e_(t){return t.translate===0&&t.scale===1}function II(t){return e_(t.x)&&e_(t.y)}function cF(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function bI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function t_(t){return Ht(t.x)/Ht(t.y)}class dF{constructor(){this.members=[]}add(e){Rg(this.members,e),e.scheduleRender()}remove(e){if(Ng(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n_(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:c,rotateY:h}=n;u&&(r+=`rotate(${u}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const hF=(t,e)=>t.depth-e.depth;class fF{constructor(){this.children=[],this.isDirty=!1}add(e){Rg(this.children,e),this.isDirty=!0}remove(e){Ng(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hF),this.isDirty=!1,this.children.forEach(e)}}function pF(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(or(r),t(i-e))};return Te.read(r,!0),()=>or(r)}function mF(t){window.MotionDebug&&window.MotionDebug.record(t)}function gF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function yF(t,e,n){const r=Mt(t)?t:eo(t);return r.start(Ag("",r,e,n)),r.animation}const r_=["","X","Y","Z"],vF={visibility:"hidden"},s_=1e3;let xF=0;const ws={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function PI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=xF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ws.totalNodes=ws.resolvedTargetDeltas=ws.recalculatedProjection=0,this.nodes.forEach(EF),this.nodes.forEach(PF),this.nodes.forEach(CF),this.nodes.forEach(TF),mF(ws)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new fF)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gF(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=pF(m,250),Tu.hasAnimatedSinceResize&&(Tu.hasAnimatedSinceResize=!1,this.nodes.forEach(o_))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||jF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=h.getProps(),x=!this.targetLayout||!bI(this.targetLayout,w)||v,_=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const k={...kg(T,"layout"),onPlay:b,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else m||o_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i_);return}this.isUpdating||this.nodes.forEach(IF),this.isUpdating=!1,this.nodes.forEach(bF),this.nodes.forEach(_F),this.nodes.forEach(wF),this.clearAllSnapshots();const a=performance.now();pt.delta=rs(0,1e3/60,a-pt.timestamp),pt.timestamp=a,pt.isProcessing=!0,xh.update.process(pt),xh.preRender.process(pt),xh.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SF),this.sharedNodes.forEach(AF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!II(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||_s(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),DF(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(Er(a.x,u.offset.x),Er(a.y,u.offset.y)),a}removeElementScroll(o){const a=He();Kt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:f}=c;if(c!==this.root&&h&&f.layoutScroll){if(h.isRoot){Kt(a,o);const{scroll:m}=this.root;m&&(Er(a.x,-m.offset.x),Er(a.y,-m.offset.y))}Er(a.x,h.offset.x),Er(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const u=He();Kt(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&bi(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),_s(h.latestValues)&&bi(u,h.latestValues)}return _s(this.latestValues)&&bi(u,this.latestValues),u}removeTransform(o){const a=He();Kt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!_s(c.latestValues))continue;cp(c.latestValues)&&c.updateSnapshot();const h=He(),f=c.measurePageBox();Kt(h,f),Zx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return _s(this.latestValues)&&Zx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),ca(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kt(this.target,this.layout.layoutBox),xI(this.target,this.targetDelta)):Kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),ca(this.relativeTargetOrigin,this.target,v.target),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ws.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cp(this.parent.latestValues)||vI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Kt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;H4(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=Ii(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ii(),this.projectionDeltaWithTransform=Ii());const T=this.projectionTransform;ua(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=n_(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ws.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=Ii();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=He(),v=u?u.source:void 0,w=this.layout?this.layout.source:void 0,T=v!==w,b=this.getStack(),y=!b||b.members.length<=1,x=!!(T&&!y&&this.options.crossfade===!0&&!this.path.some(NF));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const V=k/1e3;a_(f.x,o.x,V),a_(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ca(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RF(this.relativeTarget,this.relativeTargetOrigin,m,V),_&&cF(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=He()),Kt(_,this.relativeTarget)),T&&(this.animationValues=h,sF(h,c,this.latestValues,V,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{Tu.hasAnimatedSinceResize=!0,this.currentAnimation=yF(0,s_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&CI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||He();const f=Ht(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const m=Ht(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}Kt(a,u),bi(a,h),ua(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dF),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<r_.length;h++){const f="rotate"+r_[h];u[f]&&(c[f]=u[f],o.setStaticValue(f,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vF;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Eu(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Eu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!_s(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=n_(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in mc){if(m[T]===void 0)continue;const{correct:b,applyTo:y}=mc[T],x=c.transform==="none"?m[T]:b(m[T],f);if(y){const _=y.length;for(let k=0;k<_;k++)c[y[k]]=x}else c[T]=x}return this.options.layoutId&&(c.pointerEvents=f===this?Eu(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(i_),this.root.sharedNodes.clear()}}}function _F(t){t.updateLayout()}function wF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Qt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],v=Ht(m);m.min=r[f].min,m.max=m.min+v}):CI(i,n.layoutBox,r)&&Qt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],v=Ht(r[f]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const a=Ii();ua(a,r,n.layoutBox);const u=Ii();o?ua(u,t.applyTransform(s,!0),n.measuredBox):ua(u,r,n.layoutBox);const c=!II(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const w=He();ca(w,n.layoutBox,m.layoutBox);const T=He();ca(T,r,v.layoutBox),bI(w,T)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EF(t){ws.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SF(t){t.clearSnapshot()}function i_(t){t.clearMeasurements()}function IF(t){t.isLayoutDirty=!1}function bF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function o_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function PF(t){t.resolveTargetDelta()}function CF(t){t.calcProjection()}function kF(t){t.resetRotation()}function AF(t){t.removeLeadSnapshot()}function a_(t,e,n){t.translate=Ae(e.translate,0,n),t.scale=Ae(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function l_(t,e,n,r){t.min=Ae(e.min,n.min,r),t.max=Ae(e.max,n.max,r)}function RF(t,e,n,r){l_(t.x,e.x,n.x,r),l_(t.y,e.y,n.y,r)}function NF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jF={duration:.45,ease:[.4,0,.1,1]},u_=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),c_=u_("applewebkit/")&&!u_("chrome/")?Math.round:Ue;function d_(t){t.min=c_(t.min),t.max=c_(t.max)}function DF(t){d_(t.x),d_(t.y)}function CI(t,e,n){return t==="position"||t==="preserve-aspect"&&!lp(t_(e),t_(n),.2)}const VF=PI({attachResizeListener:(t,e)=>Kn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ah={current:void 0},kI=PI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ah.current){const t=new VF({});t.mount(window),t.setOptions({layoutScroll:!0}),Ah.current=t}return Ah.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MF={pan:{Feature:J4},drag:{Feature:X4,ProjectionNode:kI,MeasureLayout:EI}},OF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function LF(t){const e=OF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function hp(t,e,n=1){const[r,s]=LF(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return dI(o)?parseFloat(o):o}else return tp(s)?hp(s,e,n+1):s}function FF(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!tp(i))return;const o=hp(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!tp(i))continue;const o=hp(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const UF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),AI=t=>UF.has(t),BF=t=>Object.keys(t).some(AI),h_=t=>t===ei||t===X,f_=(t,e)=>parseFloat(t.split(", ")[e]),p_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return f_(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?f_(i[1],t):0}},zF=new Set(["x","y","z"]),$F=ol.filter(t=>!zF.has(t));function HF(t){const e=[];return $F.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const to={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:p_(4,13),y:p_(5,14)};to.translateX=to.x;to.translateY=to.y;const WF=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=to[c](r,i)}),e.render();const u=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=to[c](u,i)}),t},qF=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(AI);let i=[],o=!1;const a=[];if(s.forEach(u=>{const c=t.getValue(u);if(!t.hasValue(u))return;let h=n[u],f=Vo(h);const m=e[u];let v;if(yc(m)){const w=m.length,T=m[0]===null?1:0;h=m[T],f=Vo(h);for(let b=T;b<w&&m[b]!==null;b++)v?Sg(Vo(m[b])===v):v=Vo(m[b])}else v=Vo(m);if(f!==v)if(h_(f)&&h_(v)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof m=="string"?e[u]=parseFloat(m):Array.isArray(m)&&v===X&&(e[u]=m.map(parseFloat))}else f!=null&&f.transform&&(v!=null&&v.transform)&&(h===0||m===0)?h===0?c.set(v.transform(h)):e[u]=f.transform(m):(o||(i=HF(t),o=!0),a.push(u),r[u]=r[u]!==void 0?r[u]:e[u],c.jump(m))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,c=WF(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),ld&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function GF(t,e,n,r){return BF(e)?qF(t,e,n,r):{target:e,transitionEnd:r}}const KF=(t,e,n,r)=>{const s=FF(t,e,r);return e=s.target,r=s.transitionEnd,GF(t,e,n,r)},fp={current:null},RI={current:!1};function QF(){if(RI.current=!0,!!ld)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fp.current=t.matches;t.addListener(e),e()}else fp.current=!1}function YF(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Mt(i))t.addValue(s,i),wc(r)&&r.add(s);else if(Mt(o))t.addValue(s,eo(i,{owner:t})),wc(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,eo(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const m_=new WeakMap,NI=Object.keys(Fa),XF=NI.length,g_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],JF=mg.length;class ZF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Te.render(this.render,!1,!0);const{latestValues:a,renderState:u}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=cd(n),this.isVariantNode=gS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const m=h[f];a[f]!==void 0&&Mt(m)&&(m.set(a[f],!1),wc(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,m_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RI.current||QF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){m_.delete(this.current),this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Zs.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Te.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let u=0;u<XF;u++){const c=NI[u],{isEnabled:h,Feature:f,ProjectionNode:m,MeasureLayout:v}=Fa[c];m&&(o=m),h(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),v&&(a=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:v}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||f&&Ti(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:v})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<g_.length;r++){const s=g_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=YF(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<JF;r++){const s=mg[r],i=this.props[s];(La(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=eo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Tg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Mt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new jg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jI extends ZF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=g4(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){p4(this,r,o);const a=KF(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function e3(t){return window.getComputedStyle(t)}class t3 extends jI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Zs.has(n)){const r=Cg(n);return r&&r.default||0}else{const r=e3(e),s=(_S(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _I(e,n)}build(e,n,r,s){vg(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Eg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){bS(e,n,r,s)}}class n3 extends jI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zs.has(n)){const r=Cg(n);return r&&r.default||0}return n=PS.has(n)?n:fg(n),e.getAttribute(n)}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(e,n){return kS(e,n)}build(e,n,r,s){_g(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){CS(e,n,r,s)}mount(e){this.isSVGTag=wg(e.tagName),super.mount(e)}}const r3=(t,e)=>yg(t)?new n3(e,{enableHardwareAcceleration:!1}):new t3(e,{enableHardwareAcceleration:!0}),s3={layout:{ProjectionNode:kI,MeasureLayout:EI}},i3={...R4,...XO,...MF,...s3},te=oO((t,e)=>LO(t,e,i3,r3));function DI(){const t=j.useRef(!1);return hg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function o3(){const t=DI(),[e,n]=j.useState(0),r=j.useCallback(()=>{t.current&&n(e+1)},[e]);return[j.useCallback(()=>Te.postRender(r),[r]),e]}class a3 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function l3({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:u}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),j.createElement(a3,{isPresent:e,childRef:r,sizeRef:s},j.cloneElement(t,{ref:r}))}const Rh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=AS(u3),u=j.useId(),c=j.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return j.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),j.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=j.createElement(l3,{isPresent:n},t)),j.createElement(ad.Provider,{value:c},t)};function u3(){return new Map}function c3(t){return j.useEffect(()=>()=>t(),[])}const Es=t=>t.key||"";function d3(t,e){t.forEach(n=>{const r=Es(n);e.set(r,n)})}function h3(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const VI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=j.useContext(gg).forceRender||o3()[0],u=DI(),c=h3(t);let h=c;const f=j.useRef(new Map).current,m=j.useRef(h),v=j.useRef(new Map).current,w=j.useRef(!0);if(hg(()=>{w.current=!1,d3(c,v),m.current=h}),c3(()=>{w.current=!0,v.clear(),f.clear()}),w.current)return j.createElement(j.Fragment,null,h.map(x=>j.createElement(Rh,{key:Es(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},x)));h=[...h];const T=m.current.map(Es),b=c.map(Es),y=T.length;for(let x=0;x<y;x++){const _=T[x];b.indexOf(_)===-1&&!f.has(_)&&f.set(_,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((x,_)=>{if(b.indexOf(_)!==-1)return;const k=v.get(_);if(!k)return;const V=T.indexOf(_);let L=x;if(!L){const P=()=>{f.delete(_);const E=Array.from(v.keys()).filter(I=>!b.includes(I));if(E.forEach(I=>v.delete(I)),m.current=c.filter(I=>{const C=Es(I);return C===_||E.includes(C)}),!f.size){if(u.current===!1)return;a(),r&&r()}};L=j.createElement(Rh,{key:Es(k),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:i,mode:o},k),f.set(_,L)}h.splice(V,0,L)}),h=h.map(x=>{const _=x.key;return f.has(_)?x:j.createElement(Rh,{key:Es(x),isPresent:!0,presenceAffectsLayout:i,mode:o},x)}),j.createElement(j.Fragment,null,f.size?h:h.map(x=>j.cloneElement(x)))};function f3(){const{currentUser:t,logout:e}=vn(),{cartCount:n}=il(),[r,s]=j.useState(!1),[i,o]=j.useState(""),[a,u]=j.useState(""),c=ur(),h=Ks(),[f,m]=j.useState(!1),v=async()=>{try{await e(),c("/login")}catch(b){console.error("Failed to log out",b)}};j.useEffect(()=>{let b=!0;async function y(){if(!t){b&&(o(""),u(""));return}try{const x=qr(Gr,"users",t.uid),_=await id(x);if(!b)return;if(_.exists()){const k=_.data();o(k.name||""),u(k.photoURL||"")}else o(""),u("")}catch{o(""),u("")}}return y(),()=>{b=!1}},[t]),j.useEffect(()=>{function b(){m(window.scrollY>8)}return b(),window.addEventListener("scroll",b,{passive:!0}),()=>window.removeEventListener("scroll",b)},[]);const w="relative group text-love-dark font-medium font-oldSans";function T({to:b,children:y}){const x=h.pathname===b;return d.jsxs(oe,{to:b,className:`${w} hover:text-love-red transition-colors`,children:[d.jsx("span",{children:y}),d.jsx("span",{className:`absolute left-0 -bottom-1 h-0.5 bg-gradient-to-r from-love-red to-love-pink transition-all duration-300 ${x?"w-full":"w-0 group-hover:w-full"}`})]})}return d.jsxs("nav",{className:`sticky top-0 z-50 border-b border-love-pink/30 transition-all font-oldSans ${f?"bg-white/85 backdrop-blur-xl shadow-lg":"bg-love-light/80 backdrop-blur-md"}`,children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:`flex justify-between ${f?"h-14":"h-16"} transition-all`,children:[d.jsx("div",{className:"flex items-center",children:d.jsxs(oe,{to:"/",className:"flex items-center space-x-2 group",children:[d.jsx(te.div,{whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400,damping:10},children:d.jsx(tn,{className:"h-8 w-8 text-love-red fill-current group-hover:animate-pulse"})}),d.jsx(te.span,{initial:!1,animate:{color:f?"#0f172a":"#1f2937"},className:"font-oldCursive text-3xl font-bold",children:"LoveCraft"})]})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[d.jsx(T,{to:"/",children:"Home"}),d.jsx(T,{to:"/products",children:"Gifts"}),d.jsx(T,{to:"/categories",children:"Categories"}),d.jsx(T,{to:"/contact",children:"Contact"}),d.jsx(T,{to:"/wish",children:"Wish"}),d.jsxs(oe,{to:"/cart",className:"relative group text-love-dark hover:text-love-red transition-colors",children:[d.jsx(te.div,{whileHover:{scale:1.1},className:"relative",children:d.jsx(dg,{className:"h-6 w-6"})}),n>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-love-red text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-bounce",children:n})]}),t?d.jsxs("div",{className:"relative group",children:[d.jsxs("button",{className:"flex items-center space-x-2 text-love-dark hover:text-love-red",children:[a||t.photoURL?d.jsx("img",{src:a||t.photoURL,alt:"Avatar",className:"h-8 w-8 rounded-full object-cover border border-love-pink/30"}):d.jsx(QM,{className:"h-6 w-6"}),d.jsx("span",{className:"max-w-[160px] truncate",children:i||t.displayName||t.email})]}),d.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right",children:[d.jsx(oe,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-love-light",children:"Profile"}),d.jsx("button",{onClick:v,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-love-light",children:"Sign out"})]})]}):d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(T,{to:"/login",children:"Login"}),d.jsx(oe,{to:"/signup",className:"bg-love-red text-white px-4 py-2 rounded-full hover:bg-red-700 transition-colors shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Sign Up"})]})]}),d.jsx("div",{className:"md:hidden flex items-center",children:d.jsx("button",{onClick:()=>s(!r),className:"text-love-dark hover:text-love-red focus:outline-none",children:r?d.jsx(YM,{className:"h-6 w-6"}):d.jsx(FM,{className:"h-6 w-6"})})})]})}),d.jsx(VI,{children:r&&d.jsx(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-love-pink/30 overflow-hidden",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[d.jsx(oe,{to:"/",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Home"}),d.jsx(oe,{to:"/products",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Gifts"}),d.jsx(oe,{to:"/categories",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Categories"}),d.jsx(oe,{to:"/contact",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Contact"}),d.jsx(oe,{to:"/wish",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Wish"}),d.jsx(oe,{to:"/cart",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Cart"}),t?d.jsxs(d.Fragment,{children:[d.jsx(oe,{to:"/profile",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Profile"}),d.jsx("button",{onClick:()=>{v(),s(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Sign Out"})]}):d.jsxs(d.Fragment,{children:[d.jsx(oe,{to:"/login",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Login"}),d.jsx(oe,{to:"/signup",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-love-dark hover:text-love-red hover:bg-love-light",children:"Sign Up"})]})]})})})]})}function p3(){return d.jsx("footer",{className:"bg-white border-t border-love-pink/30 pt-12 pb-8 font-oldSans",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"col-span-1 md:col-span-1",children:[d.jsxs(oe,{to:"/",className:"flex items-center space-x-2 mb-4",children:[d.jsx(tn,{className:"h-6 w-6 text-love-red fill-current"}),d.jsx("span",{className:"font-oldCursive text-2xl text-love-dark font-bold",children:"LoveCraft"})]}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Handcrafted gifts for your special moments. Celebrating love, one gift at a time."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-love-dark mb-4",children:"Shop"}),d.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[d.jsx("li",{children:d.jsx(oe,{to:"/products",className:"hover:text-love-red transition-colors",children:"All Gifts"})}),d.jsx("li",{children:d.jsx(oe,{to:"/products?category=handmade",className:"hover:text-love-red transition-colors",children:"Handmade Crafts"})}),d.jsx("li",{children:d.jsx(oe,{to:"/products?category=personalized",className:"hover:text-love-red transition-colors",children:"Personalized Items"})}),d.jsx("li",{children:d.jsx(oe,{to:"/products?category=cards",className:"hover:text-love-red transition-colors",children:"Gift Cards"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-love-dark mb-4",children:"Support"}),d.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[d.jsx("li",{children:d.jsx(oe,{to:"/contact",className:"hover:text-love-red transition-colors",children:"Contact Us"})}),d.jsx("li",{children:d.jsx(oe,{to:"/faq",className:"hover:text-love-red transition-colors",children:"FAQs"})}),d.jsx("li",{children:d.jsx(oe,{to:"/shipping",className:"hover:text-love-red transition-colors",children:"Shipping Info"})}),d.jsx("li",{children:d.jsx(oe,{to:"/returns",className:"hover:text-love-red transition-colors",children:"Returns"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-love-dark mb-4",children:"Stay in Love"}),d.jsxs("div",{className:"flex space-x-4 mb-4",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-love-red transition-colors",children:d.jsx(cS,{className:"h-5 w-5"})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-love-red transition-colors",children:d.jsx(VM,{className:"h-5 w-5"})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-love-red transition-colors",children:d.jsx(KM,{className:"h-5 w-5"})})]}),d.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," LoveCraft. All rights reserved."]})]})]})})})}function m3(){const t={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8}}};return d.jsxs(te.div,{initial:"hidden",animate:"visible",variants:t,className:"space-y-16 pb-16 font-oldSans",children:[d.jsxs("section",{className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-love-light via-white to-love-light opacity-90 z-10"}),d.jsx("div",{className:"absolute inset-0 bg-hearts-pattern opacity-10 z-0"}),d.jsx("div",{className:"pointer-events-none absolute -left-24 -top-24 w-72 h-72 bg-pink-400/40 rounded-full blur-3xl z-10"}),d.jsx("div",{className:"pointer-events-none absolute -right-24 top-32 w-80 h-80 bg-red-400/30 rounded-full blur-3xl z-10"}),d.jsxs("div",{className:"relative z-20 px-4 max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-10",children:[d.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.8},className:"text-center md:text-left md:max-w-xl",children:[d.jsx("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/70 border border-love-pink/40 text-xs font-medium text-love-red mb-4 shadow-sm backdrop-blur",children:d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx(tn,{className:"h-4 w-4 mr-2"}),"Valentine's 2025 Collection"]})}),d.jsx("h1",{className:"text-4xl sm:text-5xl md:text-7xl font-oldCursive text-love-red mb-4 md:mb-6 drop-shadow-sm leading-tight",children:"Make This Valentine's Unforgettable"}),d.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 mb-6 md:mb-8 max-w-2xl font-light",children:"Discover handcrafted gifts, personalized treasures and romantic surprises designed to celebrate your unique love story."}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 justify-center md:justify-start",children:[d.jsxs(oe,{to:"/products",className:"inline-flex items-center bg-love-red text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-red-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:["Shop Gifts ",d.jsx(aS,{className:"ml-2 h-5 w-5"})]}),d.jsx(oe,{to:"/products?cat=sets",className:"inline-flex items-center px-6 py-3 rounded-full text-sm md:text-base font-medium bg-white/80 backdrop-blur border border-love-pink/40 text-love-dark hover:text-love-red hover:border-love-red transition-all shadow-sm",children:"Browse Romantic Sets"})]}),d.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center md:justify-start gap-4 text-xs md:text-sm text-gray-500",children:[d.jsx("div",{className:"inline-flex items-center gap-2",children:d.jsx("span",{className:"inline-flex h-6 px-3 items-center rounded-full bg-green-100 text-green-700 font-medium",children:"4.9 loved by couples"})}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-love-red"}),d.jsx("span",{children:"Handmade & personalised"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-love-red"}),d.jsx("span",{children:"Ships in 35 business days"})]})]})]}),d.jsxs("div",{className:"relative w-full md:w-[380px] h-[320px] md:h-[380px]",children:[d.jsx(te.div,{initial:{y:20,opacity:0},animate:{y:[-10,10,-10]},transition:{duration:8,repeat:1/0,repeatType:"reverse"},className:"absolute inset-y-4 left-4 right-10 rounded-3xl shadow-2xl overflow-hidden border border-white/60 bg-white/80 backdrop-blur",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1518895949257-7621c3c786d4?auto=format&fit=crop&q=80&w=900",alt:"Romantic gift set",className:"w-full h-full object-cover"})}),d.jsxs(te.div,{initial:{y:-10,opacity:0},animate:{y:[0,-16,0]},transition:{duration:7,repeat:1/0,repeatType:"reverse",delay:.5},className:"absolute -bottom-6 right-0 w-40 rounded-2xl shadow-xl overflow-hidden border border-love-pink/40 bg-white",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=600",alt:"Jewelry gift",className:"w-full h-28 object-cover"}),d.jsxs("div",{className:"px-3 py-2",children:[d.jsx("p",{className:"text-xs font-semibold text-gray-800 truncate",children:"Personalised Jewelry"}),d.jsx("p",{className:"text-[11px] text-love-red font-medium",children:"From $39"})]})]}),d.jsxs(te.div,{initial:{x:10,opacity:0},animate:{x:[-6,6,-6]},transition:{duration:6,repeat:1/0,repeatType:"reverse",delay:.8},className:"absolute -top-4 left-0 px-4 py-3 rounded-2xl bg-white/90 backdrop-blur shadow-lg border border-love-pink/40 flex items-center gap-3",children:[d.jsxs("div",{className:"flex -space-x-2",children:[d.jsx("span",{className:"w-7 h-7 rounded-full bg-love-light border border-white"}),d.jsx("span",{className:"w-7 h-7 rounded-full bg-love-red/70 border border-white"}),d.jsx("span",{className:"w-7 h-7 rounded-full bg-rose-300 border border-white"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold text-gray-800",children:"5,000+ happy couples"}),d.jsx("p",{className:"text-[11px] text-gray-500",children:"Gifting with LoveCraft"})]})]})]})]})]}),d.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl font-oldCursive text-love-dark mb-4",children:"Featured Collections"}),d.jsx("p",{className:"text-gray-600",children:"Handpicked favorites for your special someone"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 md:gap-8",children:[{title:"Personalized Jewelry",img:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?auto=format&fit=crop&q=80&w=800",link:"/products?cat=jewelry"},{title:"Handmade Crafts",img:"https://images.unsplash.com/photo-1513201099705-a9746e1e201f?auto=format&fit=crop&q=80&w=800",link:"/products?cat=crafts"},{title:"Romantic Gift Sets",img:"https://images.unsplash.com/photo-1549465220-1a8b9238cd48?auto=format&fit=crop&q=80&w=800",link:"/products?cat=sets"}].map((e,n)=>d.jsxs(te.div,{whileHover:{y:-10},className:"relative group overflow-hidden rounded-2xl shadow-md aspect-[4/5]",children:[d.jsx("img",{src:e.img,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-white text-xl md:text-2xl font-oldCursive mb-2",children:e.title}),d.jsx(oe,{to:e.link,className:"text-white/90 text-sm hover:text-white underline",children:"Explore Collection"})]})})]},n))})]}),d.jsx("section",{className:"bg-white py-16",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(uS,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Unique Handmade Gifts"}),d.jsx("p",{className:"text-gray-600",children:"Each item is crafted with love and care, ensuring a unique gift for your partner."})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(hS,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fast & Secure Delivery"}),d.jsx("p",{className:"text-gray-600",children:"We ensure your gifts arrive on time and in perfect condition for the big day."})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(cg,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Secure Payments"}),d.jsx("p",{className:"text-gray-600",children:"Shop with confidence using our secure payment gateways."})]})]})})})]})}function g3({product:t,isFavorite:e,onToggleFavorite:n}){const{addToCart:r}=il(),{currentUser:s}=vn(),i=ur(),[o,a]=j.useState(!1);return d.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{y:-5},className:"bg-white rounded-xl shadow-sm hover:shadow-md overflow-hidden border border-love-pink/20 transition-all",children:[d.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[d.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),d.jsx("button",{onClick:n,"aria-pressed":!!e,className:"absolute top-3 right-3 p-2 bg-white/80 rounded-full transition-colors",children:d.jsx(tn,{className:`h-5 w-5 ${e?"text-love-red":"text-gray-400"}`})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-xs text-love-red font-medium mb-1 uppercase tracking-wider",children:t.category}),d.jsx(oe,{to:`/products/${t.id}`,children:d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 hover:text-love-red transition-colors truncate",children:t.name})}),d.jsxs("div",{className:"flex flex-col mt-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-xl font-bold text-love-dark",children:["$",t.price.toFixed(2)]}),d.jsxs("button",{onClick:()=>{if(!s){i("/login");return}a(!0)},className:"flex items-center space-x-1 bg-love-light text-love-red px-3 py-2 rounded-lg hover:bg-love-red hover:text-white transition-colors text-sm font-medium",children:[d.jsx(dg,{className:"h-4 w-4"}),d.jsx("span",{children:"Add"})]})]}),o&&d.jsxs("div",{className:"mt-1 bg-love-light/60 border border-love-pink/40 rounded-lg px-3 py-2 text-xs",children:[d.jsxs("p",{className:"text-gray-700 mb-2",children:['Add "',t.name,'" to your cart?']}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-2 py-1 rounded-md border border-gray-300 text-gray-600 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:()=>{r(t),a(!1)},className:"px-2 py-1 rounded-md bg-love-red text-white hover:bg-red-700",children:"Confirm"})]})]})]})]})]})}const y3=["Jewelry","Handmade","Gifts","Apparel","Personalized","Food","Home","Romance","Tech","Books","Experiences","Accessories","Beauty","Stationery","Games","Plants","Art","Luxury Gifts","DIY Kits","Couple Sets","Memory Keepsakes","Spa & Relaxation","Pet Valentine","Eco-Friendly","Subscription Boxes","Custom Art","Wine & Chocolate"],v3={Jewelry:"Elegant pieces crafted to celebrate love and connection.",Handmade:"Artisan creations made with care and attention.",Gifts:"Thoughtful surprises perfect for special moments.",Apparel:"Cozy styles to match and share together.",Personalized:"Customize to make memories uniquely yours.",Food:"Sweet treats to delight and indulge.",Home:"Warm accents to set a romantic mood.",Romance:"Romantic picks to spark connection and sweet moments.",Tech:"Gadgets and accessories for modern love.",Books:"Stories and journals to share and cherish.",Experiences:"Memorable activities to enjoy together.",Accessories:"Stylish extras to complete the look.",Beauty:"Self-care and grooming for date-ready vibes.",Stationery:"Cards and paper goods for heartfelt notes.",Games:"Fun challenges and play for couples.",Plants:"Green gifts to grow together.",Art:"Creative pieces to decorate with love.","Luxury Gifts":"High-end treasures for unforgettable gestures.","DIY Kits":"Create together with step-by-step craft kits.","Couple Sets":"Perfectly paired items made for two.","Memory Keepsakes":"Stylish ways to preserve special moments.","Spa & Relaxation":"Relaxing essentials for a calm retreat.","Pet Valentine":"Adorable gifts to spoil your furry love.","Eco-Friendly":"Sustainable choices that show you care.","Subscription Boxes":"Monthly surprises curated with love.","Custom Art":"Unique artwork tailored to your story.","Wine & Chocolate":"Romantic pairings of fine wine and chocolate."},Nh={Jewelry:["Heart Pendant Necklace","Infinity Love Necklace","Rose Gold Locket","Engraved Bar Necklace","Crystal Teardrop Earrings","Pearl Stud Earrings","Couples Ring Set","Birthstone Bracelet","Dainty Chain Bracelet","Charm Bracelet","Solitaire Pendant","Knot Ring","Cuff Bracelet","Stackable Rings","Nameplate Necklace","Moon & Star Necklace","Beaded Anklet","Tennis Bracelet","Hoop Earrings","Initial Pendant"],Handmade:["Rose Bear","Crochet Heart Keychain","Hand-painted Mug","Pressed Flower Frame","Knitted Scarf","Macrame Wall Hanging","Handmade Soap Set","Leather Journal","Resin Coaster Set","Clay Trinket Dish","Dried Flower Bouquet","Embroidered Tote","Beaded Phone Charm","Hand-poured Candle","Origami Love Box","Wood Photo Stand","Woven Basket","Felt Rose Corsage","Rope Plant Hanger","Hand-sewn Plush Heart"],Gifts:["Love Letters Box","Photo Memory Album","Couple Quiz Game","Surprise Gift Box","Message in a Bottle","Date Night Cards","Scratch-off Adventure Poster","Polaroid Film Set","Stainless Travel Mug","Bluetooth Mini Speaker","Personalized Calendar","Story of Us Book","Wine Accessories Kit","Hot Cocoa Gift Set","Spa Gift Basket","Bath Bomb Kit","Aromatherapy Diffuser","Keepsake Trinket Box","Greeting Card Pack","Mini Succulent Set"],Apparel:["Matching Hoodies","Couple T-Shirts","Satin Pajama Set","Cozy Knit Sweater","Embroidered Hat","Silk Robe","Flannel Lounge Pants","Fleece Blanket Poncho","Graphic Tee","Varsity Jacket","Denim Couple Jacket","Cotton Socks Pack","Scarf & Beanie Set","Summer Dress","Button-up Shirt","Lightweight Cardigan","Yoga Set","Baseball Cap","Windbreaker","Pullover Hoodie"],Personalized:["Custom Star Map","Engraved Keychain","Photo Crystal","Monogram Throw Pillow","Custom Photo Mug","Personalized Notebook","Custom Phone Case","Engraved Wallet","Name Necklace","Coordinates Bracelet","Photo Puzzle","Personalized Apron","Custom Night Light","Nameplate Door Sign","Custom Doormat","Pet Portrait Print","Custom Calendar","Engraved Pen","Custom Flask","Personalized Cutting Board"],Food:["Luxury Chocolate Box","Macaron Assortment","Gourmet Truffle Set","Heart-shaped Cookies","Artisanal Honey Jar","Strawberry Jam Duo","Specialty Tea Sampler","Coffee Lover Kit","Red Velvet Cupcakes","Chocolate-dipped Strawberries","Caramel Popcorn Tin","Cheese and Crackers Set","Mini Cheesecake Bites","Brownie Gift Box","Marshmallow Treats","Hot Sauce Pair","Olive Oil Tasting Set","Fruit Basket","Nuts Mix Jar","Candy Heart Tin"],Home:["Scented Candle Set","String Lights","Velvet Throw Pillow","Cozy Knit Blanket","Ceramic Vase","Picture Frame Set","Table Runner","Rose Diffuser","Wall Art Print","Decorative Tray","Ceramic Planter","Crystal Decor Bowl","Reed Diffuser Set","Lantern Candle Holder","Gold Mirror","Desk Organizer","Bookends Pair","Floor Lamp","Curtain Fairy Lights","Room Mist Spray"],Romance:Array.from({length:20},(t,e)=>`Romance Gift ${e+1}`),Tech:Array.from({length:20},(t,e)=>`Tech Love Gadget ${e+1}`),Books:Array.from({length:20},(t,e)=>`Couple Book ${e+1}`),Experiences:Array.from({length:20},(t,e)=>`Date Experience ${e+1}`),Accessories:Array.from({length:20},(t,e)=>`Love Accessory ${e+1}`),Beauty:Array.from({length:20},(t,e)=>`Beauty Care Set ${e+1}`),Stationery:Array.from({length:20},(t,e)=>`Love Stationery ${e+1}`),Games:Array.from({length:20},(t,e)=>`Couple Game ${e+1}`),Plants:Array.from({length:20},(t,e)=>`Love Plant ${e+1}`),Art:Array.from({length:20},(t,e)=>`Love Art Print ${e+1}`),"Luxury Gifts":Array.from({length:20},(t,e)=>`Luxury Gift ${e+1}`),"DIY Kits":Array.from({length:20},(t,e)=>`DIY Kit ${e+1}`),"Couple Sets":Array.from({length:20},(t,e)=>`Couple Set ${e+1}`),"Memory Keepsakes":Array.from({length:20},(t,e)=>`Keepsake ${e+1}`),"Spa & Relaxation":Array.from({length:20},(t,e)=>`Spa Relax ${e+1}`),"Pet Valentine":Array.from({length:20},(t,e)=>`Pet Valentine ${e+1}`),"Eco-Friendly":Array.from({length:20},(t,e)=>`Eco Gift ${e+1}`),"Subscription Boxes":Array.from({length:20},(t,e)=>`Subscription Box ${e+1}`),"Custom Art":Array.from({length:20},(t,e)=>`Custom Art ${e+1}`),"Wine & Chocolate":Array.from({length:20},(t,e)=>`Wine & Chocolate ${e+1}`)},x3={Jewelry:50,Handmade:25,Gifts:30,Apparel:40,Personalized:35,Food:20,Home:28,Romance:38,Tech:60,Books:22,Experiences:75,Accessories:27,Beauty:32,Stationery:18,Games:29,Plants:24,Art:33,"Luxury Gifts":80,"DIY Kits":22,"Couple Sets":38,"Memory Keepsakes":32,"Spa & Relaxation":30,"Pet Valentine":24,"Eco-Friendly":28,"Subscription Boxes":45,"Custom Art":50,"Wine & Chocolate":40},_3=(t,e)=>{const n=e.toLowerCase(),r=[t.toLowerCase(),"valentine"];return t==="Jewelry"?n.includes("necklace")?r.push("necklace"):n.includes("earring")?r.push("earrings"):n.includes("ring")?r.push("ring"):n.includes("bracelet")?r.push("bracelet"):r.push("accessory"):t==="Handmade"?n.includes("candle")?r.push("candle"):n.includes("soap")?r.push("soap"):n.includes("knit")||n.includes("scarf")?r.push("knitting"):n.includes("macrame")?r.push("macrame"):n.includes("leather")?r.push("leather"):n.includes("resin")?r.push("resin"):r.push("craft"):t==="Gifts"?n.includes("album")||n.includes("photo")?r.push("photo"):n.includes("box")?r.push("giftbox"):n.includes("mug")?r.push("mug"):n.includes("speaker")?r.push("speaker"):r.push("gift"):t==="Apparel"?n.includes("hoodie")?r.push("hoodie"):n.includes("t-shirt")||n.includes("tee")?r.push("tshirt"):n.includes("pajama")?r.push("pajama"):n.includes("sweater")?r.push("sweater"):n.includes("jacket")?r.push("jacket"):n.includes("dress")?r.push("dress"):n.includes("cardigan")?r.push("cardigan"):r.push("clothing"):t==="Personalized"?n.includes("engraved")?r.push("engraved"):n.includes("custom")?r.push("custom"):n.includes("photo")?r.push("photo"):n.includes("name")?r.push("name"):r.push("personalized"):t==="Food"?n.includes("chocolate")?r.push("chocolate"):n.includes("macaron")?r.push("macaron"):n.includes("truffle")?r.push("truffle"):n.includes("cookie")?r.push("cookies"):n.includes("honey")?r.push("honey"):n.includes("jam")?r.push("jam"):n.includes("tea")?r.push("tea"):n.includes("coffee")?r.push("coffee"):n.includes("cupcake")?r.push("cupcakes"):n.includes("strawberry")?r.push("strawberries"):n.includes("popcorn")?r.push("popcorn"):n.includes("cheese")?r.push("cheese"):n.includes("brownie")?r.push("brownie"):n.includes("marshmallow")?r.push("marshmallow"):n.includes("sauce")?r.push("sauce"):n.includes("oil")?r.push("oil"):n.includes("fruit")?r.push("fruit"):n.includes("nut")?r.push("nuts"):n.includes("candy")?r.push("candy"):r.push("dessert"):t==="Home"?n.includes("candle")?r.push("candle"):n.includes("light")?r.push("lights"):n.includes("pillow")?r.push("pillow"):n.includes("blanket")?r.push("blanket"):n.includes("vase")?r.push("vase"):n.includes("frame")?r.push("frame"):n.includes("diffuser")?r.push("diffuser"):n.includes("art")?r.push("art"):n.includes("tray")?r.push("tray"):n.includes("planter")?r.push("planter"):n.includes("mirror")?r.push("mirror"):n.includes("organizer")?r.push("organizer"):n.includes("lamp")?r.push("lamp"):n.includes("curtain")?r.push("curtain"):n.includes("spray")?r.push("spray"):r.push("decor"):n.includes("gift")?r.push("gift"):n.includes("set")?r.push("set"):n.includes("print")?r.push("print"):n.includes("experience")&&r.push("experience"),r.join(",")},ks=y3.flatMap((t,e)=>Array.from({length:20},(n,r)=>({id:e*100+r+1,name:Nh[t][r],price:Number((x3[t]+r%10*2+e*3).toFixed(2)),category:t,image:`https://placehold.co/800x800/ffffff/cc1d4f/png?text=${encodeURIComponent(Nh[t][r])}`,description:v3[t],tags:_3(t,Nh[t][r]).split(",")})));function w3(){const[t,e]=j.useState("All"),[n,r]=j.useState(""),[s,i]=j.useState("none"),[o,a]=j.useState(""),[u,c]=j.useState(""),[h,f]=j.useState(!1),[m,v]=j.useState(1),[w,T]=j.useState([]),{currentUser:b}=vn(),[y,x]=j.useState([]),[_,k]=j.useState(!1),[V,L]=j.useState("none"),[P]=$k(),E=j.useMemo(()=>{const M=new Set(ks.map(W=>W.category));return["All",...Array.from(M)]},[]),I=j.useMemo(()=>{let M=t==="All"?ks:ks.filter(se=>se.category===t);const W=n.trim().toLowerCase();W&&(M=M.filter(se=>se.name.toLowerCase().includes(W)));let J=o!==""?parseFloat(o):null,ce=u!==""?parseFloat(u):null;return V!=="none"&&(V==="under30"?(J=null,ce=30):V==="30to50"?(J=30,ce=50):V==="50plus"&&(J=50,ce=null)),J!==null&&(M=M.filter(se=>se.price>=J)),ce!==null&&(M=M.filter(se=>se.price<=ce)),y.length>0&&(M=M.filter(se=>se.tags&&se.tags.some(_e=>y.includes(_e)))),_&&b&&(M=M.filter(se=>w.includes(se.id))),s==="price_asc"?M=[...M].sort((se,_e)=>se.price-_e.price):s==="price_desc"?M=[...M].sort((se,_e)=>_e.price-se.price):s==="name_asc"?M=[...M].sort((se,_e)=>se.name.localeCompare(_e.name)):s==="name_desc"&&(M=[...M].sort((se,_e)=>_e.name.localeCompare(se.name))),M},[t,n,o,u,s,y,_,V,w,b]),C=15,R=Math.max(1,Math.ceil(I.length/C)),N=Math.min(m,R),A=I.slice((N-1)*C,N*C),ie=I.length,Oe=ie===0?0:(N-1)*C+1,ge=ie===0?0:Oe+A.length-1;let he=[];R<=5?he=Array.from({length:R},(M,W)=>W+1):N<=3?he=[1,2,3,4,"dots",R]:N>=R-2?he=[1,"dots",R-3,R-2,R-1,R]:he=[1,"dots",N-1,N,N+1,"dots",R];const z=j.useMemo(()=>{const M=new Set;return ks.forEach(W=>(W.tags||[]).forEach(J=>M.add(J))),Array.from(M).sort()},[]);j.useEffect(()=>{const M=P.get("category")||P.get("cat");if(!M)return;const W=decodeURIComponent(M).toLowerCase();let J=E.find(ce=>ce.toLowerCase()===W);J||(J=E.find(ce=>ce.toLowerCase().includes(W))),J&&J!==t&&(e(J),v(1))},[P,E,t]),j.useEffect(()=>{let M=!0;async function W(){if(!b){M&&T([]);return}try{const J=qr(Gr,"users",b.uid),ce=await id(J);if(!M)return;const se=ce.exists()?ce.data():{};T(Array.isArray(se.favorites)?se.favorites:[])}catch{M&&T([])}}return W(),()=>{M=!1}},[b]);async function H(M){if(!b){alert("Please log in to save favorites");return}const W=w.includes(M),J=qr(Gr,"users",b.uid);try{await ag(J,{favorites:W?tS(M):YV(M)}),T(ce=>W?ce.filter(se=>se!==M):[...ce,M])}catch(ce){console.error("Failed to update favorites",ce)}}function K(){f(M=>!M)}return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark",children:"Shop Gifts"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Find the perfect token of your affection"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsx("aside",{className:"hidden md:block order-2 md:order-1 md:col-span-1",children:d.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-love-pink/20",children:[d.jsx("h2",{className:"text-lg font-semibold text-love-dark mb-4",children:"Categories"}),d.jsx("div",{className:"space-y-2",children:E.map(M=>d.jsx("button",{onClick:()=>{e(M),v(1)},className:`w-full text-left px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===M?"bg-love-red text-white shadow-md":"bg-white border border-gray-200 text-gray-700 hover:bg-love-light"}`,children:M},M))})]})}),d.jsxs("section",{className:"order-1 md:order-2 md:col-span-3",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("button",{onClick:K,className:"p-2 rounded-lg bg-white border border-love-pink/30 text-gray-600 hover:text-love-red hover:border-love-red transition-colors","aria-label":"Open Filters",title:"Filters",children:d.jsx(MM,{className:"h-5 w-5"})})}),d.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-love-pink/20 mb-6 ${h?"block":"hidden"} md:block`,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:n,onChange:M=>{r(M.target.value),v(1)}}),d.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:s,onChange:M=>{i(M.target.value),v(1)},children:[d.jsx("option",{value:"none",children:"Sort by"}),d.jsx("option",{value:"price_asc",children:"Price: Low to High"}),d.jsx("option",{value:"price_desc",children:"Price: High to Low"}),d.jsx("option",{value:"name_asc",children:"Name: A to Z"}),d.jsx("option",{value:"name_desc",children:"Name: Z to A"})]}),d.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Min price",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:o,onChange:M=>{a(M.target.value),v(1)}}),d.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Max price",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:u,onChange:M=>{c(M.target.value),v(1)}})]}),d.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(M=>{const W=y.includes(M);return d.jsx("button",{onClick:()=>{x(J=>W?J.filter(se=>se!==M):[...J,M]),v(1)},className:`px-3 py-1 rounded-full text-sm border ${W?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:M},M)})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick Price"}),d.jsx("div",{className:"space-y-2",children:[{id:"none",label:"None"},{id:"under30",label:"Under $30"},{id:"30to50",label:"$30  $50"},{id:"50plus",label:"$50+"}].map(M=>d.jsx("button",{onClick:()=>{L(M.id),v(1)},className:`w-full text-left px-3 py-2 rounded-lg border text-sm ${V===M.id?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:M.label},M.id))})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Only Favorites"}),d.jsx("button",{onClick:()=>{k(M=>!M),v(1)},disabled:!b,className:`w-full px-3 py-2 rounded-lg border text-sm ${_?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${b?"":"opacity-50 cursor-not-allowed"}`,children:_?"Enabled":"Disabled"})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(M=>{const W=w.includes(M.id);return d.jsx(g3,{product:M,isFavorite:W,onToggleFavorite:()=>H(M.id)},M.id)})}),d.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[d.jsx("div",{className:"text-sm text-gray-600",children:ie===0?"No gifts found. Try adjusting your filters.":`Showing ${Oe}-${ge} of ${ie} gifts`}),R>1&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>v(M=>Math.max(1,M-1)),disabled:N===1,className:`px-3 py-2 rounded-md border text-sm ${N===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Previous"}),he.map((M,W)=>M==="dots"?d.jsx("span",{className:"px-2 text-gray-400 text-sm",children:"..."},`dots-${W}`):d.jsx("button",{onClick:()=>v(M),className:`px-3 py-2 rounded-md border text-sm ${M===N?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:M},M)),d.jsx("button",{onClick:()=>v(M=>Math.min(R,M+1)),disabled:N===R,className:`px-3 py-2 rounded-md border text-sm ${N===R?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Next"})]})]})]})]})]})}function E3(){const{id:t}=pk(),e=ks.find(T=>T.id===parseInt(t)),[n,r]=j.useState(""),[s,i]=j.useState(1),{addToCart:o}=il(),[a,u]=j.useState(!1),{currentUser:c}=vn(),h=ur(),[f,m]=j.useState(!1),v=()=>{if(!c){h("/login");return}m(!0)};function w(){const b=document.createElement("canvas");b.width=1080,b.height=1080;const y=b.getContext("2d"),x=y.createLinearGradient(0,0,1080,1080);x.addColorStop(0,"#ffe4e6"),x.addColorStop(1,"#fb7185"),y.fillStyle=x,y.fillRect(0,0,1080,1080);function _(C,R,N,A){y.save(),y.translate(C,R),y.scale(N,N),y.beginPath(),y.moveTo(0,-10),y.bezierCurveTo(12,-28,40,-18,40,6),y.bezierCurveTo(40,26,18,40,0,52),y.bezierCurveTo(-18,40,-40,26,-40,6),y.bezierCurveTo(-40,-18,-12,-28,0,-10),y.closePath(),y.fillStyle=A,y.fill(),y.restore()}for(let C=0;C<24;C++){const R=Math.random()*1080,N=Math.random()*1080,A=.3+Math.random()*.8,ie=Math.random()<.5?"rgba(225,29,72,0.15)":"rgba(251,113,133,0.15)";_(R,N,A,ie)}y.fillStyle="rgba(255,255,255,0.85)";const k=80;y.beginPath(),y.moveTo(140+k,180),y.arcTo(940,180,940,900,k),y.arcTo(940,900,140,900,k),y.arcTo(140,900,140,180,k),y.arcTo(140,180,940,180,k),y.closePath(),y.fill(),y.fillStyle="#e11d48",y.textAlign="center",y.font="bold 72px Georgia",y.fillText("With Love",1080/2,300),y.fillStyle="#0f172a",y.font="600 56px Georgia",y.fillText(e.name,1080/2,390),y.fillStyle="#334155",y.font="italic 36px Georgia";const V=n!=null&&n.trim()?n.trim():"You make my world brighter",L=[];let P="";V.split(/\s+/).forEach(C=>{const R=P?P+" "+C:C;y.measureText(R).width>720?(L.push(P),P=C):P=R}),P&&L.push(P),L.slice(0,4).forEach((C,R)=>{y.fillText(C,1080/2,480+R*48)}),y.fillStyle="#e11d48",_(1080/2,620,1.2,"#e11d48"),y.fillStyle="#64748b",y.font="500 28px Georgia",y.fillText("LoveCraft",1080/2,860);const I=document.createElement("a");I.download="wish-card.png",I.href=b.toDataURL("image/png"),I.click()}return e?d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative",children:[d.jsxs(oe,{to:"/products",className:"inline-flex items-center text-gray-500 hover:text-love-red mb-8 transition-colors",children:[d.jsx(NM,{className:"h-4 w-4 mr-2"})," Back to Gifts"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[d.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"rounded-2xl overflow-hidden shadow-lg border border-love-pink/20",children:d.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),d.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-love-red font-medium uppercase tracking-wider mb-2",children:e.category}),d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-2",children:e.name}),d.jsxs("div",{className:"flex items-center space-x-2 text-yellow-500 text-sm mb-4",children:[d.jsx("div",{className:"flex",children:[...Array(5)].map((T,b)=>d.jsx(GM,{className:"h-4 w-4 fill-current"},b))}),d.jsx("span",{className:"text-gray-400",children:"(24 reviews)"})]}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",e.price.toFixed(2)]})]}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description||"Celebrate your love with this handcrafted treasure. Perfect for anniversaries, Valentine's Day, or just because."}),d.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"custom-text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message (Optional)"}),d.jsx("textarea",{id:"custom-text",rows:3,className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-love-pink focus:ring-love-pink text-sm p-3 border",placeholder:"Enter names, dates, or a short love note...",value:n,onChange:T=>r(T.target.value)})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[d.jsx("button",{onClick:()=>i(Math.max(1,s-1)),className:"px-3 py-2 text-gray-600 hover:bg-gray-50",children:"-"}),d.jsx("span",{className:"px-3 py-2 font-medium w-12 text-center",children:s}),d.jsx("button",{onClick:()=>i(s+1),className:"px-3 py-2 text-gray-600 hover:bg-gray-50",children:"+"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[d.jsxs("button",{onClick:v,disabled:a,className:`w-full sm:flex-1 px-6 py-3 rounded-lg font-medium transition-colors shadow-md flex items-center justify-center space-x-2 ${a?"bg-green-600 text-white":"bg-love-red text-white hover:bg-red-700"}`,children:[a?d.jsx(vh,{className:"h-5 w-5"}):d.jsx(dg,{className:"h-5 w-5"}),d.jsx("span",{children:a?"Added to Cart":"Add to Cart"})]}),d.jsxs("button",{onClick:w,className:"w-full sm:w-auto px-6 py-3 rounded-lg font-medium transition-colors shadow-md flex items-center justify-center space-x-2 bg-white text-love-red border border-love-pink/30 hover:bg-love-light",children:[d.jsx(lS,{className:"h-5 w-5"}),d.jsx("span",{children:"Download Wish Image"})]}),d.jsx("button",{className:"w-full sm:w-auto p-3 border border-gray-300 rounded-lg hover:border-love-red hover:text-love-red transition-colors flex items-center justify-center",children:d.jsx(tn,{className:"h-5 w-5"})})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 pt-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(vh,{className:"h-4 w-4 mr-1 text-green-500"})," In Stock"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(vh,{className:"h-4 w-4 mr-1 text-green-500"})," Free Shipping"]})]})]})]}),f&&d.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-love-pink/30 p-6 max-w-sm w-full mx-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-love-dark mb-2",children:"Add to cart?"}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['Add "',e.name,'"',s>1?` (x${s})`:""," to your cart?"]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 text-sm",children:"Cancel"}),d.jsx("button",{type:"button",onClick:()=>{o(e,s,n),u(!0),m(!1),setTimeout(()=>u(!1),2e3)},className:"px-4 py-2 rounded-lg bg-love-red text-white hover:bg-red-700 text-sm",children:"Confirm"})]})]})})]}):d.jsxs("div",{className:"min-h-[50vh] flex flex-col items-center justify-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Product not found"}),d.jsx(oe,{to:"/products",className:"mt-4 text-love-red hover:underline",children:"Return to Shop"})]})}function T3(){const{cartItems:t,removeFromCart:e,updateQuantity:n,cartTotal:r}=il();return t.length===0?d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 text-center",children:[d.jsx("h2",{className:"text-3xl font-cursive text-gray-800 mb-4",children:"Your cart is empty"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't found the perfect gift yet."}),d.jsxs(oe,{to:"/products",className:"inline-flex items-center bg-love-red text-white px-6 py-3 rounded-full hover:bg-red-700 transition-colors",children:["Start Shopping ",d.jsx(aS,{className:"ml-2 h-4 w-4"})]})]}):d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-8",children:"Shopping Cart"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[d.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.map(s=>d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center bg-white p-4 rounded-xl shadow-sm border border-love-pink/20 gap-4 sm:gap-6",children:[d.jsx("img",{src:s.image,alt:s.name,className:"w-24 h-24 object-cover rounded-lg flex-shrink-0"}),d.jsxs("div",{className:"sm:ml-2 flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:s.name}),d.jsxs("p",{className:"text-love-red font-medium",children:["$",s.price.toFixed(2)]}),s.customText&&d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Note: ",s.customText]})]}),d.jsxs("div",{className:"flex items-center sm:items-center justify-between sm:justify-end w-full sm:w-auto gap-4 sm:gap-6",children:[d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[d.jsx("button",{onClick:()=>n(s.id,s.customText,s.quantity-1),className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50",children:"-"}),d.jsx("span",{className:"px-2 text-sm font-medium",children:s.quantity}),d.jsx("button",{onClick:()=>n(s.id,s.customText,s.quantity+1),className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50",children:"+"})]}),d.jsx("button",{onClick:()=>e(s.id,s.customText),className:"text-gray-400 hover:text-red-500 transition-colors",children:d.jsx(dS,{className:"h-5 w-5"})})]})]},`${s.id}-${s.customText}`))}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-love-pink/20 md:sticky md:top-24",children:[d.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Order Summary"}),d.jsxs("div",{className:"space-y-4 text-sm",children:[d.jsxs("div",{className:"flex justify-between text-gray-600",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["$",r.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-gray-600",children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{children:"Free"})]}),d.jsxs("div",{className:"border-t border-gray-100 pt-4 flex justify-between font-bold text-lg text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["$",r.toFixed(2)]})]})]}),d.jsx(oe,{to:"/checkout",className:"block text-center w-full mt-8 bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Proceed to Checkout"})]})})]})]})}const S3=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},o5={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:S3()};function I3(){const{cartItems:t,cartTotal:e,clearCart:n}=il(),{currentUser:r}=vn(),s=ur(),[i,o]=j.useState(!1),[a,u]=j.useState(""),[c,h]=j.useState({firstName:"",lastName:"",email:(r==null?void 0:r.email)||"",address:"",city:"",zipCode:"",country:"",cardNumber:"",expiryDate:"",cvv:""}),f=v=>{h({...c,[v.target.name]:v.target.value})},m=async v=>{v.preventDefault(),o(!0),u("");try{const w={userId:r?r.uid:"guest",userEmail:c.email,items:t,total:e,shippingDetails:{firstName:c.firstName,lastName:c.lastName,address:c.address,city:c.city,zipCode:c.zipCode,country:c.country},status:"pending",createdAt:wu()},T=await KV(DV(Gr,"orders"),w);try{const b={order_id:T.id,to_name:`${c.firstName} ${c.lastName}`,to_email:c.email,message:`Thank you for your order! Your total is $${e.toFixed(2)}. We will ship your romantic gifts to ${c.address}, ${c.city}.`,reply_to:"support@lovecraft.com"},y=void 0,x=void 0,_="GNdiN4DMl_vTXQ7iE";y&&x||console.warn("EmailJS service/template IDs are not set"),console.log("Email sent successfully!")}catch(b){console.error("Failed to send email:",b)}n(),s("/order-success")}catch(w){console.error("Error placing order:",w),u("Failed to place order. Please try again.")}finally{o(!1)}};return j.useEffect(()=>{t.length===0&&s("/cart")},[t,s]),t.length===0?null:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-8 text-center",children:"Checkout"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md border border-love-pink/20",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Shipping Details"}),a&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:a}),d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),d.jsx("input",{type:"text",name:"firstName",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.firstName,onChange:f})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),d.jsx("input",{type:"text",name:"lastName",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.lastName,onChange:f})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.email,onChange:f})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),d.jsx("input",{type:"text",name:"address",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.address,onChange:f})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),d.jsx("input",{type:"text",name:"city",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.city,onChange:f})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code"}),d.jsx("input",{type:"text",name:"zipCode",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.zipCode,onChange:f})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),d.jsx("input",{type:"text",name:"country",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.country,onChange:f})]}),d.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[d.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Payment Information"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),d.jsx("input",{type:"text",name:"cardNumber",required:!0,placeholder:"0000 0000 0000 0000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.cardNumber,onChange:f})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),d.jsx("input",{type:"text",name:"expiryDate",required:!0,placeholder:"MM/YY",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.expiryDate,onChange:f})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),d.jsx("input",{type:"text",name:"cvv",required:!0,placeholder:"123",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:c.cvv,onChange:f})]})]})]})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Processing...":`Pay $${e.toFixed(2)}`})]})]}),d.jsx("div",{children:d.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200 sticky top-24",children:[d.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Order Summary"}),d.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:t.map(v=>d.jsxs("div",{className:"flex gap-4 border-b border-gray-200 pb-4",children:[d.jsx("img",{src:v.image,alt:v.name,className:"w-16 h-16 object-cover rounded-md"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-gray-800",children:v.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",v.quantity]}),d.jsxs("p",{className:"text-love-red font-medium",children:["$",v.price.toFixed(2)]}),v.customText&&d.jsxs("p",{className:"text-xs text-gray-500 italic mt-1",children:['"',v.customText,'"']})]})]},`${v.id}-${v.customText}`))}),d.jsxs("div",{className:"mt-6 space-y-2 pt-4 border-t border-gray-200",children:[d.jsxs("div",{className:"flex justify-between text-gray-600",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["$",e.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-gray-600",children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{children:"Free"})]}),d.jsxs("div",{className:"flex justify-between font-bold text-xl text-love-dark pt-2",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["$",e.toFixed(2)]})]})]})]})})]})]})})}var Su={linear:function(t,e,n,r){var s=n-e;return s*t/r+e},easeInQuad:function(t,e,n,r){var s=n-e;return s*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var s=n-e;return-s*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var s=n-e;return-s*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var s=n-e;return-s*Math.cos(t/r*(Math.PI/2))+s+e},easeOutSine:function(t,e,n,r){var s=n-e;return s*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var s=n-e;return-s/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var s=n-e;return t==0?e:s*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var s=n-e;return t==r?e+s:s*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var s=n-e;return t===0?e:t===r?e+s:(t/=r/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var s=n-e;return-s*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var s=n-e;return s*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+s+e)},easeInOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r/2)===2?e+s:(o||(o=r*(.3*1.5)),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+s+e)},easeInBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*(t/=r)*t*((s+1)*t-s)+e},easeOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*((t=t/r-1)*t*((s+1)*t+s)+1)+e},easeInOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),(t/=r/2)<1?i/2*(t*t*(((s*=1.525)+1)*t-s))+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},easeInBounce:function(t,e,n,r){var s=n-e,i;return i=Su.easeOutBounce(r-t,0,s,r),s-i+e},easeOutBounce:function(t,e,n,r){var s=n-e;return(t/=r)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var s=n-e,i;return t<r/2?(i=Su.easeInBounce(t*2,0,s,r),i*.5+e):(i=Su.easeOutBounce(t*2-r,0,s,r),i*.5+s*.5+e)}},b3=Su;function P3(t){return t*Math.PI/180}function Lt(t,e){return t+Math.random()*(e-t)}function C3(t,e){return Math.floor(t+Math.random()*(e-t+1))}var da;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(da||(da={}));var Tr;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(Tr||(Tr={}));const k3=1e3/60;class A3{constructor(e,n,r,s){this.getOptions=n;const{colors:i,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=s,this.w=Lt(5,20),this.h=Lt(5,20),this.radius=Lt(5,10),this.vx=typeof o=="number"?Lt(-o,o):Lt(o.min,o.max),this.vy=typeof a=="number"?Lt(-a,0):Lt(a.min,a.max),this.shape=C3(0,2),this.angle=P3(Lt(0,360)),this.angularSpin=Lt(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=Lt(0,1),this.rotationDirection=Lt(0,1)?Tr.Positive:Tr.Negative}update(e){const{gravity:n,wind:r,friction:s,opacity:i,drawShape:o}=this.getOptions(),a=e/k3;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=s**a,this.vy*=s**a,this.rotateY>=1&&this.rotationDirection===Tr.Positive?this.rotationDirection=Tr.Negative:this.rotateY<=-1&&this.rotationDirection===Tr.Negative&&(this.rotationDirection=Tr.Positive);const u=.1*this.rotationDirection*a;if(this.rotateY+=u,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case da.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case da.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case da.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class R3{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=Lt(this.x,this.w+this.x),i=Lt(this.y,this.h+this.y);return new A3(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:o,particlesGenerated:a,lastNumberOfPieces:u}=this,{run:c,recycle:h,numberOfPieces:f,debug:m,tweenFunction:v,tweenDuration:w}=this.getOptions();if(!c)return!1;const T=this.particles.length,b=h?T:a;if(b<f){u!==f&&(this.tweenProgress=0,this.tweenFrom=b,this.lastNumberOfPieces=f),this.tweenProgress=Math.min(w,Math.max(0,this.tweenProgress+s));const y=v(this.tweenProgress,this.tweenFrom,f,w),x=Math.round(y-b);for(let _=0;_<x;_++)this.particles.push(this.getParticle());this.particlesGenerated+=x}m&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${T}`,i.width-10,i.height-20));for(let y=this.particles.length-1;y>=0;y--){const x=this.particles[y];x.update(s),(x.y>i.height||x.y<-100||x.x>i.width+100||x.x<-100)&&(h&&b<=f?this.particles[y]=this.getParticle():this.removeParticleAt(y))}return T>0||b<f},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const Dg={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:b3.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class N3{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...Dg,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:o,frameRate:a},canvas:u,context:c}=this,h=Math.min(s-this.lastFrameTime,50);if(a&&h<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(a?h%a:0),i&&(c.fillStyle="white",c.clearRect(0,0,u.width,u.height)),this.generator.animate(h)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new R3(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var s,i;const n=(s=this._options)==null?void 0:s.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const j3=Qr.createRef();class Vg extends Qr.Component{constructor(e){super(e),this.canvas=Qr.createRef(),this.canvas=e.canvasRef||j3}componentDidMount(){if(this.canvas.current){const e=jh(this.props)[0];this.confetti=new N3(this.canvas.current,e)}}componentDidUpdate(){const e=jh(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=jh(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return d.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}Vg.defaultProps={...Dg};Vg.displayName="ReactConfetti";function jh(t){const e={},n={},r={},s=[...Object.keys(Dg),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in t){const a=t[o];s.includes(o)?e[o]=a:i.includes(o)?i[o]=a:r[o]=a}return[e,r,n]}const D3=Qr.forwardRef((t,e)=>d.jsx(Vg,{canvasRef:e,...t}));function V3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function M3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var Dh=typeof window<"u",O3=function(t){j.useEffect(t,[])},L3=function(t){var e=j.useRef(t);e.current=t,O3(function(){return function(){return e.current()}})},F3=function(t){var e=j.useRef(0),n=j.useState(t),r=n[0],s=n[1],i=j.useCallback(function(o){cancelAnimationFrame(e.current),e.current=requestAnimationFrame(function(){s(o)})},[]);return L3(function(){cancelAnimationFrame(e.current)}),[r,i]},U3=function(t){var e={},n=e.initialWidth,r=n===void 0?1/0:n,s=e.initialHeight,i=s===void 0?1/0:s,o=e.onChange,a=F3({width:Dh?window.innerWidth:r,height:Dh?window.innerHeight:i}),u=a[0],c=a[1];return j.useEffect(function(){if(Dh){var h=function(){var f=window.innerWidth,m=window.innerHeight;c({width:f,height:m}),o&&o(f,m)};return V3(window,"resize",h),function(){M3(window,"resize",h)}}},[]),u};function B3(){const{width:t,height:e}=U3();return d.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center bg-love-light/30 px-4",children:[d.jsx(D3,{width:t,height:e,recycle:!1,numberOfPieces:200,colors:["#e11d48","#fb7185","#ffe4e6","#ffffff"]}),d.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.8},className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-xl border border-love-pink/20 text-center relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-love-red to-love-pink"}),d.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(jM,{className:"h-10 w-10 text-green-600"})}),d.jsx("h1",{className:"text-3xl font-cursive text-love-dark mb-4",children:"Order Placed!"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Thank you for your order. We're preparing your romantic gifts with love! You'll receive a confirmation email shortly."}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(oe,{to:"/products",className:"block w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Continue Shopping"}),d.jsx(oe,{to:"/",className:"block w-full bg-white text-love-dark border border-gray-200 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Back to Home"})]}),d.jsxs("div",{className:"mt-8 flex justify-center space-x-2 text-love-pink/60",children:[d.jsx(tn,{className:"h-4 w-4 fill-current animate-pulse"}),d.jsx(tn,{className:"h-4 w-4 fill-current animate-pulse delay-75"}),d.jsx(tn,{className:"h-4 w-4 fill-current animate-pulse delay-150"})]})]})]})}function z3(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,a]=j.useState(""),[u,c]=j.useState(!1),{login:h,loginWithGoogle:f}=vn(),m=ur();async function v(b){b.preventDefault();const y=t.trim();try{i(""),a(""),c(!0),await h(y,n),m("/")}catch(x){console.error("Login error:",x);let _="Failed to log in";x.code==="auth/wrong-password"&&(_="Incorrect email or password"),x.code==="auth/user-not-found"&&(_="Incorrect email or password"),x.code==="auth/invalid-email"&&(_="Invalid email address"),x.code==="auth/invalid-credential"&&(_="Incorrect email or password"),i(_)}c(!1)}async function w(){try{i(""),c(!0),await f(),m("/")}catch(b){console.error("Google login error:",b);let y="Failed to log in with Google";b.code==="auth/popup-closed-by-user"&&(y="Google sign-in was closed before completing."),b.code==="auth/popup-blocked-by-browser"&&(y="Your browser blocked the Google sign-in popup."),b.code==="auth/cancelled-popup-request"&&(y="Google sign-in was cancelled by another request."),b.code==="auth/unauthorized-domain"&&(y="Google sign-in is not enabled for this website domain."),y==="Failed to log in with Google"&&b.code&&(y+=` (${b.code})`),i(y)}c(!1)}async function T(){m("/reset-password")}return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-love-light/30 px-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(tn,{className:"h-10 w-10 text-love-red mx-auto mb-2 fill-current"}),d.jsx("h2",{className:"text-3xl font-cursive text-love-dark font-bold",children:"Welcome Back"}),d.jsx("p",{className:"text-gray-600",children:"Sign in to continue your love story"})]}),s&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:s}),o&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"status",children:o}),d.jsxs("form",{onSubmit:v,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:t,onChange:b=>e(b.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:n,onChange:b=>r(b.target.value)})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"button",onClick:T,disabled:u,className:"text-sm text-love-red hover:underline",children:"Forgot password?"})}),d.jsx("button",{type:"submit",disabled:u,className:"w-full bg-love-red text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red transition-colors font-medium",children:"Log In"})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:w,disabled:u,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red",children:[d.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),d.jsxs("div",{className:"mt-6 text-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),d.jsx(oe,{to:"/signup",className:"text-love-red hover:underline font-medium",children:"Sign up"})]})]})})}function $3(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,a]=j.useState(""),[u,c]=j.useState(""),[h,f]=j.useState(!1),{signup:m,loginWithGoogle:v}=vn(),w=ur();async function T(y){y.preventDefault();const x=n.trim();if(s!==o)return c("Passwords do not match");try{c(""),f(!0),await m(x,s,{displayName:t}),w("/profile")}catch(_){console.error("Signup error:",_);let k="Failed to create an account";_.code==="auth/email-already-in-use"&&(k="Email is already in use"),_.code==="auth/weak-password"&&(k="Password should be at least 6 characters"),_.code==="auth/invalid-email"&&(k="Invalid email address"),_.code==="auth/operation-not-allowed"&&(k="Email/Password accounts are not enabled in Firebase Console."),k==="Failed to create an account"&&(k+=`: ${_.message} (${_.code})`),c(k)}f(!1)}async function b(){try{c(""),f(!0),await v(),w("/profile")}catch(y){console.error("Google login error:",y);let x="Failed to sign up with Google";y.code==="auth/popup-closed-by-user"&&(x="Google sign-up was closed before completing."),y.code==="auth/popup-blocked-by-browser"&&(x="Your browser blocked the Google sign-up popup."),y.code==="auth/cancelled-popup-request"&&(x="Google sign-up was cancelled by another request."),y.code==="auth/unauthorized-domain"&&(x="Google sign-up is not enabled for this website domain."),x==="Failed to sign up with Google"&&y.code&&(x+=` (${y.code})`),c(x)}f(!1)}return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-love-light/30 px-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(tn,{className:"h-10 w-10 text-love-red mx-auto mb-2 fill-current"}),d.jsx("h2",{className:"text-3xl font-cursive text-love-dark font-bold",children:"Create Account"}),d.jsx("p",{className:"text-gray-600",children:"Join our community of love"})]}),u&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:u}),d.jsxs("form",{onSubmit:T,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),d.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:t,onChange:y=>e(y.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:n,onChange:y=>r(y.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:s,onChange:y=>i(y.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),d.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:o,onChange:y=>a(y.target.value)})]}),d.jsx("button",{type:"submit",disabled:h,className:"w-full bg-love-red text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red transition-colors font-medium",children:"Sign Up"})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:b,disabled:h,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red",children:[d.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),d.jsxs("div",{className:"mt-6 text-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),d.jsx(oe,{to:"/login",className:"text-love-red hover:underline font-medium",children:"Log in"})]})]})})}function H3(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,a]=j.useState(!1),{resetPassword:u}=vn();async function c(h){h.preventDefault();const f=t.trim();if(!f){r("Please enter your email to reset your password");return}try{r(""),i(""),a(!0),await u(f),i("If an account exists for this email, a reset link has been sent.")}catch(m){m.code==="auth/invalid-email"?r("Invalid email address"):i("If an account exists for this email, a reset link has been sent.")}a(!1)}return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-love-light/30 px-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(tn,{className:"h-10 w-10 text-love-red mx-auto mb-2 fill-current"}),d.jsx("h2",{className:"text-3xl font-cursive text-love-dark font-bold",children:"Reset Password"}),d.jsx("p",{className:"text-gray-600",children:"Enter your email to receive a reset link"})]}),n&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:n}),s&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"status",children:s}),d.jsxs("form",{onSubmit:c,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-love-red focus:ring-love-red p-2 border",value:t,onChange:h=>e(h.target.value),disabled:o})]}),d.jsx("button",{type:"submit",disabled:o,className:"w-full bg-love-red text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-love-red transition-colors font-medium",children:"Send Reset Link"})]}),d.jsxs("div",{className:"mt-6 text-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Remember your password? "}),d.jsx(oe,{to:"/login",className:"text-love-red hover:underline font-medium",children:"Sign in"})]})]})})}function W3(){const[t,e]=j.useState([{id:1,name:"Personalized Heart Necklace",price:45,category:"Jewelry"},{id:2,name:"Handmade Rose Bear",price:35.5,category:"Handmade"}]);return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark",children:"Admin Dashboard"}),d.jsxs("button",{className:"flex items-center space-x-2 bg-love-red text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(HM,{className:"h-5 w-5"}),d.jsx("span",{children:"Add Product"})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-love-pink/20 overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-love-light",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(n=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.name}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.category}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",n.price.toFixed(2)]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-4",children:d.jsx(zM,{className:"h-4 w-4"})}),d.jsx("button",{className:"text-red-600 hover:text-red-900",children:d.jsx(dS,{className:"h-4 w-4"})})]})]},n.id))})]})})]})}function q3(){const{currentUser:t}=vn(),[e,n]=j.useState(!0),[r,s]=j.useState(""),[i,o]=j.useState(!1),[a,u]=j.useState({name:"",address:"",postalCode:"",country:"",gender:"",billingName:"",billingAddress:"",billingPostalCode:"",billingCountry:""}),[c,h]=j.useState(null),[f,m]=j.useState(""),[v,w]=j.useState([]),[T,b]=j.useState(!1),[y,x]=j.useState({}),_=j.useRef(null);j.useEffect(()=>{async function I(){if(t){o(!1),s(""),n(!0);try{const C=qr(Gr,"users",t.uid),R=await id(C),N=R.exists()?R.data():{};u({name:N.name||t.displayName||"",address:N.address||"",postalCode:N.postalCode||"",country:N.country||"",gender:N.gender||"",billingName:N.billingName||N.name||t.displayName||"",billingAddress:N.billingAddress||N.address||"",billingPostalCode:N.billingPostalCode||N.postalCode||"",billingCountry:N.billingCountry||N.country||""}),m(N.photoURL||t.photoURL||""),w(Array.isArray(N.favorites)?N.favorites:[])}catch{s("Failed to load profile")}finally{b(!1),n(!1)}}}I()},[t]);function k(I){const{name:C,value:R}=I.target;u(N=>({...N,[C]:R}))}function V(){const I={},C=a.name.trim();C?C.length<2&&(I.name="Full name must be at least 2 characters"):I.name="Full name is required";const R=a.address.trim();R&&R.length<5&&(I.address="Address should be at least 5 characters");const N=a.billingName.trim();N&&N.length<2&&(I.billingName="Billing name should be at least 2 characters");const A=a.billingAddress.trim();A&&A.length<5&&(I.billingAddress="Billing address should be at least 5 characters");function ie(ge,he){const z=ge.trim();z&&((z.length<3||z.length>10)&&(I[he]="Postal code should be 3 to 10 characters"),/^[0-9A-Za-z\- ]+$/.test(z)||(I[he]="Postal code can use letters and numbers only"))}ie(a.postalCode,"postalCode"),ie(a.billingPostalCode,"billingPostalCode");function Oe(ge,he){const z=ge.trim();z&&z.length<2&&(I[he]="Country name should be at least 2 characters")}return Oe(a.country,"country"),Oe(a.billingCountry,"billingCountry"),x(I),Object.keys(I).length===0}function L(I){return new Promise((C,R)=>{const N=new FileReader;N.onload=()=>C(N.result),N.onerror=R,N.readAsDataURL(I)})}async function P(I){if(I.preventDefault(),s(""),o(!1),!!V())try{let R=f;if(c){if(!c.type.startsWith("image/")){s("Please upload a valid image file");return}if(c.size>256*1024){s("Image too large (max 256KB)");return}R=await L(c)}const N=qr(Gr,"users",t.uid);await eS(N,{name:a.name,address:a.address,postalCode:a.postalCode,country:a.country,gender:a.gender,billingName:a.billingName,billingAddress:a.billingAddress,billingPostalCode:a.billingPostalCode,billingCountry:a.billingCountry,photoURL:R||null},{merge:!0});const A={};if(a.name&&a.name!==t.displayName&&(A.displayName=a.name),Object.keys(A).length)try{await TT(t,A)}catch{}m(R),o(!0),b(!1)}catch{s("Failed to save profile")}}async function E(I){if(t)try{const C=qr(Gr,"users",t.uid);await ag(C,{favorites:tS(I)}),w(R=>R.filter(N=>N!==I))}catch(C){console.error("Failed to remove favorite",C)}}return t?d.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs(te.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.16,1,.3,1]},className:"relative",children:[d.jsx(te.div,{"aria-hidden":"true",className:"pointer-events-none absolute -inset-x-10 -top-10 h-40 bg-gradient-to-r from-love-light/60 via-white to-love-light/60 blur-3xl opacity-60",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.7}}),d.jsx(te.div,{layout:!0,className:"bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20 relative overflow-hidden",whileHover:{y:-2},transition:{type:"spring",stiffness:260,damping:22},children:e?d.jsx("div",{className:"text-gray-600",children:"Loading..."}):d.jsxs("form",{onSubmit:P,className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx(te.h2,{className:"text-2xl font-cursive text-love-dark",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4},children:"Personal Details"}),d.jsx(te.button,{type:"button",onClick:()=>b(I=>!I),className:"px-4 py-2 text-sm font-medium rounded-lg border border-love-red text-love-red hover:bg-love-red hover:text-white transition-colors",whileTap:{scale:.95},whileHover:{translateY:-1},transition:{type:"spring",stiffness:300,damping:20},children:T?"Cancel":"Update Personal Details"})]}),r&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded",children:r}),i&&d.jsx(te.div,{className:"bg-green-100 text-green-700 p-3 rounded inline-flex items-center gap-2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:280,damping:18},children:d.jsx("span",{children:"Saved"})}),d.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(te.div,{className:"w-20 h-20 rounded-full overflow-hidden bg-love-light border border-love-pink/30 ring-2 ring-love-light/60",whileHover:{scale:1.03,rotate:1.5},transition:{type:"spring",stiffness:260,damping:18},children:f?d.jsx("img",{src:f,alt:"Avatar",className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-semibold text-love-dark",children:a.name||t.displayName||"No name set"}),d.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})]}),T&&d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:I=>{var C;return h(((C=I.target.files)==null?void 0:C[0])||null)},className:"hidden"}),d.jsx(te.button,{type:"button",onClick:()=>_.current&&_.current.click(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-love-light text-love-dark hover:bg-love-pink/40 transition-colors",whileTap:{scale:.95},children:"Change Photo"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Full Name"}),d.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.name,onChange:k,disabled:!T}),y.name&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:y.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Address"}),d.jsx("input",{type:"text",name:"address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.address,onChange:k,disabled:!T}),y.address&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:y.address})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Postal Code"}),d.jsx("input",{type:"text",name:"postalCode",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.postalCode,onChange:k,disabled:!T}),y.postalCode&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:y.postalCode})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Country"}),d.jsx("input",{type:"text",name:"country",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.country,onChange:k,disabled:!T}),y.country&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:y.country})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Gender"}),d.jsxs("select",{name:"gender",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.gender,onChange:k,disabled:!T,children:[d.jsx("option",{value:"",children:"Select"}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"other",children:"Other"})]})]})]}),d.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h2",{className:"text-2xl font-cursive text-love-dark",children:"Billing Details"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Billing Name"}),d.jsx("input",{type:"text",name:"billingName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.billingName,onChange:k,disabled:!T}),y.billingName&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:y.billingName})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Billing Address"}),d.jsx("input",{type:"text",name:"billingAddress",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.billingAddress,onChange:k,disabled:!T}),y.billingAddress&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:y.billingAddress})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Billing Postal Code"}),d.jsx("input",{type:"text",name:"billingPostalCode",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.billingPostalCode,onChange:k,disabled:!T}),y.billingPostalCode&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:y.billingPostalCode})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Billing Country"}),d.jsx("input",{type:"text",name:"billingCountry",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",value:a.billingCountry,onChange:k,disabled:!T}),y.billingCountry&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:y.billingCountry})]})]})]})]}),T&&d.jsx(te.button,{type:"submit",className:"w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",whileTap:{scale:.97},whileHover:{translateY:-1},children:"Save"})]})})]}),d.jsx(te.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:[.16,1,.3,1]},children:d.jsxs(te.div,{layout:!0,className:"bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20 mt-8",children:[d.jsx("h2",{className:"text-2xl font-semibold text-love-dark mb-4",children:"Your Favorites"}),v.length===0?d.jsx("div",{className:"text-gray-600",children:"No favorites yet. Tap the heart on items to save them here."}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:ks.filter(I=>v.includes(I.id)).map((I,C)=>d.jsxs(te.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*C},whileHover:{y:-4,boxShadow:"0 18px 35px rgba(15,23,42,0.16)"},className:"border border-love-pink/20 rounded-xl overflow-hidden bg-white shadow-sm flex flex-col",children:[d.jsx(te.img,{src:I.image,alt:I.name,className:"w-full h-40 object-cover",whileHover:{scale:1.03},transition:{type:"spring",stiffness:260,damping:22}}),d.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[d.jsx("div",{className:"text-xs text-love-red font-medium mb-1 uppercase tracking-wider",children:I.category}),d.jsx("div",{className:"font-semibold text-gray-800",children:I.name}),d.jsxs("div",{className:"text-love-dark font-bold mt-2 mb-4",children:["$",I.price.toFixed(2)]}),d.jsx(te.button,{type:"button",onClick:()=>E(I.id),className:"mt-auto inline-flex items-center justify-center px-3 py-2 rounded-lg text-xs font-medium border border-gray-300 text-gray-700 hover:border-love-red hover:text-love-red transition-colors",whileTap:{scale:.95},children:"Remove from favorites"})]})]},I.id))})]})})]}):null}function G3(){const[t,e]=j.useState({name:"",email:"",message:""}),[n,r]=j.useState(!1),[s,i]=j.useState(!1);function o(u){const{name:c,value:h}=u.target;e(f=>({...f,[c]:h}))}async function a(u){u.preventDefault(),i(!0),r(!1),await new Promise(c=>setTimeout(c,600)),i(!1),r(!0)}return d.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-3",children:"Contact Us"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Wed love to hear from you. Choose the way that suits you best."}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-2xl shadow-lg border border-love-pink/20",children:[n&&d.jsx("div",{className:"mb-4 bg-green-100 text-green-700 px-4 py-2 rounded",children:"Message sent. Thank you!"}),d.jsxs("form",{onSubmit:a,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:t.name,onChange:o})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:t.email,onChange:o})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),d.jsx("textarea",{name:"message",required:!0,rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-red focus:border-transparent outline-none",value:t.message,onChange:o})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:s?"Sending...":"Send Message"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsx("h2",{className:"text-lg font-semibold text-love-dark mb-3",children:"Instant contact"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Reach us quickly using your favourite app."}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("a",{href:"https://wa.me/15551234567",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between px-4 py-3 rounded-xl border border-green-500 text-green-600 hover:bg-green-50 transition-colors",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-green-500 text-white",children:d.jsx(UM,{className:"h-4 w-4"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"WhatsApp"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Tap to open chat"})]})]})}),d.jsx("a",{href:"https://instagram.com/lovecraft_gifts",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between px-4 py-3 rounded-xl border border-pink-500 text-pink-600 hover:bg-pink-50 transition-colors",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-pink-500 text-white",children:d.jsx(cS,{className:"h-4 w-4"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Instagram DM"}),d.jsx("div",{className:"text-xs text-gray-500",children:"@lovecraft_gifts"})]})]})}),d.jsx("button",{className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-blue-500 text-blue-600 hover:bg-blue-50 transition-colors",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white",children:d.jsx(BM,{className:"h-4 w-4"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Live chat (coming soon)"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Chat with our support team"})]})]})})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-love-pink/20",children:[d.jsx("h2",{className:"text-lg font-semibold text-love-dark mb-3",children:"More ways to reach us"}),d.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[d.jsxs("a",{href:"mailto:support@lovecraft.com",className:"flex items-center space-x-3 hover:text-love-red transition-colors",children:[d.jsx(LM,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"support@lovecraft.com"})]}),d.jsxs("a",{href:"tel:+15551234567",className:"flex items-center space-x-3 hover:text-love-red transition-colors",children:[d.jsx($M,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"+1 (555) 123-4567"})]})]})]})]})]})]})})}const y_=[{id:1,question:"How long will my Valentine's gift take to arrive?",answer:"Most Valentine's orders are prepared within 2448 hours and arrive in 35 business days with standard shipping. Express options are available at checkout for lastminute surprises."},{id:2,question:"Can I personalize my gift with names or a custom message?",answer:"Yes. Many of our gifts support custom engraving, names and personal messages. Look for the Personalize it options on the product page and add your details before checkout."},{id:3,question:"What if my partner is in another city or country?",answer:"We ship to most regions worldwide. Simply enter their address at checkout, and we'll show available delivery times and costs for their location."},{id:4,question:"Do you include the price inside the gift box?",answer:"Never. Our packages are romanceready with no price tags inside the box, so your partner only sees the love, not the receipt."},{id:5,question:"Can I track my order in real time?",answer:"Once your order ships, you receive an email with a live tracking link so you can follow your gift's journey from our studio to their doorstep."}];function K3(){var r;const[t,e]=j.useState(((r=y_[0])==null?void 0:r.id)??null);function n(s){e(i=>i===s?null:s)}return d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-10",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(OM,{className:"h-7 w-7"})}),d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-2",children:"Frequently Asked Questions"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Answers to the most common questions about gifting, delivery and making this Valentine's unforgettable."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,2fr)_minmax(0,1.2fr)] gap-8 items-start",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-love-pink/20 divide-y divide-gray-100",children:y_.map(s=>{const i=s.id===t;return d.jsxs("button",{type:"button",onClick:()=>n(s.id),className:`w-full text-left px-5 sm:px-6 py-4 sm:py-5 focus:outline-none transition-colors ${i?"bg-love-light/40":"bg-white hover:bg-love-light/20"}`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm uppercase tracking-wider text-love-red mb-1 hidden sm:block",children:s.id<10?`0${s.id}`:s.id}),d.jsx("h2",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:s.question})]}),d.jsx(te.div,{initial:!1,animate:{rotate:i?180:0},transition:{duration:.2},className:"flex-shrink-0 mt-1 text-love-red",children:d.jsx(DM,{className:"h-5 w-5"})})]}),d.jsx(VI,{initial:!1,children:i&&d.jsx(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.jsx("p",{className:"mt-3 text-sm text-gray-600 leading-relaxed",children:s.answer})})})]},s.id)})}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-love-pink/20 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-love-dark mb-3",children:"Still can't find your answer?"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Our team is happy to help you choose the right gift, track an order, or create something uniquely romantic."}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(uS,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"Ask us for personalized gift recommendations for your partner."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hS,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"Get live help if you're unsure your gift will arrive in time."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(cg,{className:"h-4 w-4 text-love-red"}),d.jsx("span",{children:"Learn about returns, exchanges and our happiness guarantee."})]})]}),d.jsx("a",{href:"mailto:support@lovecraft.com?subject=FAQ%20question",className:"inline-flex items-center justify-center mt-5 w-full px-4 py-3 rounded-xl bg-love-red text-white text-sm font-medium shadow-lg hover:bg-red-700 transition-colors",children:"Send us your question"})]})})]})]})})}function Q3(){const[t,e]=j.useState(null),[n,r]=j.useState(null),[s,i]=j.useState("dance"),[o,a]=j.useState(!1),[u,c]=j.useState(!1),[h,f]=j.useState(!1),m=j.useRef(null),v=j.useRef(null),w=j.useRef(null);function T(_,k){const V=_.target.files&&_.target.files[0];if(!V)return;const L=new FileReader;L.onload=P=>{const E=P.target&&P.target.result;k(typeof E=="string"?E:null)},L.readAsDataURL(V)}async function b(){if(!t||!n){alert("Please upload both faces first");return}c(!0),a(!1),setTimeout(()=>{c(!1),a(!0)},800)}async function y(){if(!t||!n){alert("Please upload both faces first");return}if(!o){alert("Please create the video first");return}if(typeof window>"u")return;const _=w.current;if(!_)return;const k=_.getContext("2d");if(!k)return;if(typeof MediaRecorder>"u"||typeof _.captureStream!="function"){alert("Video download is not supported in this browser");return}f(!0);const V=_.captureStream(30),L=[],P=new MediaRecorder(V,{mimeType:"video/webm"});P.ondataavailable=H=>{H.data&&H.data.size>0&&L.push(H.data)};const E=new Promise(H=>{P.onstop=()=>{const K=new Blob(L,{type:"video/webm"}),M=URL.createObjectURL(K),W=document.createElement("a");W.href=M,W.download="love-video.webm",document.body.appendChild(W),W.click(),W.remove(),URL.revokeObjectURL(M),H()}}),I=new Image,C=new Image;I.src=t,C.src=n;function R(H){return new Promise((K,M)=>{if(H.complete&&H.naturalWidth){K();return}H.onload=()=>K(),H.onerror=()=>M(new Error("Failed to load image"))})}try{await Promise.all([R(I),R(C)])}catch{alert("Failed to load images for video"),f(!1),V.getTracks().forEach(H=>H.stop());return}const N=_.width,A=_.height,ie=30,ge=ie*4;let he=0;function z(){const H=he/ie,K=k.createLinearGradient(0,0,N,A);s==="dance"?(K.addColorStop(0,"#fee2e2"),K.addColorStop(1,"#f97373")):s==="hearts"?(K.addColorStop(0,"#ffe4e6"),K.addColorStop(1,"#fb7185")):(K.addColorStop(0,"#e0e7ff"),K.addColorStop(1,"#f9a8d4")),k.fillStyle=K,k.fillRect(0,0,N,A);const W=A/2,J=N*.3,ce=N*.7,se=Math.min(N,A)*.16;let _e=J,_t=ce,dr=W,xn=W,Gt=1,wt=1,ds=0,ti=0;if(s==="dance"){const ze=Math.sin(H*Math.PI*2);dr=W+ze*-20,xn=W+ze*20,ds=ze*-.25,ti=ze*.25}else if(s==="hearts"){const ze=Math.sin(H*Math.PI*2);dr=W+ze*-25,xn=W+ze*25,_e=J+ze*-N*.03,_t=ce+ze*N*.03}else if(s==="zoom"){const ze=Math.sin(H*Math.PI*2),hr=1+.08*ze;Gt=hr,wt=hr,dr=W+ze*-10,xn=W+Math.sin(H*Math.PI*2+Math.PI)*10}function ni(ze,hr,cl,pd,dl){const _n=se*pd;k.save(),k.translate(hr,cl),k.rotate(dl),k.beginPath(),k.arc(0,0,_n,0,Math.PI*2),k.closePath(),k.clip(),k.drawImage(ze,-_n,-_n,_n*2,_n*2),k.restore(),k.save(),k.translate(hr,cl),k.beginPath(),k.arc(0,0,_n+8,0,Math.PI*2),k.strokeStyle="rgba(255,255,255,0.9)",k.lineWidth=6,k.stroke(),k.restore()}ni(I,_e,dr,Gt,ds),ni(C,_t,xn,wt,ti),k.font="bold 32px system-ui",k.fillStyle="rgba(255,255,255,0.95)",k.textAlign="center",s==="dance"?k.fillText("Dance of Love",N/2,A-40):s==="hearts"?k.fillText("Love Vibes",N/2,A-40):k.fillText("Zoom in Love",N/2,A-40),he+=1,he<ge?requestAnimationFrame(z):(P.stop(),V.getTracks().forEach(ze=>ze.stop()))}P.start(),z(),await E,f(!1)}const x=s==="dance"?"from-pink-100 to-red-200":s==="hearts"?"from-rose-100 to-pink-200":"from-indigo-100 to-pink-100";return d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-6",children:"Create a Funny Love Video"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Upload two faces and generate a short, looping fun scene."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-love-pink/20",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add your faces (optional)"})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{type:"button",onClick:()=>m.current&&m.current.click(),className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-xs font-medium text-gray-700 hover:border-love-red hover:text-love-red transition-colors",children:"Upload you"}),d.jsx("input",{ref:m,type:"file",accept:"image/*",className:"hidden",onChange:_=>T(_,e)}),t&&d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:t,alt:"You",className:"w-16 h-16 rounded-full object-cover border border-love-pink/50"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{type:"button",onClick:()=>v.current&&v.current.click(),className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-xs font-medium text-gray-700 hover:border-love-red hover:text-love-red transition-colors",children:"Upload partner"}),d.jsx("input",{ref:v,type:"file",accept:"image/*",className:"hidden",onChange:_=>T(_,r)}),n&&d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:n,alt:"Partner",className:"w-16 h-16 rounded-full object-cover border border-love-pink/50"})})]})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Funny video type"})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{type:"button",onClick:()=>i("dance"),className:`px-3 py-2 rounded-full text-xs font-medium border transition-colors ${s==="dance"?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-200 hover:border-love-red/60"}`,children:"Dance"}),d.jsx("button",{type:"button",onClick:()=>i("hearts"),className:`px-3 py-2 rounded-full text-xs font-medium border transition-colors ${s==="hearts"?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-200 hover:border-love-red/60"}`,children:"Hearts"}),d.jsx("button",{type:"button",onClick:()=>i("zoom"),className:`px-3 py-2 rounded-full text-xs font-medium border transition-colors ${s==="zoom"?"bg-love-red text-white border-love-red":"bg-white text-gray-700 border-gray-200 hover:border-love-red/60"}`,children:"Zoom"})]})]}),d.jsx("button",{type:"button",onClick:b,className:"w-full bg-love-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg disabled:opacity-60 disabled:cursor-not-allowed",disabled:u,children:u?"Creating...":"Create video"})]})}),d.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-6 rounded-2xl shadow-lg border border-love-pink/20 flex items-center justify-center",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsx("h2",{className:"text-3xl font-cursive text-love-dark mb-4 text-center",children:"Preview"}),d.jsxs("div",{className:`relative w-full aspect-video rounded-2xl overflow-hidden shadow-lg bg-gradient-to-br ${x}`,children:[!o&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-700 px-6",children:[d.jsx("div",{className:"text-5xl mb-3",children:""}),d.jsxs("p",{className:"text-sm",children:["Upload two faces and click ",d.jsx("span",{className:"font-semibold",children:"Create video"})," to see them in a fun scene."]})]}),o&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"relative w-full h-full",children:[t&&d.jsx(te.img,{src:t,alt:"You video",className:"absolute w-24 h-24 md:w-28 md:h-28 rounded-full object-cover border-4 border-white shadow-lg",initial:{x:-80,y:0,rotate:0},animate:s==="dance"?{y:[-10,10,-10],rotate:[-8,8,-8]}:s==="hearts"?{y:[0,-20,0],x:[-20,0,20]}:{scale:[1,1.1,1],y:[-6,6,-6]},transition:{duration:1.6,repeat:1/0,repeatType:"reverse"},style:{left:"18%",top:"50%",transform:"translate(-50%, -50%)"}}),n&&d.jsx(te.img,{src:n,alt:"Partner video",className:"absolute w-24 h-24 md:w-28 md:h-28 rounded-full object-cover border-4 border-white shadow-lg",initial:{x:80,y:0,rotate:0},animate:s==="dance"?{y:[10,-10,10],rotate:[8,-8,8]}:s==="hearts"?{y:[-10,10,-10],x:[20,0,-20]}:{scale:[1.1,1,1.1],y:[6,-6,6]},transition:{duration:1.6,repeat:1/0,repeatType:"reverse"},style:{right:"18%",top:"50%",transform:"translate(50%, -50%)"}}),s==="dance"&&d.jsxs(te.div,{className:"absolute inset-x-0 bottom-8 flex items-center justify-center text-3xl",animate:{scale:[1,1.2,1]},transition:{duration:1.4,repeat:1/0,repeatType:"reverse"},children:[d.jsx("span",{className:"mx-1",children:""}),d.jsx("span",{className:"mx-1",children:""}),d.jsx("span",{className:"mx-1",children:""})]}),s==="hearts"&&d.jsxs(d.Fragment,{children:[d.jsx(te.div,{className:"absolute left-6 bottom-6 text-4xl",animate:{y:[0,-12,0]},transition:{duration:1.8,repeat:1/0,repeatType:"reverse"},children:""}),d.jsx(te.div,{className:"absolute right-6 top-6 text-4xl",animate:{y:[-8,8,-8]},transition:{duration:1.8,repeat:1/0,repeatType:"reverse"},children:""})]}),s==="zoom"&&d.jsx(te.div,{className:"absolute inset-0 flex items-center justify-center text-4xl text-white/90",animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:""})]})})]}),o&&d.jsx("div",{className:"mt-4 flex justify-center",children:d.jsxs("button",{type:"button",onClick:y,disabled:h,className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-love-red text-white font-medium shadow-md hover:bg-red-700 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[d.jsx(lS,{className:"h-5 w-5"}),d.jsx("span",{children:h?"Preparing video...":"Download video"})]})})]})})]})]}),d.jsx("canvas",{ref:w,width:640,height:360,className:"hidden"})]})}function Y3(){return d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-10",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-love-light text-love-red mb-4",children:d.jsx(WM,{className:"h-7 w-7"})}),d.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-2",children:"Returns & Exchanges"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"If something isn't quite perfect with your LoveCraft order, we'll help you make it right with a simple, friendly returns process."})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-love-pink/20 p-6 sm:p-8 space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-love-dark mb-2",children:"Return window"}),d.jsxs("p",{className:"text-sm text-gray-600",children:["You can request a return or exchange within ",d.jsx("span",{className:"font-semibold",children:"14 days"})," of delivery for most nonpersonalized items, as long as they are unused and in their original packaging."]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 text-love-dark font-semibold",children:[d.jsx(cg,{className:"h-5 w-5 text-love-red"}),d.jsx("span",{children:"Eligible items"})]}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[d.jsx("li",{children:"Standard gifts in new, unused condition"}),d.jsx("li",{children:"Items damaged in transit (with photo proof)"}),d.jsx("li",{children:"Wrong item received compared to your order"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 text-love-dark font-semibold",children:[d.jsx(qM,{className:"h-5 w-5 text-love-red"}),d.jsx("span",{children:"Not usually returnable"})]}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[d.jsx("li",{children:"Fully personalized items with names, dates or custom messages"}),d.jsx("li",{children:"Digital products or instant downloads"}),d.jsx("li",{children:"Items clearly used or damaged after delivery"})]})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-love-dark mb-2",children:"How to request a return"}),d.jsxs("ol",{className:"text-sm text-gray-600 space-y-2 list-decimal list-inside",children:[d.jsx("li",{children:"Have your order number and the email used at checkout ready."}),d.jsxs("li",{children:["Contact our support team via the"," ",d.jsx("a",{href:"/contact",className:"text-love-red hover:underline",children:"contact page"})," ","or email ",d.jsx("span",{className:"font-mono text-gray-700",children:"support@lovecraft.com"}),"."]}),d.jsx("li",{children:"Share a short description and, if applicable, photos of the issue."}),d.jsx("li",{children:"We'll reply with simple instructions and the next steps for your case."})]})]}),d.jsx("div",{className:"border-t border-love-pink/20 pt-4 text-xs text-gray-500",children:d.jsx("p",{children:"Note: This is a demo store returns policy for Valentine's gifting scenarios. In a real store, always review the detailed legal policy at checkout."})})]})]})})}function X3(){const t=[...Array(15)].map((e,n)=>({id:n,left:`${Math.random()*100}%`,animationDuration:`${Math.random()*10+10}s`,delay:`${Math.random()*5}s`,scale:Math.random()*.5+.5}));return d.jsx("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:t.map(e=>d.jsx(te.div,{initial:{y:"110vh",opacity:0},animate:{y:"-10vh",opacity:[0,.8,0],x:[0,Math.random()*100-50,0]},transition:{duration:parseFloat(e.animationDuration),repeat:1/0,delay:parseFloat(e.delay),ease:"linear"},style:{left:e.left,position:"absolute"},children:d.jsx(tn,{className:"text-love-pink/30 fill-current",style:{width:`${e.scale*40}px`,height:`${e.scale*40}px`}})},e.id))})}function J3(){const t=j.useMemo(()=>{const e=new Set(ks.map(n=>n.category));return Array.from(e).sort()},[]);return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("h1",{className:"text-3xl sm:text-4xl font-cursive text-love-dark",children:"Browse by Category"}),d.jsx("p",{className:"mt-2 text-gray-600 text-sm sm:text-base",children:"Pick a category to see gifts tailored to that theme."})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 sm:gap-6",children:t.map(e=>d.jsxs(oe,{to:`/products?category=${encodeURIComponent(e)}`,className:"group bg-white border border-love-pink/20 rounded-xl p-3 sm:p-4 shadow-sm hover:shadow-md transition-all flex flex-col items-center justify-center text-center",children:[d.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-love-light flex items-center justify-center mb-2 group-hover:bg-love-red/10",children:d.jsx("span",{className:"text-lg sm:text-xl text-love-red",children:""})}),d.jsx("div",{className:"text-sm sm:text-base font-medium text-love-dark group-hover:text-love-red",children:e})]},e))})]})}function v_({children:t}){const{currentUser:e}=vn();return e?t:d.jsx(kk,{to:"/login"})}function Z3(){return d.jsx(CM,{children:d.jsx(kM,{children:d.jsxs("div",{className:"min-h-screen bg-love-light/10 flex flex-col relative",children:[d.jsx(X3,{}),d.jsx(f3,{}),d.jsx("main",{className:"flex-grow",children:d.jsxs(Rk,{children:[d.jsx(et,{path:"/",element:d.jsx(m3,{})}),d.jsx(et,{path:"/products",element:d.jsx(w3,{})}),d.jsx(et,{path:"/products/:id",element:d.jsx(E3,{})}),d.jsx(et,{path:"/categories",element:d.jsx(J3,{})}),d.jsx(et,{path:"/cart",element:d.jsx(T3,{})}),d.jsx(et,{path:"/checkout",element:d.jsx(I3,{})}),d.jsx(et,{path:"/order-success",element:d.jsx(B3,{})}),d.jsx(et,{path:"/login",element:d.jsx(z3,{})}),d.jsx(et,{path:"/signup",element:d.jsx($3,{})}),d.jsx(et,{path:"/reset-password",element:d.jsx(H3,{})}),d.jsx(et,{path:"/contact",element:d.jsx(G3,{})}),d.jsx(et,{path:"/faq",element:d.jsx(K3,{})}),d.jsx(et,{path:"/wish",element:d.jsx(Q3,{})}),d.jsx(et,{path:"/returns",element:d.jsx(Y3,{})}),d.jsx(et,{path:"/admin",element:d.jsx(v_,{children:d.jsx(W3,{})})}),d.jsx(et,{path:"/profile",element:d.jsx(v_,{children:d.jsx(q3,{})})})]})}),d.jsx(p3,{})]})})})}Vh.createRoot(document.getElementById("root")).render(d.jsx(Qr.StrictMode,{children:d.jsx(Fk,{children:d.jsx(Z3,{})})}));
