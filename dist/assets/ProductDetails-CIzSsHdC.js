import{c as y,l as I,r as h,u as R,a as F,b as H,j as e,L as C,m as z,S as O,H as U}from"./index-zv41U5i8.js";import{M as W}from"./products-ltJaewHY.js";import{D as $}from"./download--y289ni2.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);function Y(){const{id:k}=I(),s=W.find(c=>c.id===parseInt(k)),[o,S]=h.useState(""),[i,j]=h.useState(1),{addToCart:T}=R(),[x,w]=h.useState(!1),{currentUser:A}=F(),M=H(),[L,f]=h.useState(!1),P=()=>{if(!A){M("/login");return}f(!0)};function D(){const n=document.createElement("canvas");n.width=1080,n.height=1080;const t=n.getContext("2d"),u=t.createLinearGradient(0,0,1080,1080);u.addColorStop(0,"#ffe4e6"),u.addColorStop(1,"#fb7185"),t.fillStyle=u,t.fillRect(0,0,1080,1080);function N(a,r,m,b){t.save(),t.translate(a,r),t.scale(m,m),t.beginPath(),t.moveTo(0,-10),t.bezierCurveTo(12,-28,40,-18,40,6),t.bezierCurveTo(40,26,18,40,0,52),t.bezierCurveTo(-18,40,-40,26,-40,6),t.bezierCurveTo(-40,-18,-12,-28,0,-10),t.closePath(),t.fillStyle=b,t.fill(),t.restore()}for(let a=0;a<24;a++){const r=Math.random()*1080,m=Math.random()*1080,b=.3+Math.random()*.8,G=Math.random()<.5?"rgba(225,29,72,0.15)":"rgba(251,113,133,0.15)";N(r,m,b,G)}t.fillStyle="rgba(255,255,255,0.85)";const d=80;t.beginPath(),t.moveTo(140+d,180),t.arcTo(940,180,940,900,d),t.arcTo(940,900,140,900,d),t.arcTo(140,900,140,180,d),t.arcTo(140,180,940,180,d),t.closePath(),t.fill(),t.fillStyle="#e11d48",t.textAlign="center",t.font="bold 72px Georgia",t.fillText("With Love",1080/2,300),t.fillStyle="#0f172a",t.font="600 56px Georgia",t.fillText(s.name,1080/2,390),t.fillStyle="#334155",t.font="italic 36px Georgia";const E=o!=null&&o.trim()?o.trim():"You make my world brighter",p=[];let l="";E.split(/\s+/).forEach(a=>{const r=l?l+" "+a:a;t.measureText(r).width>720?(p.push(l),l=a):l=r}),l&&p.push(l),p.slice(0,4).forEach((a,r)=>{t.fillText(a,1080/2,480+r*48)}),t.fillStyle="#e11d48",N(1080/2,620,1.2,"#e11d48"),t.fillStyle="#64748b",t.font="500 28px Georgia",t.fillText("LoveCraft",1080/2,860);const g=document.createElement("a");g.download="wish-card.png",g.href=n.toDataURL("image/png"),g.click()}return s?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative",children:[e.jsxs(C,{to:"/products",className:"inline-flex items-center text-gray-500 hover:text-love-red mb-8 transition-colors",children:[e.jsx(_,{className:"h-4 w-4 mr-2"})," Back to Gifts"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsx(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"rounded-2xl overflow-hidden shadow-lg border border-love-pink/20",children:e.jsx("img",{src:s.image,alt:s.name,loading:"lazy",className:"w-full h-full object-cover object-top"})}),e.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-love-red font-medium uppercase tracking-wider mb-2",children:s.category}),e.jsx("h1",{className:"text-4xl font-cursive text-love-dark mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-yellow-500 text-sm mb-4",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((c,n)=>e.jsx(q,{className:"h-4 w-4 fill-current"},n))}),e.jsx("span",{className:"text-gray-400",children:"(24 reviews)"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",s.price.toFixed(2)]})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description||"Celebrate your love with this handcrafted treasure. Perfect for anniversaries, Valentine's Day, or just because."}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"custom-text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message (Optional)"}),e.jsx("textarea",{id:"custom-text",rows:3,className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-love-pink focus:ring-love-pink text-sm p-3 border",placeholder:"Enter names, dates, or a short love note...",value:o,onChange:c=>S(c.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>j(Math.max(1,i-1)),className:"px-3 py-2 text-gray-600 hover:bg-gray-50",children:"-"}),e.jsx("span",{className:"px-3 py-2 font-medium w-12 text-center",children:i}),e.jsx("button",{onClick:()=>j(i+1),className:"px-3 py-2 text-gray-600 hover:bg-gray-50",children:"+"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[e.jsxs("button",{onClick:P,disabled:x,className:`w-full sm:flex-1 px-6 py-3 rounded-lg font-medium transition-colors shadow-md flex items-center justify-center space-x-2 ${x?"bg-green-600 text-white":"bg-love-red text-white hover:bg-red-700"}`,children:[x?e.jsx(v,{className:"h-5 w-5"}):e.jsx(O,{className:"h-5 w-5"}),e.jsx("span",{children:x?"Added to Cart":"Add to Cart"})]}),e.jsxs("button",{onClick:D,className:"w-full sm:w-auto px-6 py-3 rounded-lg font-medium transition-colors shadow-md flex items-center justify-center space-x-2 bg-white text-love-red border border-love-pink/30 hover:bg-love-light",children:[e.jsx($,{className:"h-5 w-5"}),e.jsx("span",{children:"Download Wish Image"})]}),e.jsx("button",{className:"w-full sm:w-auto p-3 border border-gray-300 rounded-lg hover:border-love-red hover:text-love-red transition-colors flex items-center justify-center",children:e.jsx(U,{className:"h-5 w-5"})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 pt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-4 w-4 mr-1 text-green-500"})," In Stock"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-4 w-4 mr-1 text-green-500"})," Free Shipping"]})]})]})]}),L&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-love-pink/30 p-6 max-w-sm w-full mx-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-love-dark mb-2",children:"Add to cart?"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['Add "',s.name,'"',i>1?` (x${i})`:""," to your cart?"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 text-sm",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>{T(s,i,o),w(!0),f(!1),setTimeout(()=>w(!1),2e3)},className:"px-4 py-2 rounded-lg bg-love-red text-white hover:bg-red-700 text-sm",children:"Confirm"})]})]})})]}):e.jsxs("div",{className:"min-h-[50vh] flex flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Product not found"}),e.jsx(C,{to:"/products",className:"mt-4 text-love-red hover:underline",children:"Return to Shop"})]})}export{Y as default};
